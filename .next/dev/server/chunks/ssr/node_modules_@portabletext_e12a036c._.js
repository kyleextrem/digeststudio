module.exports = [
"[project]/node_modules/@portabletext/toolkit/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "LIST_NEST_MODE_DIRECT",
    ()=>LIST_NEST_MODE_DIRECT,
    "LIST_NEST_MODE_HTML",
    ()=>LIST_NEST_MODE_HTML,
    "buildMarksTree",
    ()=>buildMarksTree,
    "isPortableTextBlock",
    ()=>isPortableTextBlock,
    "isPortableTextListItemBlock",
    ()=>isPortableTextListItemBlock,
    "isPortableTextSpan",
    ()=>isPortableTextSpan,
    "isPortableTextToolkitList",
    ()=>isPortableTextToolkitList,
    "isPortableTextToolkitSpan",
    ()=>isPortableTextToolkitSpan,
    "isPortableTextToolkitTextNode",
    ()=>isPortableTextToolkitTextNode,
    "nestLists",
    ()=>nestLists,
    "sortMarksByOccurences",
    ()=>sortMarksByOccurences,
    "spanToPlainText",
    ()=>spanToPlainText,
    "toPlainText",
    ()=>toPlainText
]);
function isPortableTextSpan(node) {
    return node._type === "span" && "text" in node && typeof node.text == "string" && (node.marks === void 0 || Array.isArray(node.marks) && node.marks.every((mark)=>typeof mark == "string"));
}
function isPortableTextBlock(node) {
    return typeof node._type == "string" && node._type[0] !== "@" && (!("markDefs" in node) || !node.markDefs || Array.isArray(node.markDefs) && node.markDefs.every((def)=>typeof def._key == "string")) && "children" in node && Array.isArray(node.children) && node.children.every((child)=>typeof child == "object" && "_type" in child);
}
function isPortableTextListItemBlock(block) {
    return isPortableTextBlock(block) && "listItem" in block && typeof block.listItem == "string" && (block.level === void 0 || typeof block.level == "number");
}
function isPortableTextToolkitList(block) {
    return block._type === "@list";
}
function isPortableTextToolkitSpan(span) {
    return span._type === "@span";
}
function isPortableTextToolkitTextNode(node) {
    return node._type === "@text";
}
const knownDecorators = [
    "strong",
    "em",
    "code",
    "underline",
    "strike-through"
];
function sortMarksByOccurences(span, index, blockChildren) {
    if (!isPortableTextSpan(span) || !span.marks || !span.marks.length) return [];
    let marks = span.marks.slice(), occurences = {};
    return marks.forEach((mark)=>{
        occurences[mark] = 1;
        for(let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++){
            let sibling = blockChildren[siblingIndex];
            if (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) occurences[mark]++;
            else break;
        }
    }), marks.sort((markA, markB)=>sortMarks(occurences, markA, markB));
}
function sortMarks(occurences, markA, markB) {
    let aOccurences = occurences[markA], bOccurences = occurences[markB];
    if (aOccurences !== bOccurences) return bOccurences - aOccurences;
    let aKnownPos = knownDecorators.indexOf(markA), bKnownPos = knownDecorators.indexOf(markB);
    return aKnownPos === bKnownPos ? markA.localeCompare(markB) : aKnownPos - bKnownPos;
}
function buildMarksTree(block) {
    let { children } = block, markDefs = block.markDefs ?? [];
    if (!children || !children.length) return [];
    let sortedMarks = children.map(sortMarksByOccurences), rootNode = {
        _type: "@span",
        children: [],
        markType: "<unknown>"
    }, nodeStack = [
        rootNode
    ];
    for(let i = 0; i < children.length; i++){
        let span = children[i];
        if (!span) continue;
        let marksNeeded = sortedMarks[i] || [], pos = 1;
        if (nodeStack.length > 1) for(; pos < nodeStack.length; pos++){
            let mark = nodeStack[pos]?.markKey || "", index = marksNeeded.indexOf(mark);
            if (index === -1) break;
            marksNeeded.splice(index, 1);
        }
        nodeStack = nodeStack.slice(0, pos);
        let currentNode = nodeStack[nodeStack.length - 1];
        if (currentNode) {
            for (let markKey of marksNeeded){
                let markDef = markDefs?.find((def)=>def._key === markKey), node = {
                    _type: "@span",
                    _key: span._key,
                    children: [],
                    markDef,
                    markType: markDef ? markDef._type : markKey,
                    markKey
                };
                currentNode.children.push(node), nodeStack.push(node), currentNode = node;
            }
            if (isPortableTextSpan(span)) {
                let lines = span.text.split("\n");
                for(let line = lines.length; line-- > 1;)lines.splice(line, 0, "\n");
                currentNode.children = currentNode.children.concat(lines.map((text)=>({
                        _type: "@text",
                        text
                    })));
            } else currentNode.children = currentNode.children.concat(span);
        }
    }
    return rootNode.children;
}
function nestLists(blocks, mode) {
    let tree = [], currentList;
    for(let i = 0; i < blocks.length; i++){
        let block = blocks[i];
        if (block) {
            if (!isPortableTextListItemBlock(block)) {
                tree.push(block), currentList = void 0;
                continue;
            }
            if (!currentList) {
                currentList = listFromBlock(block, i, mode), tree.push(currentList);
                continue;
            }
            if (blockMatchesList(block, currentList)) {
                currentList.children.push(block);
                continue;
            }
            if ((block.level || 1) > currentList.level) {
                let newList = listFromBlock(block, i, mode);
                if (mode === "html") {
                    let lastListItem = currentList.children[currentList.children.length - 1], newLastChild = {
                        ...lastListItem,
                        children: [
                            ...lastListItem.children,
                            newList
                        ]
                    };
                    currentList.children[currentList.children.length - 1] = newLastChild;
                } else currentList.children.push(newList);
                currentList = newList;
                continue;
            }
            if ((block.level || 1) < currentList.level) {
                let matchingBranch = tree[tree.length - 1], match = matchingBranch && findListMatching(matchingBranch, block);
                if (match) {
                    currentList = match, currentList.children.push(block);
                    continue;
                }
                currentList = listFromBlock(block, i, mode), tree.push(currentList);
                continue;
            }
            if (block.listItem !== currentList.listItem) {
                let matchingBranch = tree[tree.length - 1], match = matchingBranch && findListMatching(matchingBranch, {
                    level: block.level || 1
                });
                if (match && match.listItem === block.listItem) {
                    currentList = match, currentList.children.push(block);
                    continue;
                } else {
                    currentList = listFromBlock(block, i, mode), tree.push(currentList);
                    continue;
                }
            }
            console.warn("Unknown state encountered for block", block), tree.push(block);
        }
    }
    return tree;
}
function blockMatchesList(block, list) {
    return (block.level || 1) === list.level && block.listItem === list.listItem;
}
function listFromBlock(block, index, mode) {
    return {
        _type: "@list",
        _key: `${block._key || `${index}`}-parent`,
        mode,
        level: block.level || 1,
        listItem: block.listItem,
        children: [
            block
        ]
    };
}
function findListMatching(rootNode, matching) {
    let level = matching.level || 1, style = matching.listItem || "normal", filterOnType = typeof matching.listItem == "string";
    if (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || "normal") === style) return rootNode;
    if (!("children" in rootNode)) return;
    let node = rootNode.children[rootNode.children.length - 1];
    return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;
}
function spanToPlainText(span) {
    let text = "";
    return span.children.forEach((current)=>{
        isPortableTextToolkitTextNode(current) ? text += current.text : isPortableTextToolkitSpan(current) && (text += spanToPlainText(current));
    }), text;
}
const leadingSpace = /^\s/, trailingSpace = /\s$/;
function toPlainText(block) {
    let blocks = Array.isArray(block) ? block : [
        block
    ], text = "";
    return blocks.forEach((current, index)=>{
        if (!isPortableTextBlock(current)) return;
        let pad = !1;
        current.children.forEach((span)=>{
            isPortableTextSpan(span) ? (text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? " " : "", text += span.text, pad = !1) : pad = !0;
        }), index !== blocks.length - 1 && (text += "\n\n");
    }), text;
}
const LIST_NEST_MODE_HTML = "html", LIST_NEST_MODE_DIRECT = "direct";
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/react/dist/index.js [app-ssr] (ecmascript) <locals>", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PortableText",
    ()=>PortableText,
    "defaultComponents",
    ()=>defaultComponents,
    "mergeComponents",
    ()=>mergeComponents
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/toolkit/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
;
const defaultLists = {
    number: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("ol", {
            children
        }),
    bullet: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("ul", {
            children
        })
}, DefaultListItem = ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("li", {
        children
    }), link = ({ children, value })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("a", {
        href: value?.href,
        children
    }), underlineStyle = {
    textDecoration: "underline"
}, defaultMarks = {
    em: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("em", {
            children
        }),
    strong: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("strong", {
            children
        }),
    code: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("code", {
            children
        }),
    underline: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("span", {
            style: underlineStyle,
            children
        }),
    "strike-through": ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("del", {
            children
        }),
    link
}, getTemplate = (type, prop)=>`[@portabletext/react] Unknown ${type}, specify a component for it in the \`components.${prop}\` prop`, unknownTypeWarning = (typeName)=>getTemplate(`block type "${typeName}"`, "types"), unknownMarkWarning = (markType)=>getTemplate(`mark type "${markType}"`, "marks"), unknownBlockStyleWarning = (blockStyle)=>getTemplate(`block style "${blockStyle}"`, "block"), unknownListStyleWarning = (listStyle)=>getTemplate(`list style "${listStyle}"`, "list"), unknownListItemStyleWarning = (listStyle)=>getTemplate(`list item style "${listStyle}"`, "listItem");
function printWarning(message) {
    console.warn(message);
}
const hidden = {
    display: "none"
}, defaultComponents = {
    types: {},
    block: {
        normal: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("p", {
                children
            }),
        blockquote: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("blockquote", {
                children
            }),
        h1: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h1", {
                children
            }),
        h2: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h2", {
                children
            }),
        h3: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h3", {
                children
            }),
        h4: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h4", {
                children
            }),
        h5: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h5", {
                children
            }),
        h6: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("h6", {
                children
            })
    },
    marks: defaultMarks,
    list: defaultLists,
    listItem: DefaultListItem,
    hardBreak: ()=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("br", {}),
    unknownType: ({ value, isInline })=>{
        let warning = unknownTypeWarning(value._type);
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(isInline ? "span" : "div", {
            style: hidden,
            children: warning
        });
    },
    unknownMark: ({ markType, children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("span", {
            className: `unknown__pt__mark__${markType}`,
            children
        }),
    unknownList: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("ul", {
            children
        }),
    unknownListItem: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("li", {
            children
        }),
    unknownBlockStyle: ({ children })=>/* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])("p", {
            children
        })
};
function mergeComponents(parent, overrides) {
    let { block: _block, list: _list, listItem: _listItem, marks: _marks, types: _types, ...rest } = overrides;
    return {
        ...parent,
        block: mergeDeeply(parent, overrides, "block"),
        list: mergeDeeply(parent, overrides, "list"),
        listItem: mergeDeeply(parent, overrides, "listItem"),
        marks: mergeDeeply(parent, overrides, "marks"),
        types: mergeDeeply(parent, overrides, "types"),
        ...rest
    };
}
function mergeDeeply(parent, overrides, key) {
    let override = overrides[key], parentVal = parent[key];
    return typeof override == "function" || override && typeof parentVal == "function" ? override : override ? {
        ...parentVal,
        ...override
    } : parentVal;
}
function PortableText({ value: input, components: componentOverrides, listNestingMode, onMissingComponent: missingComponentHandler = printWarning }) {
    let handleMissingComponent = missingComponentHandler || noop, nested = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["nestLists"])(Array.isArray(input) ? input : [
        input
    ], listNestingMode || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["LIST_NEST_MODE_HTML"]), components = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents, [
        componentOverrides
    ]), renderNode = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useMemo"])(()=>getNodeRenderer(components, handleMissingComponent), [
        components,
        handleMissingComponent
    ]);
    return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: nested.map((node, index)=>renderNode({
                node,
                index,
                isInline: !1,
                renderNode
            }))
    });
}
const getNodeRenderer = (components, handleMissingComponent)=>{
    function renderNode(options) {
        let { node, index, isInline } = options, key = node._key || `node-${index}`;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitList"])(node) ? renderList(node, index, key) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextListItemBlock"])(node) ? renderListItem(node, index, key) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitSpan"])(node) ? renderSpan(node, index, key) : hasCustomComponentForNode(node) ? renderCustomBlock(node, index, key, isInline) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextBlock"])(node) ? renderBlock(node, index, key, isInline) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitTextNode"])(node) ? renderText(node, key) : renderUnknownType(node, index, key, isInline);
    }
    function hasCustomComponentForNode(node) {
        return node._type in components.types;
    }
    function renderListItem(node, index, key) {
        let tree = serializeBlock({
            node,
            index,
            isInline: !1,
            renderNode
        }), renderer = components.listItem, Li = (typeof renderer == "function" ? renderer : renderer[node.listItem]) || components.unknownListItem;
        if (Li === components.unknownListItem) {
            let style = node.listItem || "bullet";
            handleMissingComponent(unknownListItemStyleWarning(style), {
                type: style,
                nodeType: "listItemStyle"
            });
        }
        let children = tree.children;
        if (node.style && node.style !== "normal") {
            let { listItem: _listItem, ...blockNode } = node;
            children = renderNode({
                node: blockNode,
                index,
                isInline: !1,
                renderNode
            });
        }
        return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Li, {
            value: node,
            index,
            isInline: !1,
            renderNode,
            children
        }, key);
    }
    function renderList(node, index, key) {
        let children = node.children.map((child, childIndex)=>renderNode({
                node: child._key ? child : {
                    ...child,
                    _key: `li-${index}-${childIndex}`
                },
                index: childIndex,
                isInline: !1,
                renderNode
            })), component = components.list, List = (typeof component == "function" ? component : component[node.listItem]) || components.unknownList;
        if (List === components.unknownList) {
            let style = node.listItem || "bullet";
            handleMissingComponent(unknownListStyleWarning(style), {
                nodeType: "listStyle",
                type: style
            });
        }
        return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(List, {
            value: node,
            index,
            isInline: !1,
            renderNode,
            children
        }, key);
    }
    function renderSpan(node, _index, key) {
        let { markDef, markType, markKey } = node, Span = components.marks[markType] || components.unknownMark, children = node.children.map((child, childIndex)=>renderNode({
                node: child,
                index: childIndex,
                isInline: !0,
                renderNode
            }));
        return Span === components.unknownMark && handleMissingComponent(unknownMarkWarning(markType), {
            nodeType: "mark",
            type: markType
        }), /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Span, {
            text: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanToPlainText"])(node),
            value: markDef,
            markType,
            markKey,
            renderNode,
            children
        }, key);
    }
    function renderBlock(node, index, key, isInline) {
        let { _key, ...props } = serializeBlock({
            node,
            index,
            isInline,
            renderNode
        }), style = props.node.style || "normal", Block = (typeof components.block == "function" ? components.block : components.block[style]) || components.unknownBlockStyle;
        return Block === components.unknownBlockStyle && handleMissingComponent(unknownBlockStyleWarning(style), {
            nodeType: "blockStyle",
            type: style
        }), /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Block, {
            ...props,
            value: props.node,
            renderNode
        }, key);
    }
    function renderText(node, key) {
        if (node.text === "\n") {
            let HardBreak = components.hardBreak;
            return HardBreak ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(HardBreak, {}, key) : "\n";
        }
        return node.text;
    }
    function renderUnknownType(node, index, key, isInline) {
        let nodeOptions = {
            value: node,
            isInline,
            index,
            renderNode
        };
        handleMissingComponent(unknownTypeWarning(node._type), {
            nodeType: "block",
            type: node._type
        });
        let UnknownType = components.unknownType;
        return /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(UnknownType, {
            ...nodeOptions
        }, key);
    }
    function renderCustomBlock(node, index, key, isInline) {
        let nodeOptions = {
            value: node,
            isInline,
            index,
            renderNode
        }, Node = components.types[node._type];
        return Node ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(Node, {
            ...nodeOptions
        }, key) : null;
    }
    return renderNode;
};
function serializeBlock(options) {
    let { node, index, isInline, renderNode } = options, children = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["buildMarksTree"])(node).map((child, i)=>renderNode({
            node: child,
            isInline: !0,
            index: i,
            renderNode
        }));
    return {
        _key: node._key || `block-${index}`,
        children,
        index,
        isInline,
        node
    };
}
function noop() {}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/schema/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "compileSchema",
    ()=>compileSchema,
    "defineSchema",
    ()=>defineSchema,
    "isSpan",
    ()=>isSpan,
    "isTextBlock",
    ()=>isTextBlock,
    "isTypedObject",
    ()=>isTypedObject
]);
function compileSchema(definition) {
    const styles = (definition.styles ?? []).map((style)=>({
            ...style,
            value: style.name
        })), blockFields = [];
    if (definition.block?.fields) for (const field of definition.block.fields){
        if (field.name === "_type" || field.name === "_key" || field.name === "children" || field.name === "markDefs" || field.name === "style" || field.name === "listItem" || field.name === "level") {
            console.warn(`"${field.name}" is a reserved field name on Portable Text blocks`);
            continue;
        }
        blockFields.push(field);
    }
    return {
        block: {
            name: definition.block?.name ?? "block",
            ...blockFields.length > 0 ? {
                fields: blockFields
            } : {}
        },
        span: {
            name: "span"
        },
        styles: styles.some((style)=>style.value === "normal") ? styles : [
            {
                value: "normal",
                name: "normal",
                title: "Normal"
            },
            ...styles
        ],
        lists: (definition.lists ?? []).map((list)=>({
                ...list,
                value: list.name
            })),
        decorators: (definition.decorators ?? []).map((decorator)=>({
                ...decorator,
                value: decorator.name
            })),
        annotations: (definition.annotations ?? []).map((annotation)=>({
                ...annotation,
                fields: annotation.fields ?? []
            })),
        blockObjects: (definition.blockObjects ?? []).map((blockObject)=>({
                ...blockObject,
                fields: blockObject.fields ?? []
            })),
        inlineObjects: (definition.inlineObjects ?? []).map((inlineObject)=>({
                ...inlineObject,
                fields: inlineObject.fields ?? []
            }))
    };
}
function defineSchema(definition) {
    return definition;
}
function isTypedObject(object) {
    return isRecord(object) && typeof object._type == "string";
}
function isRecord(value) {
    return !!value && (typeof value == "object" || typeof value == "function");
}
function isTextBlock(context, block) {
    return !(!isTypedObject(block) || block._type !== context.schema.block.name || !Array.isArray(block.children));
}
function isSpan(context, child) {
    return !(!isTypedObject(child) || child._type !== context.schema.span.name || typeof child.text != "string");
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/sanity-bridge/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "compileSchemaDefinitionToPortableTextMemberSchemaTypes",
    ()=>compileSchemaDefinitionToPortableTextMemberSchemaTypes,
    "createPortableTextMemberSchemaTypes",
    ()=>createPortableTextMemberSchemaTypes,
    "portableTextMemberSchemaTypesToSchema",
    ()=>portableTextMemberSchemaTypesToSchema,
    "sanitySchemaToPortableTextSchema",
    ()=>sanitySchemaToPortableTextSchema
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$schema$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@sanity/schema/lib/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$schema$2f$lib$2f$_internal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@sanity/schema/lib/_internal.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$types$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sanity/types/lib/index.js [app-ssr] (ecmascript)");
;
;
;
function createPortableTextMemberSchemaTypes(portableTextType) {
    if (!portableTextType) throw new Error("Parameter 'portabletextType' missing (required)");
    const blockType = portableTextType.of?.find(findBlockType);
    if (!blockType) throw new Error("Block type is not defined in this schema (required)");
    const childrenField = blockType.fields?.find((field)=>field.name === "children");
    if (!childrenField) throw new Error("Children field for block type found in schema (required)");
    const ofType = childrenField.type.of;
    if (!ofType) throw new Error("Valid types for block children not found in schema (required)");
    const spanType = ofType.find((memberType)=>memberType.name === "span");
    if (!spanType) throw new Error("Span type not found in schema (required)");
    const inlineObjectTypes = ofType.filter((memberType)=>memberType.name !== "span") || [], blockObjectTypes = portableTextType.of?.filter((field)=>field.name !== blockType.name) || [];
    return {
        styles: resolveEnabledStyles(blockType),
        decorators: resolveEnabledDecorators(spanType),
        lists: resolveEnabledListItems(blockType),
        block: blockType,
        span: spanType,
        portableText: portableTextType,
        inlineObjects: inlineObjectTypes,
        blockObjects: blockObjectTypes,
        annotations: spanType.annotations
    };
}
function resolveEnabledStyles(blockType) {
    const styleField = blockType.fields?.find((btField)=>btField.name === "style");
    if (!styleField) throw new Error("A field with name 'style' is not defined in the block type (required).");
    const textStyles = styleField.type.options?.list && styleField.type.options.list?.filter((style)=>style.value);
    if (!textStyles || textStyles.length === 0) throw new Error("The style fields need at least one style defined. I.e: {title: 'Normal', value: 'normal'}.");
    return textStyles;
}
function resolveEnabledDecorators(spanType) {
    return spanType.decorators;
}
function resolveEnabledListItems(blockType) {
    const listField = blockType.fields?.find((btField)=>btField.name === "listItem");
    if (!listField) throw new Error("A field with name 'listItem' is not defined in the block type (required).");
    const listItems = listField.type.options?.list && listField.type.options.list.filter((list)=>list.value);
    if (!listItems) throw new Error("The list field need at least to be an empty array");
    return listItems;
}
function findBlockType(type) {
    return type.type ? findBlockType(type.type) : type.name === "block" ? type : null;
}
function portableTextMemberSchemaTypesToSchema(schema) {
    return {
        annotations: schema.annotations.map((annotation)=>({
                name: annotation.name,
                fields: annotation.fields.map((field)=>({
                        name: field.name,
                        type: field.type.jsonType,
                        title: field.type.title
                    })),
                title: annotation.title
            })),
        block: {
            name: schema.block.name
        },
        blockObjects: schema.blockObjects.map((blockObject)=>({
                name: blockObject.name,
                fields: blockObject.fields.map((field)=>({
                        name: field.name,
                        type: field.type.jsonType,
                        title: field.type.title
                    })),
                title: blockObject.title
            })),
        decorators: schema.decorators.map((decorator)=>({
                name: decorator.value,
                title: decorator.title,
                value: decorator.value
            })),
        inlineObjects: schema.inlineObjects.map((inlineObject)=>({
                name: inlineObject.name,
                fields: inlineObject.fields.map((field)=>({
                        name: field.name,
                        type: field.type.jsonType,
                        title: field.type.title
                    })),
                title: inlineObject.title
            })),
        span: {
            name: schema.span.name
        },
        styles: schema.styles.map((style)=>({
                name: style.value,
                title: style.title,
                value: style.value
            })),
        lists: schema.lists.map((list)=>({
                name: list.value,
                title: list.title,
                value: list.value
            }))
    };
}
function sanitySchemaToPortableTextSchema(sanitySchema) {
    const portableTextMemberSchemaTypes = createPortableTextMemberSchemaTypes(sanitySchema.hasOwnProperty("jsonType") ? sanitySchema : compileType(sanitySchema));
    return portableTextMemberSchemaTypesToSchema(portableTextMemberSchemaTypes);
}
function compileType(rawType) {
    return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$schema$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Schema"].compile({
        name: "blockTypeSchema",
        types: [
            rawType,
            ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$schema$2f$lib$2f$_internal$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["builtinTypes"]
        ]
    }).get(rawType.name);
}
const keyGenerator = ()=>randomKey(12), getByteHexTable = /* @__PURE__ */ (()=>{
    let table;
    return ()=>{
        if (table) return table;
        table = [];
        for(let i = 0; i < 256; ++i)table[i] = (i + 256).toString(16).slice(1);
        return table;
    };
})();
function whatwgRNG(length = 16) {
    const rnds8 = new Uint8Array(length);
    return crypto.getRandomValues(rnds8), rnds8;
}
function randomKey(length) {
    const table = getByteHexTable();
    return whatwgRNG(length).reduce((str, n)=>str + table[n], "").slice(0, length);
}
function startCase(str) {
    return str.replace(/([a-z])([A-Z])/g, "$1 $2").replace(/[_-]+/g, " ").trim().split(/\s+/).filter(Boolean).map((word)=>word.charAt(0).toUpperCase() + word.slice(1)).join(" ");
}
const defaultObjectTitles = {
    image: "Image",
    url: "URL"
}, sanityBuiltinNames = /* @__PURE__ */ new Set([
    "file",
    "geopoint",
    "image",
    "slug",
    "url"
]);
function compileSchemaDefinitionToPortableTextMemberSchemaTypes(definition) {
    const blockObjectDefs = definition?.blockObjects ?? [], inlineObjectDefs = definition?.inlineObjects ?? [], blockObjectNameSet = new Set(blockObjectDefs.map((blockObject)=>blockObject.name)), inlineObjectNameSet = new Set(inlineObjectDefs.map((inlineObject)=>inlineObject.name)), temporaryBlockObjectNames = {}, temporaryInlineObjectNames = {}, blockObjectNames = {}, inlineObjectNames = {};
    for (const name of blockObjectNameSet)if (sanityBuiltinNames.has(name) || inlineObjectNameSet.has(name)) {
        const tmpName = `tmp-${keyGenerator()}-${name}`;
        temporaryBlockObjectNames[name] = tmpName, blockObjectNames[tmpName] = name;
    }
    for (const name of inlineObjectNameSet)if (sanityBuiltinNames.has(name) || blockObjectNameSet.has(name)) {
        const tmpName = `tmp-${keyGenerator()}-${name}`;
        temporaryInlineObjectNames[name] = tmpName, inlineObjectNames[tmpName] = name;
    }
    const blockObjects = blockObjectDefs.map((blockObject)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$types$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineType"])({
            type: "object",
            // Use temporary names to work around `SanitySchema.compile` adding
            // default fields to objects with certain names, and to avoid duplicate
            // type names when a type appears in both blockObjects and inlineObjects.
            name: temporaryBlockObjectNames[blockObject.name] ?? blockObject.name,
            title: blockObject.title === void 0 ? // This avoids the default title which is a title case of the object name
            defaultObjectTitles[blockObject.name] : blockObject.title,
            fields: blockObject.fields?.map((field)=>({
                    name: field.name,
                    type: field.type,
                    title: field.title ?? startCase(field.name)
                })) ?? []
        })), inlineObjects = inlineObjectDefs.map((inlineObject)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$types$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineType"])({
            type: "object",
            // Use temporary names to work around `SanitySchema.compile` adding
            // default fields to objects with certain names, and to avoid duplicate
            // type names when a type appears in both blockObjects and inlineObjects.
            name: temporaryInlineObjectNames[inlineObject.name] ?? inlineObject.name,
            title: inlineObject.title === void 0 ? // This avoids the default title which is a title case of the object name
            defaultObjectTitles[inlineObject.name] : inlineObject.title,
            fields: inlineObject.fields?.map((field)=>({
                    name: field.name,
                    type: field.type,
                    title: field.title ?? startCase(field.name)
                })) ?? []
        })), portableTextSchema = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$types$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineField"])({
        type: "array",
        name: "portable-text",
        of: [
            ...blockObjects.map((blockObject)=>({
                    type: blockObject.name
                })),
            {
                type: "block",
                name: "block",
                of: inlineObjects.map((inlineObject)=>({
                        type: inlineObject.name
                    })),
                marks: {
                    decorators: definition?.decorators?.map((decorator)=>({
                            title: decorator.title ?? startCase(decorator.name),
                            value: decorator.name
                        })) ?? [],
                    annotations: definition?.annotations?.map((annotation)=>({
                            name: annotation.name,
                            type: "object",
                            title: annotation.title,
                            fields: annotation.fields?.map((field)=>({
                                    name: field.name,
                                    title: field.title ?? startCase(field.name),
                                    type: field.type
                                })) ?? []
                        })) ?? []
                },
                lists: definition?.lists?.map((list)=>({
                        value: list.name,
                        title: list.title ?? startCase(list.name)
                    })) ?? [],
                styles: definition?.styles?.map((style)=>({
                        value: style.name,
                        title: style.title ?? startCase(style.name)
                    })) ?? []
            }
        ]
    }), schema = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$schema$2f$lib$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["Schema"].compile({
        types: [
            portableTextSchema,
            ...blockObjects,
            ...inlineObjects
        ]
    }).get("portable-text"), pteSchema = createPortableTextMemberSchemaTypes(schema);
    for (const blockObject of pteSchema.blockObjects){
        const originalName = blockObjectNames[blockObject.name];
        originalName !== void 0 && (blockObject.name = originalName, blockObject.type && (blockObject.type = {
            ...blockObject.type,
            name: originalName
        }));
    }
    for (const inlineObject of pteSchema.inlineObjects){
        const originalName = inlineObjectNames[inlineObject.name];
        originalName !== void 0 && (inlineObject.name = originalName, inlineObject.type && (inlineObject.type = {
            ...inlineObject.type,
            name: originalName
        }));
    }
    return pteSchema;
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/block-tools/lib/_chunks-es/helpers.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "BLOCK_DEFAULT_STYLE",
    ()=>BLOCK_DEFAULT_STYLE,
    "DEFAULT_BLOCK",
    ()=>DEFAULT_BLOCK,
    "DEFAULT_SPAN",
    ()=>DEFAULT_SPAN,
    "HTML_BLOCK_TAGS",
    ()=>HTML_BLOCK_TAGS,
    "HTML_DECORATOR_TAGS",
    ()=>HTML_DECORATOR_TAGS,
    "HTML_HEADER_TAGS",
    ()=>HTML_HEADER_TAGS,
    "HTML_LIST_CONTAINER_TAGS",
    ()=>HTML_LIST_CONTAINER_TAGS,
    "HTML_LIST_ITEM_TAGS",
    ()=>HTML_LIST_ITEM_TAGS,
    "HTML_SPAN_TAGS",
    ()=>HTML_SPAN_TAGS,
    "PRESERVE_WHITESPACE_TAGS",
    ()=>PRESERVE_WHITESPACE_TAGS,
    "defaultParseHtml",
    ()=>defaultParseHtml,
    "ensureRootIsBlocks",
    ()=>ensureRootIsBlocks,
    "flattenNestedBlocks",
    ()=>flattenNestedBlocks,
    "isElement",
    ()=>isElement,
    "isEqualMarks",
    ()=>isEqualMarks,
    "isMinimalBlock",
    ()=>isMinimalBlock,
    "isMinimalSpan",
    ()=>isMinimalSpan,
    "isNodeList",
    ()=>isNodeList,
    "isPlaceholderAnnotation",
    ()=>isPlaceholderAnnotation,
    "isPlaceholderDecorator",
    ()=>isPlaceholderDecorator,
    "resolveJsType",
    ()=>resolveJsType,
    "tagName",
    ()=>tagName
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/schema/dist/index.js [app-ssr] (ecmascript)");
;
const objectToString = Object.prototype.toString;
function resolveJsType(val) {
    switch(objectToString.call(val)){
        case "[object Function]":
            return "function";
        case "[object Date]":
            return "date";
        case "[object RegExp]":
            return "regexp";
        case "[object Arguments]":
            return "arguments";
        case "[object Array]":
            return "array";
        case "[object String]":
            return "string";
    }
    return val === null ? "null" : val === void 0 ? "undefined" : val && typeof val == "object" && "nodeType" in val && val.nodeType === 1 ? "element" : val === Object(val) ? "object" : typeof val;
}
function isEqualMarks(a, b) {
    if (!a || !b) return a === b;
    if (a.length !== b.length) return !1;
    for(let index = 0; index < a.length; index++)if (a[index] !== b[index]) return !1;
    return !0;
}
function isDeepEqual(data, other) {
    return isDeepEqualImplementation(data, other);
}
function isDeepEqualImplementation(data, other) {
    if (data === other || Object.is(data, other)) return !0;
    if (typeof data != "object" || typeof other != "object" || data === null || other === null || Object.getPrototypeOf(data) !== Object.getPrototypeOf(other)) return !1;
    if (Array.isArray(data)) return isDeepEqualArrays(data, other);
    if (data instanceof Map) return isDeepEqualMaps(data, other);
    if (data instanceof Set) return isDeepEqualSets(data, other);
    if (data instanceof Date) return data.getTime() === other.getTime();
    if (data instanceof RegExp) return data.toString() === other.toString();
    if (Object.keys(data).length !== Object.keys(other).length) return !1;
    for (const [key, value] of Object.entries(data))if (!(key in other) || !isDeepEqualImplementation(value, // @ts-expect-error [ts7053] - We already checked that `other` has `key`
    other[key])) return !1;
    return !0;
}
function isDeepEqualArrays(data, other) {
    if (data.length !== other.length) return !1;
    for (const [index, item] of data.entries())if (!isDeepEqualImplementation(item, other[index])) return !1;
    return !0;
}
function isDeepEqualMaps(data, other) {
    if (data.size !== other.size) return !1;
    for (const [key, value] of data.entries())if (!other.has(key) || !isDeepEqualImplementation(value, other.get(key))) return !1;
    return !0;
}
function isDeepEqualSets(data, other) {
    if (data.size !== other.size) return !1;
    const otherCopy = [
        ...other
    ];
    for (const dataItem of data){
        let isFound = !1;
        for (const [index, otherItem] of otherCopy.entries())if (isDeepEqualImplementation(dataItem, otherItem)) {
            isFound = !0, otherCopy.splice(index, 1);
            break;
        }
        if (!isFound) return !1;
    }
    return !0;
}
function isArbitraryTypedObject(object) {
    return isRecord(object) && typeof object._type == "string";
}
function isRecord(value) {
    return !!value && (typeof value == "object" || typeof value == "function");
}
function flattenNestedBlocks(context, blocks) {
    return blocks.flatMap((block)=>{
        if (isBlockContainer(block)) return flattenNestedBlocks(context, [
            block.block
        ]);
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])(context, block)) {
            const hasBlockObjects = block.children.some((child)=>context.schema.blockObjects.some((blockObject)=>blockObject.name === child._type)), hasBlocks = block.children.some((child)=>child._type === "__block" || child._type === "block");
            if (hasBlockObjects || hasBlocks) {
                const splitChildren = getSplitChildren(context, block);
                return splitChildren.length === 1 && splitChildren[0].type === "children" && isDeepEqual(splitChildren[0].children, block.children) ? [
                    block
                ] : splitChildren.flatMap((slice)=>slice.type === "block object" ? [
                        slice.block
                    ] : slice.type === "block" ? flattenNestedBlocks(context, [
                        slice.block
                    ]) : slice.children.length > 0 ? slice.children.every((child)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])(context, child) && child.text.trim() === "") ? [] : flattenNestedBlocks(context, [
                        {
                            ...block,
                            children: slice.children
                        }
                    ]) : []);
            }
            return [
                block
            ];
        }
        return [
            block
        ];
    });
}
function isBlockContainer(block) {
    return block._type === "__block" && isArbitraryTypedObject(block.block);
}
function getSplitChildren(context, block) {
    return block.children.reduce((slices, child)=>{
        const knownInlineObject = context.schema.inlineObjects.some((inlineObject)=>inlineObject.name === child._type), knownBlockObject = context.schema.blockObjects.some((blockObject)=>blockObject.name === child._type), lastSlice = slices.pop();
        return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])(context, child) && !knownInlineObject && knownBlockObject ? [
            ...slices,
            ...lastSlice ? [
                lastSlice
            ] : [],
            {
                type: "block object",
                block: child
            }
        ] : child._type === "__block" ? [
            ...slices,
            ...lastSlice ? [
                lastSlice
            ] : [],
            {
                type: "block object",
                block: child.block
            }
        ] : child._type === "block" ? [
            ...slices,
            ...lastSlice ? [
                lastSlice
            ] : [],
            {
                type: "block",
                block: child
            }
        ] : lastSlice && lastSlice.type === "children" ? [
            ...slices,
            {
                type: "children",
                children: [
                    ...lastSlice.children,
                    child
                ]
            }
        ] : [
            ...slices,
            ...lastSlice ? [
                lastSlice
            ] : [],
            {
                type: "children",
                children: [
                    child
                ]
            }
        ];
    }, []);
}
const PRESERVE_WHITESPACE_TAGS = [
    "pre",
    "textarea",
    "code"
], BLOCK_DEFAULT_STYLE = "normal", DEFAULT_BLOCK = Object.freeze({
    _type: "block",
    markDefs: [],
    style: BLOCK_DEFAULT_STYLE
}), DEFAULT_SPAN = Object.freeze({
    _type: "span",
    marks: []
}), HTML_BLOCK_TAGS = {
    p: DEFAULT_BLOCK,
    blockquote: {
        ...DEFAULT_BLOCK,
        style: "blockquote"
    }
}, HTML_SPAN_TAGS = {
    span: {
        object: "text"
    }
}, HTML_LIST_CONTAINER_TAGS = {
    ol: {
        object: null
    },
    ul: {
        object: null
    }
}, HTML_HEADER_TAGS = {
    h1: {
        ...DEFAULT_BLOCK,
        style: "h1"
    },
    h2: {
        ...DEFAULT_BLOCK,
        style: "h2"
    },
    h3: {
        ...DEFAULT_BLOCK,
        style: "h3"
    },
    h4: {
        ...DEFAULT_BLOCK,
        style: "h4"
    },
    h5: {
        ...DEFAULT_BLOCK,
        style: "h5"
    },
    h6: {
        ...DEFAULT_BLOCK,
        style: "h6"
    }
}, HTML_MISC_TAGS = {
    br: {
        ...DEFAULT_BLOCK,
        style: BLOCK_DEFAULT_STYLE
    }
}, HTML_DECORATOR_TAGS = {
    b: "strong",
    strong: "strong",
    i: "em",
    em: "em",
    u: "underline",
    s: "strike-through",
    strike: "strike-through",
    del: "strike-through",
    code: "code",
    sup: "sup",
    sub: "sub",
    ins: "ins",
    mark: "mark",
    small: "small"
}, HTML_LIST_ITEM_TAGS = {
    li: {
        ...DEFAULT_BLOCK,
        style: BLOCK_DEFAULT_STYLE,
        level: 1,
        listItem: "bullet"
    }
}, ELEMENT_MAP = {
    ...HTML_BLOCK_TAGS,
    ...HTML_SPAN_TAGS,
    ...HTML_LIST_CONTAINER_TAGS,
    ...HTML_LIST_ITEM_TAGS,
    ...HTML_HEADER_TAGS,
    ...HTML_MISC_TAGS
};
[
    ...new Set(Object.values(ELEMENT_MAP).filter((tag)=>"style" in tag).map((tag)=>tag.style))
];
[
    ...new Set(Object.values(HTML_DECORATOR_TAGS))
];
function tagName(el) {
    if (el && "tagName" in el) return el.tagName.toLowerCase();
}
function defaultParseHtml() {
    if (resolveJsType(DOMParser) === "undefined") throw new Error("The native `DOMParser` global which the `Html` deserializer uses by default is not present in this environment. You must supply the `options.parseHtml` function instead.");
    return (html)=>new DOMParser().parseFromString(html, "text/html");
}
function ensureRootIsBlocks(schema, objects) {
    return objects.reduce((blocks, node, i, original)=>{
        if (node._type === "block") return blocks.push(node), blocks;
        if (node._type === "__block") return blocks.push(node.block), blocks;
        const lastBlock = blocks[blocks.length - 1];
        if (i > 0 && !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])({
            schema
        }, original[i - 1]) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])({
            schema
        }, lastBlock)) return lastBlock.children.push(node), blocks;
        const block = {
            ...DEFAULT_BLOCK,
            children: [
                node
            ]
        };
        return blocks.push(block), blocks;
    }, []);
}
function isNodeList(node) {
    return Object.prototype.toString.call(node) === "[object NodeList]";
}
function isMinimalSpan(node) {
    return node._type === "span";
}
function isMinimalBlock(node) {
    return node._type === "block";
}
function isPlaceholderDecorator(node) {
    return node._type === "__decorator";
}
function isPlaceholderAnnotation(node) {
    return node._type === "__annotation";
}
function isElement(node) {
    return node.nodeType === 1;
}
;
 //# sourceMappingURL=helpers.js.map
}),
"[project]/node_modules/@portabletext/block-tools/lib/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "htmlToBlocks",
    ()=>htmlToBlocks,
    "normalizeBlock",
    ()=>normalizeBlock,
    "randomKey",
    ()=>randomKey
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$sanity$2d$bridge$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/sanity-bridge/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/schema/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/block-tools/lib/_chunks-es/helpers.js [app-ssr] (ecmascript)");
;
;
;
var l = {
    0: 8203,
    1: 8204,
    2: 8205,
    3: 8290,
    4: 8291,
    5: 8288,
    6: 65279,
    7: 8289,
    8: 119155,
    9: 119156,
    a: 119157,
    b: 119158,
    c: 119159,
    d: 119160,
    e: 119161,
    f: 119162
}, d = {
    0: 8203,
    1: 8204,
    2: 8205,
    3: 65279
}, a = {
    0: String.fromCodePoint(d[0]),
    1: String.fromCodePoint(d[1]),
    2: String.fromCodePoint(d[2]),
    3: String.fromCodePoint(d[3])
};
new Array(4).fill(String.fromCodePoint(d[0])).join("");
Object.fromEntries(Object.entries(a).map((t)=>[
        t[1],
        +t[0]
    ]));
Object.fromEntries(Object.entries(l).map((t)=>t.reverse()));
var _ = `${Object.values(l).map((t)=>`\\u{${t.toString(16)}}`).join("")}`, u = new RegExp(`[${_}]{4,}`, "gu");
function D(t) {
    var e;
    return {
        cleaned: t.replace(u, ""),
        encoded: ((e = t.match(u)) == null ? void 0 : e[0]) || ""
    };
}
function M(t) {
    return t && JSON.parse(D(JSON.stringify(t)).cleaned);
}
function keyGenerator() {
    return randomKey(12);
}
function whatwgRNG(length = 16) {
    const rnds8 = new Uint8Array(length);
    return crypto.getRandomValues(rnds8), rnds8;
}
const byteToHex = [];
for(let i = 0; i < 256; ++i)byteToHex[i] = (i + 256).toString(16).slice(1);
function randomKey(length) {
    return whatwgRNG(length).reduce((str, n)=>str + byteToHex[n], "").slice(0, length);
}
function isWordOnlineHtml(html) {
    return /class="(?:TextRun|NormalTextRun)[^"]*SCXW\d+[^"]*BCX\d+/.test(html) || /class="EOP[^"]*SCXW\d+/.test(html);
}
function isWordOnlineTextRun(el) {
    return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "span" ? !1 : el.classList.contains("TextRun") && !el.classList.contains("EOP");
}
function isNormalTextRun(el) {
    return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "span" ? !1 : el.classList.contains("NormalTextRun");
}
function isTextRunSpan(el) {
    return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "span" ? !1 : el.classList.contains("TextRun") && !el.classList.contains("NormalTextRun") && !el.classList.contains("EOP");
}
function isFindHit(el) {
    return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "span" ? !1 : el.classList.contains("FindHit");
}
function isInHeading(el) {
    let current = el;
    for(; current;){
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(current) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(current) === "word-online-block" && /^heading \d$/.test(current.getAttribute("data-parastyle") ?? "")) return !0;
        current = current.parentNode;
    }
    return !1;
}
function isInBlockquote(el) {
    let current = el;
    for(; current;){
        if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(current) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(current) === "word-online-block" && current.getAttribute("data-parastyle") === "Quote") return !0;
        current = current.parentNode;
    }
    return !1;
}
function hasStrongFormatting(el) {
    const style = el.getAttribute("style") ?? "";
    return el.classList.contains("MacChromeBold") || /font-weight\s*:\s*bold/.test(style);
}
function hasEmphasisFormatting(el) {
    const style = el.getAttribute("style") ?? "";
    return /font-style\s*:\s*italic/.test(style);
}
function hasUnderlineFormatting(el) {
    const style = el.getAttribute("style") ?? "";
    return el.classList.contains("Underlined") || /text-decoration\s*:\s*underline/.test(style);
}
function hasStrikethroughFormatting(el) {
    const style = el.getAttribute("style") ?? "";
    return el.classList.contains("Strikethrough") || /text-decoration\s*:\s*line-through/.test(style);
}
function hasFormatting(el) {
    return hasStrongFormatting(el) || hasEmphasisFormatting(el) || hasUnderlineFormatting(el) || hasStrikethroughFormatting(el);
}
function preprocessWordOnline(html, doc) {
    if (!isWordOnlineHtml(html)) return doc;
    const paragraphs = Array.from(doc.querySelectorAll('p.Paragraph[role="heading"]'));
    for (const paragraph of paragraphs){
        const ariaLevel = paragraph.getAttribute("aria-level");
        if (ariaLevel) {
            const wrapper = doc.createElement("word-online-block");
            wrapper.setAttribute("data-parastyle", `heading ${ariaLevel}`);
            const parent = paragraph.parentNode;
            if (parent) {
                for(parent.insertBefore(wrapper, paragraph); paragraph.firstChild;)wrapper.appendChild(paragraph.firstChild);
                parent.removeChild(paragraph);
            }
        }
    }
    let child = doc.body.firstChild;
    for(; child;){
        const next = child.nextSibling;
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(child) || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(child)?.includes("span")) {
            child = next;
            continue;
        }
        const paraStyle = getParaStyle(child);
        if (!paraStyle) {
            child = next;
            continue;
        }
        const group = [
            child
        ];
        let sibling = next;
        for(; sibling && !(!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(sibling) || getParaStyle(sibling) !== paraStyle);)group.push(sibling), sibling = sibling.nextSibling;
        const wrapper = doc.createElement("word-online-block");
        wrapper.setAttribute("data-parastyle", paraStyle), doc.body.insertBefore(wrapper, child);
        for (const span of group)wrapper.appendChild(span);
        child = sibling;
    }
    const textRunSpans = Array.from(doc.body.querySelectorAll("span")).filter(isTextRunSpan);
    for (const textRunSpan of textRunSpans){
        const normalTextRuns = Array.from(textRunSpan.childNodes).filter(isNormalTextRun);
        for (const normalTextRun of normalTextRuns){
            let foundNestedSpan = !0;
            for(; foundNestedSpan;){
                const children = Array.from(normalTextRun.childNodes), nestedSpanIndex = children.findIndex((node)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(node) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(node) === "span" && node.textContent.trim() === "");
                if (nestedSpanIndex === -1) {
                    foundNestedSpan = !1;
                    break;
                }
                const nestedSpan = children.at(nestedSpanIndex);
                if (!nestedSpan) {
                    foundNestedSpan = !1;
                    break;
                }
                const spaceText = nestedSpan.textContent?.replace(/\u00a0/g, " ") ?? "", isSpaceAtBeginning = !children.slice(0, nestedSpanIndex).some((n)=>n.nodeType === 3);
                if (normalTextRun.removeChild(nestedSpan), isSpaceAtBeginning) {
                    const firstTextNode = Array.from(normalTextRun.childNodes).find((n)=>n.nodeType === 3);
                    if (firstTextNode) firstTextNode.textContent = spaceText + (firstTextNode.textContent || "");
                    else {
                        const spaceNode = doc.createTextNode(spaceText);
                        normalTextRun.insertBefore(spaceNode, normalTextRun.firstChild);
                    }
                } else {
                    const nextSibling = textRunSpan.nextSibling, currentHasFormatting = hasFormatting(textRunSpan);
                    if (nextSibling && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(nextSibling) && isTextRunSpan(nextSibling)) {
                        const nextHasFormatting = hasFormatting(nextSibling);
                        if (currentHasFormatting && !nextHasFormatting) {
                            const nextNormalTextRun = Array.from(nextSibling.childNodes).find(isNormalTextRun);
                            if (nextNormalTextRun && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(nextNormalTextRun)) {
                                const firstChild = nextNormalTextRun.firstChild;
                                if (firstChild && firstChild.nodeType === 3) firstChild.textContent = spaceText + (firstChild.textContent ?? "");
                                else {
                                    const spaceNode = doc.createTextNode(spaceText);
                                    nextNormalTextRun.insertBefore(spaceNode, nextNormalTextRun.firstChild);
                                }
                            }
                        } else {
                            const lastTextNode = Array.from(normalTextRun.childNodes).find((n)=>n.nodeType === 3);
                            if (lastTextNode) lastTextNode.textContent = (lastTextNode.textContent ?? "") + spaceText;
                            else {
                                const spaceNode = doc.createTextNode(spaceText);
                                normalTextRun.appendChild(spaceNode);
                            }
                        }
                    } else {
                        const lastTextNode = Array.from(normalTextRun.childNodes).find((n)=>n.nodeType === 3);
                        if (lastTextNode) lastTextNode.textContent = (lastTextNode.textContent ?? "") + spaceText;
                        else {
                            const spaceNode = doc.createTextNode(spaceText);
                            normalTextRun.appendChild(spaceNode);
                        }
                    }
                }
            }
        }
    }
    return doc;
}
function getParaStyle(element) {
    const directStyle = element.getAttribute("data-ccp-parastyle");
    if (directStyle) return directStyle;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(element) === "span" && element.classList.contains("TextRun")) {
        const normalTextRuns = Array.from(element.querySelectorAll(".NormalTextRun"));
        if (normalTextRuns.length > 0) {
            const firstStyle = normalTextRuns[0].getAttribute("data-ccp-parastyle");
            if (firstStyle && normalTextRuns.every((normalTextRun)=>normalTextRun.getAttribute("data-ccp-parastyle") === firstStyle)) return firstStyle;
        }
    }
}
const _XPathResult = {
    BOOLEAN_TYPE: 3,
    ORDERED_NODE_ITERATOR_TYPE: 5,
    UNORDERED_NODE_SNAPSHOT_TYPE: 6
};
function preprocessGDocs(_html, doc) {
    let gDocsRootOrSiblingNode = doc.evaluate('//*[@id and contains(@id, "docs-internal-guid")]', doc, null, _XPathResult.ORDERED_NODE_ITERATOR_TYPE, null).iterateNext();
    if (gDocsRootOrSiblingNode) {
        const isWrappedRootTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(gDocsRootOrSiblingNode) === "b";
        isWrappedRootTag || (gDocsRootOrSiblingNode = doc.body);
        const childNodes = doc.evaluate("//*", doc, null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
        for(let i = childNodes.snapshotLength - 1; i >= 0; i--){
            const elm = childNodes.snapshotItem(i);
            elm?.setAttribute("data-is-google-docs", "true"), (elm?.parentElement === gDocsRootOrSiblingNode || !isWrappedRootTag && elm.parentElement === doc.body) && (elm?.setAttribute("data-is-root-node", "true"), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(elm)), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(elm) === "li" && elm.firstChild && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(elm?.firstChild) === "img" && elm.removeChild(elm.firstChild);
        }
        return isWrappedRootTag && doc.body.firstElementChild?.replaceWith(...Array.from(gDocsRootOrSiblingNode.childNodes)), doc;
    }
    return doc;
}
const unwantedWordDocumentPaths = [
    "/html/text()",
    "/html/head/text()",
    "/html/body/text()",
    "/html/body/ul/text()",
    "/html/body/ol/text()",
    "//comment()",
    "//style",
    "//xml",
    "//script",
    "//meta",
    "//link"
];
function preprocessHTML(_html, doc) {
    const bodyTextNodes = doc.evaluate("/html/body/text()", doc, null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
    for(let i = bodyTextNodes.snapshotLength - 1; i >= 0; i--){
        const node = bodyTextNodes.snapshotItem(i), text = node.textContent || "";
        if (text.replace(/[^\S\n]+$/g, "")) {
            const newNode = doc.createElement("span");
            newNode.appendChild(doc.createTextNode(text)), node.parentNode?.replaceChild(newNode, node);
        } else node.parentNode?.removeChild(node);
    }
    const unwantedNodes = doc.evaluate(unwantedWordDocumentPaths.join("|"), doc, null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
    for(let i = unwantedNodes.snapshotLength - 1; i >= 0; i--){
        const unwanted = unwantedNodes.snapshotItem(i);
        unwanted && unwanted.parentNode?.removeChild(unwanted);
    }
    return doc;
}
function preprocessNotion(html, doc) {
    const NOTION_REGEX = /<!-- notionvc:.*?-->/g;
    if (html.match(NOTION_REGEX)) {
        const childNodes = doc.evaluate("//*", doc, null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
        for(let i = childNodes.snapshotLength - 1; i >= 0; i--)childNodes.snapshotItem(i)?.setAttribute("data-is-notion", "true");
        return doc;
    }
    return doc;
}
const BLOCK_CONTAINER_ELEMENTS = [
    "body",
    "table",
    "tbody",
    "thead",
    "tfoot",
    "tr",
    "ul",
    "ol"
];
function preprocessWhitespace(_2, doc) {
    function processNode(node) {
        if (node.nodeType === _XPathResult.BOOLEAN_TYPE && !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["PRESERVE_WHITESPACE_TAGS"].includes(node.parentElement?.tagName.toLowerCase() || "")) {
            const normalized = node.textContent?.replace(/\s\s+/g, " ").replace(/[\r\n]+/g, " ") || "", parentTag = node.parentElement?.tagName.toLowerCase();
            parentTag && BLOCK_CONTAINER_ELEMENTS.includes(parentTag) && normalized.trim() === "" ? node.parentNode?.removeChild(node) : node.textContent = normalized;
        } else for(let i = node.childNodes.length - 1; i >= 0; i--)processNode(node.childNodes[i]);
    }
    return processNode(doc.body), doc;
}
const WORD_HTML_REGEX = /(class="?Mso|style=(?:"|')[^"]*?\bmso-|w:WordDocument|<o:\w+>|<\/font>)/, unwantedPaths = [
    "//o:p",
    "//span[@style='mso-list:Ignore']",
    "//span[@style='mso-list: Ignore']"
], mappedPaths = [
    "//p[@class='MsoTocHeading']",
    "//p[@class='MsoTitle']",
    "//p[@class='MsoToaHeading']",
    "//p[@class='MsoSubtitle']",
    "//span[@class='MsoSubtleEmphasis']",
    "//span[@class='MsoIntenseEmphasis']"
], elementMap = {
    MsoTocHeading: [
        "h3"
    ],
    MsoTitle: [
        "h1"
    ],
    MsoToaHeading: [
        "h2"
    ],
    MsoSubtitle: [
        "h5"
    ],
    MsoSubtleEmphasis: [
        "span",
        "em"
    ],
    MsoIntenseEmphasis: [
        "span",
        "em",
        "strong"
    ]
};
function isWordHtml(html) {
    return WORD_HTML_REGEX.test(html);
}
function preprocessWord(html, doc) {
    if (!isWordHtml(html)) return doc;
    const unwantedNodes = doc.evaluate(unwantedPaths.join("|"), doc, (prefix)=>prefix === "o" ? "urn:schemas-microsoft-com:office:office" : null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
    for(let i = unwantedNodes.snapshotLength - 1; i >= 0; i--){
        const unwanted = unwantedNodes.snapshotItem(i);
        unwanted?.parentNode && unwanted.parentNode.removeChild(unwanted);
    }
    const mappedElements = doc.evaluate(mappedPaths.join("|"), doc, null, _XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);
    for(let i = mappedElements.snapshotLength - 1; i >= 0; i--){
        const mappedElm = mappedElements.snapshotItem(i), tags = elementMap[mappedElm.className], text = doc.createTextNode(mappedElm.textContent || "");
        if (!tags) continue;
        const parentElement = doc.createElement(tags[0]);
        let parent = parentElement, child = parentElement;
        tags.slice(1).forEach((tag)=>{
            child = doc.createElement(tag), parent.appendChild(child), parent = child;
        }), child.appendChild(text), mappedElm?.parentNode?.replaceChild(parentElement, mappedElm);
    }
    return doc;
}
const preprocessors = [
    preprocessWhitespace,
    preprocessNotion,
    preprocessWord,
    preprocessWordOnline,
    preprocessGDocs,
    preprocessHTML
];
function mapParaStyleToBlockStyle(schema, paraStyle) {
    const blockStyle = {
        "heading 1": "h1",
        "heading 2": "h2",
        "heading 3": "h3",
        "heading 4": "h4",
        "heading 5": "h5",
        "heading 6": "h6",
        Quote: "blockquote"
    }[paraStyle] ?? "normal";
    return schema.styles.find((style)=>style.name === blockStyle)?.name;
}
function createWordOnlineRules(schema, options) {
    return [
        // Image rule - handles bare Word Online <img> tags with WACImage class
        {
            deserialize (el) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "img") return;
                const classNameRaw = el.className;
                let className = "";
                if (typeof classNameRaw == "string" ? className = classNameRaw : classNameRaw && typeof classNameRaw == "object" && (className = classNameRaw.baseVal || ""), !className.includes("WACImage")) return;
                const src = el.getAttribute("src") ?? void 0, alt = el.getAttribute("alt") ?? void 0, props = Object.fromEntries(Array.from(el.attributes).map((attr)=>[
                        attr.name,
                        attr.value
                    ])), image = options.matchers?.image?.({
                    context: {
                        schema,
                        keyGenerator: options.keyGenerator ?? keyGenerator
                    },
                    props: {
                        ...props,
                        ...src ? {
                            src
                        } : {},
                        ...alt ? {
                            alt
                        } : {}
                    }
                });
                if (image) return {
                    _type: "__block",
                    block: image
                };
            }
        },
        // Image rule - handles Word Online images wrapped in WACImageContainer
        {
            deserialize (el) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el)) return;
                const classNameRaw = el.className;
                let className = "";
                if (typeof classNameRaw == "string" ? className = classNameRaw : classNameRaw && typeof classNameRaw == "object" && (className = classNameRaw.baseVal || ""), !className.includes("WACImageContainer")) return;
                const img = el.querySelector("img");
                if (!img) return;
                const src = img.getAttribute("src") ?? void 0, alt = img.getAttribute("alt") ?? void 0, props = Object.fromEntries(Array.from(img.attributes).map((attr)=>[
                        attr.name,
                        attr.value
                    ])), isInsideListItem = el.closest("li") !== null;
                if (el.closest("p") === null || isInsideListItem) {
                    const inlineImage = options.matchers?.inlineImage?.({
                        context: {
                            schema,
                            keyGenerator: options.keyGenerator ?? keyGenerator
                        },
                        props: {
                            ...props,
                            ...src ? {
                                src
                            } : {},
                            ...alt ? {
                                alt
                            } : {}
                        }
                    });
                    if (inlineImage) return inlineImage;
                }
                const image = options.matchers?.image?.({
                    context: {
                        schema,
                        keyGenerator: options.keyGenerator ?? keyGenerator
                    },
                    props: {
                        ...props,
                        ...src ? {
                            src
                        } : {},
                        ...alt ? {
                            alt
                        } : {}
                    }
                });
                if (image) return {
                    _type: "__block",
                    block: image
                };
            }
        },
        // List item rule - handles <li> elements with aria-level
        {
            deserialize (el, next) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "li") return;
                const ariaLevel = el.getAttribute("data-aria-level");
                if (!ariaLevel) return;
                const listItem = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode) === "ol" ? "number" : "bullet";
                let childNodesToProcess = el.childNodes, blockStyle = "normal";
                if (el.childNodes.length === 1 && el.firstChild && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el.firstChild)) {
                    const childTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.firstChild);
                    if (childTag && (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_BLOCK_TAGS"][childTag] || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"][childTag] || childTag === "word-online-block")) {
                        if (childTag === "word-online-block") {
                            const paraStyle = el.firstChild.getAttribute("data-parastyle"), foundBlockStyle = paraStyle ? mapParaStyleToBlockStyle(schema, paraStyle) : void 0;
                            foundBlockStyle && (blockStyle = foundBlockStyle);
                        }
                        childNodesToProcess = el.firstChild.childNodes;
                    }
                }
                const children = next(childNodesToProcess);
                let childArray = Array.isArray(children) ? children : [
                    children
                ].filter(Boolean);
                for(; childArray.length > 0;){
                    const lastChild = childArray[childArray.length - 1];
                    if (lastChild && typeof lastChild == "object" && "text" in lastChild) {
                        const text = lastChild.text.trimEnd();
                        if (text === "") childArray = childArray.slice(0, -1);
                        else if (text !== lastChild.text) {
                            lastChild.text = text;
                            break;
                        } else break;
                    } else break;
                }
                return {
                    _type: schema.block.name,
                    children: childArray,
                    markDefs: [],
                    style: blockStyle,
                    listItem,
                    level: parseInt(ariaLevel, 10)
                };
            }
        },
        // Block style rule - handles paragraph styles like Quote
        // The preprocessor wraps grouped NormalTextRun spans in a word-online-block element
        {
            deserialize (el, next) {
                if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el)) return;
                const paraStyle = el.getAttribute("data-parastyle"), blockStyle = paraStyle ? mapParaStyleToBlockStyle(schema, paraStyle) : void 0;
                if (!blockStyle) return;
                const children = next(el.childNodes);
                return {
                    _type: schema.block.name,
                    style: blockStyle,
                    markDefs: [],
                    children: Array.isArray(children) ? children : children ? [
                        children
                    ] : []
                };
            }
        },
        // TextRun rule
        {
            deserialize (el) {
                if (isWordOnlineTextRun(el)) {
                    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || !el.textContent) return;
                    const text = Array.from(el.childNodes).filter((node)=>isNormalTextRun(node) || isFindHit(node)).map((span2)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(span2) ? span2.textContent ?? "" : "").join("");
                    if (!text) return;
                    const span = {
                        ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                        marks: [],
                        text
                    };
                    if (hasStrongFormatting(el) && span.marks.push("strong"), hasEmphasisFormatting(el) && !isInHeading(el) && !isInBlockquote(el) && span.marks.push("em"), hasUnderlineFormatting(el)) if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.parentElement && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentElement) === "a") {
                        const linkElement = el.parentElement;
                        if (linkElement) {
                            const prevSibling = linkElement.previousSibling, nextSibling = linkElement.nextSibling, hasPrevUnderline = prevSibling && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(prevSibling) && hasUnderlineFormatting(prevSibling), hasNextUnderline = nextSibling && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(nextSibling) && hasUnderlineFormatting(nextSibling);
                            (hasPrevUnderline || hasNextUnderline) && span.marks.push("underline");
                        }
                    } else span.marks.push("underline");
                    return hasStrikethroughFormatting(el) && span.marks.push("strike-through"), span;
                }
            }
        }
    ];
}
const LIST_CONTAINER_TAGS = Object.keys(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_LIST_CONTAINER_TAGS"]);
function isEmphasis$1(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /font-style\s*:\s*italic/.test(style || "");
}
function isStrong$1(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /font-weight\s*:\s*700/.test(style || "");
}
function isUnderline$1(el) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode) === "a") return !1;
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /text-decoration\s*:\s*underline/.test(style || "");
}
function isStrikethrough(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /text-decoration\s*:\s*(?:.*line-through.*;)/.test(style || "");
}
function isGoogleDocs(el) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && !!el.getAttribute("data-is-google-docs");
}
function isRootNode(el) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && !!el.getAttribute("data-is-root-node");
}
function getListItemStyle$1(el) {
    const parentTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode);
    if (!(parentTag && !LIST_CONTAINER_TAGS.includes(parentTag))) return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode) === "ul" ? "bullet" : "number";
}
function getListItemLevel$1(el) {
    let level = 0;
    if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "li") {
        let parentNode = el.parentNode;
        for(; parentNode;){
            const parentTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(parentNode);
            parentTag && LIST_CONTAINER_TAGS.includes(parentTag) && level++, parentNode = parentNode.parentNode;
        }
    } else level = 1;
    return level;
}
const blocks = {
    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_BLOCK_TAGS"],
    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"]
};
function getBlockStyle(schema, el) {
    const childTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.firstChild), block = childTag && blocks[childTag];
    return block ? schema.styles.some((style)=>style.name === block.style) ? block.style : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BLOCK_DEFAULT_STYLE"] : __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BLOCK_DEFAULT_STYLE"];
}
function createGDocsRules(schema) {
    return [
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "span" && isGoogleDocs(el)) {
                    if (!el.textContent) return !el.previousSibling && !el.nextSibling && el.setAttribute("data-lonely-child", "true"), next(el.childNodes);
                    const span = {
                        ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                        marks: [],
                        text: el.textContent
                    };
                    return isStrong$1(el) && span.marks.push("strong"), isUnderline$1(el) && span.marks.push("underline"), isStrikethrough(el) && span.marks.push("strike-through"), isEmphasis$1(el) && span.marks.push("em"), span;
                }
            }
        },
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "li" && isGoogleDocs(el)) return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_BLOCK"],
                    listItem: getListItemStyle$1(el),
                    level: getListItemLevel$1(el),
                    style: getBlockStyle(schema, el),
                    children: next(el.firstChild?.childNodes || [])
                };
            }
        },
        {
            deserialize (el) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "br" && isGoogleDocs(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.classList.contains("apple-interchange-newline")) return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                    text: ""
                };
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "br" && isGoogleDocs(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el?.parentNode?.textContent === "") return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                    text: ""
                };
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "br" && isGoogleDocs(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && isRootNode(el)) return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                    text: ""
                };
            }
        }
    ];
}
const whitespaceTextNodeRule = {
    deserialize (node) {
        return node.nodeName === "#text" && isWhitespaceTextNode(node) ? {
            ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
            marks: [],
            text: (node.textContent ?? "").replace(/\s\s+/g, " ")
        } : void 0;
    }
};
function isWhitespaceTextNode(node) {
    const isWhitespaceOnly = node.nodeType === 3 && (node.textContent || "").replace(/[\r\n]/g, " ").replace(/\s\s+/g, " ") === " ", hasSiblingContext = node.nextSibling && node.nextSibling.nodeType !== 3 && node.previousSibling && node.previousSibling.nodeType !== 3, hasParentSiblingContext = node.parentNode && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(node.parentNode) === "span" && !node.nextSibling && !node.previousSibling && node.parentNode.previousSibling && node.parentNode.previousSibling.nodeType !== 3 && node.parentNode.nextSibling && node.parentNode.nextSibling.nodeType !== 3;
    return (isWhitespaceOnly && (hasSiblingContext || hasParentSiblingContext) || node.textContent !== " ") && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(node.parentNode) !== "body";
}
function resolveListItem(schema, listNodeTagName) {
    if (listNodeTagName === "ul" && schema.lists.some((list)=>list.name === "bullet")) return "bullet";
    if (listNodeTagName === "ol" && schema.lists.some((list)=>list.name === "number")) return "number";
}
function createHTMLRules(schema, options) {
    return [
        whitespaceTextNodeRule,
        {
            // Pre element
            deserialize (el) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "pre") return;
                const isCodeEnabled = schema.styles.some((style)=>style.name === "code");
                return {
                    _type: "block",
                    style: "normal",
                    markDefs: [],
                    children: [
                        {
                            ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                            marks: isCodeEnabled ? [
                                "code"
                            ] : [],
                            text: el.textContent || ""
                        }
                    ]
                };
            }
        },
        // Blockquote element
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "blockquote") return;
                const blocks2 = {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_BLOCK_TAGS"],
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"]
                };
                delete blocks2.blockquote;
                const nonBlockquoteBlocks = Object.keys(blocks2), children = [];
                return el.childNodes.forEach((node, index)=>{
                    if (el.ownerDocument) if (node.nodeType === 1 && nonBlockquoteBlocks.includes(node.localName.toLowerCase())) {
                        const span = el.ownerDocument.createElement("span"), previousChild = children[children.length - 1];
                        previousChild && previousChild.nodeType === 3 && previousChild.textContent?.trim() && span.appendChild(el.ownerDocument.createTextNode("\r")), node.childNodes.forEach((cn)=>{
                            span.appendChild(cn.cloneNode(!0));
                        }), index !== el.childNodes.length && span.appendChild(el.ownerDocument.createTextNode("\r")), children.push(span);
                    } else children.push(node);
                }), {
                    _type: "block",
                    style: "blockquote",
                    markDefs: [],
                    children: next(children)
                };
            }
        },
        // Block elements
        {
            deserialize (el, next) {
                const blocks2 = {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_BLOCK_TAGS"],
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"]
                }, tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el);
                let block = tag ? blocks2[tag] : void 0;
                if (!block) return;
                if (el.parentNode && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode) === "li") return next(el.childNodes);
                const blockStyle = block.style;
                return schema.styles.some((style)=>style.name === blockStyle) || (block = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_BLOCK"]), {
                    ...block,
                    children: next(el.childNodes)
                };
            }
        },
        // Ignore span tags
        {
            deserialize (el, next) {
                const tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el);
                if (!(!tag || !(tag in __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_SPAN_TAGS"]))) return next(el.childNodes);
            }
        },
        // Ignore div tags
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "div") return next(el.childNodes);
            }
        },
        // Ignore list containers
        {
            deserialize (el, next) {
                const tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el);
                if (!(!tag || !(tag in __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_LIST_CONTAINER_TAGS"]))) return next(el.childNodes);
            }
        },
        // Deal with br's
        {
            deserialize (el) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "br") return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                    text: `
`
                };
            }
        },
        // Deal with list items
        {
            deserialize (el, next, block) {
                const tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el), listItem = tag ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_LIST_ITEM_TAGS"][tag] : void 0;
                if (!listItem) return;
                const parentTag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el.parentNode) || "", listTag = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_LIST_CONTAINER_TAGS"][parentTag] ? parentTag : "ul", enabledListItem = resolveListItem(schema, listTag);
                return enabledListItem ? (listItem.listItem = enabledListItem, {
                    ...listItem,
                    children: next(el.childNodes)
                }) : block({
                    _type: "block",
                    children: next(el.childNodes)
                });
            }
        },
        // Deal with decorators - this is a limited set of known html elements that we know how to deserialize
        {
            deserialize (el, next) {
                const decorator = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_DECORATOR_TAGS"][(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) || ""];
                if (!(!decorator || !schema.decorators.some((decoratorType)=>decoratorType.name === decorator))) return {
                    _type: "__decorator",
                    name: decorator,
                    children: next(el.childNodes)
                };
            }
        },
        // Special case for hyperlinks, add annotation (if allowed by schema),
        // If not supported just write out the link text and href in plain text.
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) !== "a") return;
                const linkEnabled = schema.annotations.some((annotation)=>annotation.name === "link"), href = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("href");
                return href ? linkEnabled ? {
                    _type: "__annotation",
                    markDef: {
                        _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),
                        _type: "link",
                        href
                    },
                    children: next(el.childNodes)
                } : el.appendChild(el.ownerDocument.createTextNode(` (${href})`)) && next(el.childNodes) : next(el.childNodes);
            }
        },
        {
            deserialize (el, next) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "td" || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "th")) return {
                    ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_BLOCK"],
                    children: next(el.childNodes)
                };
            }
        },
        {
            deserialize (el) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "img") {
                    const src = el.getAttribute("src") ?? void 0, alt = el.getAttribute("alt") ?? void 0, props = Object.fromEntries(Array.from(el.attributes).map((attr)=>[
                            attr.name,
                            attr.value
                        ])), ancestorOfLonelyChild = el?.parentElement?.parentElement?.getAttribute("data-lonely-child"), ancestorOfListItem = el.closest("li") !== null;
                    if (ancestorOfLonelyChild && !ancestorOfListItem) {
                        const image2 = options.matchers?.image?.({
                            context: {
                                schema,
                                keyGenerator: options.keyGenerator ?? keyGenerator
                            },
                            props: {
                                ...props,
                                ...src ? {
                                    src
                                } : {},
                                ...alt ? {
                                    alt
                                } : {}
                            }
                        });
                        if (image2) return {
                            _type: "__block",
                            block: image2
                        };
                    }
                    const inlineImage = options.matchers?.inlineImage?.({
                        context: {
                            schema,
                            keyGenerator: options.keyGenerator ?? keyGenerator
                        },
                        props: {
                            ...props,
                            ...src ? {
                                src
                            } : {},
                            ...alt ? {
                                alt
                            } : {}
                        }
                    });
                    if (inlineImage) return inlineImage;
                    const image = options.matchers?.image?.({
                        context: {
                            schema,
                            keyGenerator: options.keyGenerator ?? keyGenerator
                        },
                        props: {
                            ...props,
                            ...src ? {
                                src
                            } : {},
                            ...alt ? {
                                alt
                            } : {}
                        }
                    });
                    if (image) return {
                        _type: "__block",
                        block: image
                    };
                }
            }
        }
    ];
}
function isEmphasis(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /font-style:italic/.test(style || "");
}
function isStrong(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /font-weight:700/.test(style || "") || /font-weight:600/.test(style || "");
}
function isUnderline(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    return /text-decoration:underline/.test(style || "");
}
function isNotion(el) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && !!el.getAttribute("data-is-notion");
}
function createNotionRules() {
    return [
        {
            deserialize (el) {
                if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el) === "span" && isNotion(el)) {
                    const span = {
                        ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_SPAN"],
                        marks: [],
                        text: el.textContent
                    };
                    return isStrong(el) && span.marks.push("strong"), isUnderline(el) && span.marks.push("underline"), isEmphasis(el) && span.marks.push("em"), span;
                }
            }
        }
    ];
}
function getListItemStyle(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    if (style && style.match(/lfo\d+/)) return style.match("lfo1") ? "number" : "bullet";
}
function getListItemLevel(el) {
    const style = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el) && el.getAttribute("style");
    if (!style) return;
    const levelMatch = style.match(/level\d+/);
    if (!levelMatch) return;
    const [level] = levelMatch[0].match(/\d/) || [];
    return (level ? Number.parseInt(level, 10) : 1) || 1;
}
function isWordListElement(el) {
    if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isElement"])(el)) return !1;
    if (el.className && (el.className === "MsoListParagraphCxSpFirst" || el.className === "MsoListParagraphCxSpMiddle" || el.className === "MsoListParagraphCxSpLast")) return !0;
    const style = el.getAttribute("style");
    return !!(style && /mso-list:\s*l\d+\s+level\d+\s+lfo\d+/.test(style));
}
function getHeadingStyle(el) {
    const tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el);
    if (tag && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"][tag]) return __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"][tag]?.style;
}
function createWordRules() {
    return [
        {
            deserialize (el, next) {
                const tag = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(el);
                if ((tag === "p" || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["HTML_HEADER_TAGS"][tag || ""]) && isWordListElement(el)) {
                    const headingStyle = getHeadingStyle(el);
                    return {
                        ...__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["DEFAULT_BLOCK"],
                        listItem: getListItemStyle(el),
                        level: getListItemLevel(el),
                        style: headingStyle || __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["BLOCK_DEFAULT_STYLE"],
                        children: next(el.childNodes)
                    };
                }
            }
        }
    ];
}
function createRules(schema, options) {
    return [
        ...createWordRules(),
        ...createWordOnlineRules(schema, options),
        ...createNotionRules(),
        ...createGDocsRules(schema),
        ...createHTMLRules(schema, options)
    ];
}
function trimWhitespace(context, mode, blocks2) {
    const trimmedBlocks = [];
    let consecutiveEmptyCount = 0;
    for (const block of blocks2){
        const trimmedBlock = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])(context, block) ? trimTextBlockWhitespace(block) : block;
        if (mode === "preserve") {
            trimmedBlocks.push(trimmedBlock);
            continue;
        }
        if (mode === "remove") {
            if (isEmptyTextBlock(context, trimmedBlock)) continue;
            trimmedBlocks.push(trimmedBlock);
            continue;
        }
        if (mode === "normalize") {
            if (isEmptyTextBlock(context, trimmedBlock)) {
                consecutiveEmptyCount++, consecutiveEmptyCount === 1 && trimmedBlocks.push(trimmedBlock);
                continue;
            }
            trimmedBlocks.push(trimmedBlock), consecutiveEmptyCount = 0;
        }
    }
    return trimmedBlocks;
}
function isEmptyTextBlock(context, block) {
    return !(!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])(context, block) || block.children.some((child)=>!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])(context, child) || child.text.trim() !== ""));
}
function trimTextBlockWhitespace(block) {
    let index = 0;
    for (const child of block.children){
        if (!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(child)) {
            index++;
            continue;
        }
        const nextChild = nextSpan(block, index), prevChild = prevSpan(block, index);
        index === 0 && (child.text = child.text.replace(/^[^\S\n]+/g, "")), index === block.children.length - 1 && (child.text = child.text.replace(/[^\S\n]+$/g, "")), /\s/.test(child.text.slice(Math.max(0, child.text.length - 1))) && nextChild && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(nextChild) && /\s/.test(nextChild.text.slice(0, 1)) && (child.text = child.text.replace(/[^\S\n]+$/g, "")), /\s/.test(child.text.slice(0, 1)) && prevChild && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(prevChild) && /\s/.test(prevChild.text.slice(Math.max(0, prevChild.text.length - 1))) && (child.text = child.text.replace(/^[^\S\n]+/g, "")), child.text || block.children.splice(index, 1), prevChild && Array.isArray(prevChild.marks) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isEqualMarks"])(prevChild.marks, child.marks) && isWhiteSpaceChar(child.text) ? (prevChild.text += " ", block.children.splice(index, 1)) : nextChild && Array.isArray(nextChild.marks) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isEqualMarks"])(nextChild.marks, child.marks) && isWhiteSpaceChar(child.text) && (nextChild.text = ` ${nextChild.text}`, block.children.splice(index, 1)), index++;
    }
    return block;
}
function nextSpan(block, index) {
    const next = block.children[index + 1];
    return next && next._type === "span" ? next : null;
}
function prevSpan(block, index) {
    const prev = block.children[index - 1];
    return prev && prev._type === "span" ? prev : null;
}
function isWhiteSpaceChar(text) {
    return [
        "\xA0",
        " "
    ].includes(text);
}
class HtmlDeserializer {
    keyGenerator;
    schema;
    rules;
    parseHtml;
    whitespaceMode;
    _markDefs = [];
    /**
   * Create a new serializer respecting a Sanity block content type's schema
   *
   * @param blockContentType - Schema type for array containing _at least_ a block child type
   * @param options - Options for the deserialization process
   */ constructor(schema, options = {}){
        const { rules = [], unstable_whitespaceOnPasteMode = "preserve" } = options, standardRules = createRules(schema, {
            keyGenerator: options.keyGenerator,
            matchers: options.matchers
        });
        this.schema = schema, this.keyGenerator = options.keyGenerator ?? keyGenerator, this.rules = [
            ...rules,
            ...standardRules
        ], this.whitespaceMode = unstable_whitespaceOnPasteMode;
        const parseHtml = options.parseHtml || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defaultParseHtml"])();
        this.parseHtml = (html)=>{
            const cleanHTML = M(html), doc = parseHtml(cleanHTML);
            for (const processor of preprocessors)processor(cleanHTML, doc);
            return doc.body;
        };
    }
    /**
   * Deserialize HTML.
   *
   * @param html - The HTML to deserialize, as a string
   * @returns Array of blocks - either portable text blocks or other allowed blocks
   */ deserialize = (html)=>{
        this._markDefs = [];
        const { parseHtml } = this, fragment = parseHtml(html), children = Array.from(fragment.childNodes), blocks2 = trimWhitespace({
            schema: this.schema
        }, this.whitespaceMode, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["flattenNestedBlocks"])({
            schema: this.schema
        }, (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["ensureRootIsBlocks"])(this.schema, this.deserializeElements(children))));
        return this._markDefs.length > 0 && blocks2.filter((block)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])({
                schema: this.schema
            }, block)).forEach((block)=>{
            block.markDefs = block.markDefs || [], block.markDefs = block.markDefs.concat(this._markDefs.filter((def)=>block.children.flatMap((child)=>child.marks || []).includes(def._key)));
        }), blocks2.map((block)=>(block._type === "block" && (block._type = this.schema.block.name), block));
    };
    /**
   * Deserialize an array of DOM elements.
   *
   * @param elements - Array of DOM elements to deserialize
   * @returns
   */ deserializeElements = (elements = [])=>{
        let nodes = [];
        return elements.forEach((element)=>{
            nodes = nodes.concat(this.deserializeElement(element));
        }), nodes;
    };
    /**
   * Deserialize a DOM element
   *
   * @param element - Deserialize a DOM element
   * @returns
   */ deserializeElement = (element)=>{
        const next = (elements)=>{
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isNodeList"])(elements)) return this.deserializeElements(Array.from(elements));
            if (Array.isArray(elements)) return this.deserializeElements(elements);
            if (elements) return this.deserializeElement(elements);
        }, block = (props)=>({
                _type: "__block",
                block: props
            });
        let node;
        for(let i = 0; i < this.rules.length; i++){
            const rule = this.rules[i];
            if (!rule.deserialize) continue;
            const ret = rule.deserialize(element, next, block), type = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["resolveJsType"])(ret);
            if (type !== "array" && type !== "object" && type !== "null" && type !== "undefined") throw new Error(`A rule returned an invalid deserialized representation: "${node}".`);
            if (ret !== void 0) {
                {
                    if (ret === null) throw new Error("Deserializer rule returned `null`");
                    Array.isArray(ret) ? node = ret : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlaceholderDecorator"])(ret) ? node = this.deserializeDecorator(ret) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlaceholderAnnotation"])(ret) ? node = this.deserializeAnnotation(ret) : node = ret;
                }
                if (ret && !Array.isArray(ret) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalBlock"])(ret) && "listItem" in ret) {
                    let parent = element.parentNode?.parentNode;
                    for(; parent && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["tagName"])(parent) === "li";)parent = parent.parentNode?.parentNode, ret.level = ret.level ? ret.level + 1 : 1;
                }
                ret && !Array.isArray(ret) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalBlock"])(ret) && ret.style === "blockquote" && ret.children.forEach((child, index)=>{
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(child) && child.text === "\r" && (child.text = `
`, (index === 0 || index === ret.children.length - 1) && ret.children.splice(index, 1));
                });
                break;
            }
        }
        return node || next(element.childNodes) || [];
    };
    /**
   * Deserialize a `__decorator` type
   * (an internal made up type to process decorators exclusively)
   *
   * @param decorator -
   * @returns array of ...
   */ deserializeDecorator = (decorator)=>{
        const { name } = decorator, applyDecorator = (node)=>{
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlaceholderDecorator"])(node)) return this.deserializeDecorator(node);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(node)) node.marks = node.marks || [], node.text.trim() && node.marks.unshift(name);
            else if ("children" in node && Array.isArray(node.children)) {
                const block = node;
                block.children = block.children.map(applyDecorator);
            }
            return node;
        };
        return decorator.children.reduce((children, node)=>{
            const ret = applyDecorator(node);
            return Array.isArray(ret) ? children.concat(ret) : (children.push(ret), children);
        }, []);
    };
    /**
   * Deserialize a `__annotation` object.
   * (an internal made up type to process annotations exclusively)
   *
   * @param annotation -
   * @returns Array of...
   */ deserializeAnnotation = (annotation)=>{
        const { markDef } = annotation;
        this._markDefs.push(markDef);
        const applyAnnotation = (node)=>{
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPlaceholderAnnotation"])(node)) return this.deserializeAnnotation(node);
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isMinimalSpan"])(node)) node.marks = node.marks || [], node.text.trim() && node.marks.unshift(markDef._key);
            else if ("children" in node && Array.isArray(node.children)) {
                const block = node;
                block.children = block.children.map(applyAnnotation);
            }
            return node;
        };
        return annotation.children.reduce((children, node)=>{
            const ret = applyAnnotation(node);
            return Array.isArray(ret) ? children.concat(ret) : (children.push(ret), children);
        }, []);
    };
}
function normalizeBlock(node, options = {}) {
    const schema = {
        block: {
            name: options.blockTypeName || "block"
        },
        span: {
            name: "span"
        },
        styles: [],
        lists: [],
        decorators: [],
        annotations: [],
        blockObjects: [],
        inlineObjects: []
    };
    if (node._type !== (options.blockTypeName || "block")) return "_key" in node ? node : {
        ...node,
        _key: options.keyGenerator ? options.keyGenerator() : keyGenerator()
    };
    const block = {
        _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),
        children: [],
        markDefs: [],
        ...node
    }, lastChild = block.children[block.children.length - 1];
    if (!lastChild) return block.children = [
        {
            _type: "span",
            _key: options.keyGenerator ? options.keyGenerator() : keyGenerator(),
            text: "",
            marks: []
        }
    ], block;
    const usedMarkDefs = [], allowedDecorators = options.allowedDecorators && Array.isArray(options.allowedDecorators) ? options.allowedDecorators : !1;
    return block.children = block.children.reduce((acc, child)=>{
        const previousChild = acc[acc.length - 1];
        return previousChild && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])({
            schema
        }, child) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])({
            schema
        }, previousChild) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$block$2d$tools$2f$lib$2f$_chunks$2d$es$2f$helpers$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isEqualMarks"])(previousChild.marks, child.marks) ? (lastChild && lastChild === child && child.text === "" && block.children.length > 1 || (previousChild.text += child.text), acc) : (acc.push(child), acc);
    }, []).map((child)=>{
        if (!child) throw new Error("missing child");
        return child._key = options.keyGenerator ? options.keyGenerator() : keyGenerator(), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])({
            schema
        }, child) && (child.marks ? allowedDecorators && (child.marks = child.marks.filter((mark)=>{
            const isAllowed = allowedDecorators.includes(mark), isUsed = block.markDefs?.some((def)=>def._key === mark);
            return isAllowed || isUsed;
        })) : child.marks = [], usedMarkDefs.push(...child.marks)), child;
    }), block.markDefs = (block.markDefs || []).filter((markDef)=>usedMarkDefs.includes(markDef._key)), block;
}
function htmlToBlocks(html, schemaType, options = {}) {
    const schema = isSanitySchema(schemaType) ? (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$sanity$2d$bridge$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["sanitySchemaToPortableTextSchema"])(schemaType) : schemaType;
    return new HtmlDeserializer(schema, options).deserialize(html).map((block)=>normalizeBlock(block, {
            keyGenerator: options.keyGenerator
        }));
}
function isSanitySchema(schema) {
    return schema.hasOwnProperty("jsonType");
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/to-html/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "defaultComponents",
    ()=>defaultComponents,
    "escapeHTML",
    ()=>escapeHTML,
    "mergeComponents",
    ()=>mergeComponents,
    "toHTML",
    ()=>toHTML,
    "uriLooksSafe",
    ()=>uriLooksSafe
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/toolkit/dist/index.js [app-ssr] (ecmascript)");
;
const allowedProtocols = [
    "http",
    "https",
    "mailto",
    "tel"
], charMap = {
    "&": "amp",
    "<": "lt",
    ">": "gt",
    "\"": "quot",
    "'": "#x27"
};
function escapeHTML(str) {
    return replaceMultipleSpaces(str.replace(/[&<>"']/g, (s)=>`&${charMap[s]};`));
}
function replaceMultipleSpaces(str) {
    return str.replace(/ {2,}/g, (match)=>`${"&nbsp;".repeat(match.length - 1)} `);
}
function uriLooksSafe(uri) {
    let url = (uri || "").trim(), first = url.charAt(0);
    if (first === "#" || first === "/") return !0;
    let colonIndex = url.indexOf(":");
    if (colonIndex === -1) return !0;
    let proto = url.slice(0, colonIndex).toLowerCase();
    if (allowedProtocols.indexOf(proto) !== -1) return !0;
    let queryIndex = url.indexOf("?");
    if (queryIndex !== -1 && colonIndex > queryIndex) return !0;
    let hashIndex = url.indexOf("#");
    return hashIndex !== -1 && colonIndex > hashIndex;
}
const defaultLists = {
    number: ({ children })=>`<ol>${children}</ol>`,
    bullet: ({ children })=>`<ul>${children}</ul>`
}, DefaultListItem = ({ children })=>`<li>${children}</li>`, link = ({ children, value })=>{
    let href = value?.href || "";
    return uriLooksSafe(href) ? `<a href="${escapeHTML(href)}">${children}</a>` : children;
}, defaultMarks = {
    em: ({ children })=>`<em>${children}</em>`,
    strong: ({ children })=>`<strong>${children}</strong>`,
    code: ({ children })=>`<code>${children}</code>`,
    underline: ({ children })=>`<span style="text-decoration:underline">${children}</span>`,
    "strike-through": ({ children })=>`<del>${children}</del>`,
    link
}, getTemplate = (type, prop)=>`Unknown ${type}, specify a component for it in the \`components.${prop}\` option`, unknownTypeWarning = (typeName)=>getTemplate(`block type "${typeName}"`, "types"), unknownMarkWarning = (markType)=>getTemplate(`mark type "${markType}"`, "marks"), unknownBlockStyleWarning = (blockStyle)=>getTemplate(`block style "${blockStyle}"`, "block"), unknownListStyleWarning = (listStyle)=>getTemplate(`list style "${listStyle}"`, "list"), unknownListItemStyleWarning = (listStyle)=>getTemplate(`list item style "${listStyle}"`, "listItem");
function printWarning(message) {
    console.warn(message);
}
const defaultComponents = {
    types: {},
    block: {
        normal: ({ children })=>`<p>${children}</p>`,
        blockquote: ({ children })=>`<blockquote>${children}</blockquote>`,
        h1: ({ children })=>`<h1>${children}</h1>`,
        h2: ({ children })=>`<h2>${children}</h2>`,
        h3: ({ children })=>`<h3>${children}</h3>`,
        h4: ({ children })=>`<h4>${children}</h4>`,
        h5: ({ children })=>`<h5>${children}</h5>`,
        h6: ({ children })=>`<h6>${children}</h6>`
    },
    marks: defaultMarks,
    list: defaultLists,
    listItem: DefaultListItem,
    hardBreak: ()=>"<br/>",
    escapeHTML,
    unknownType: ({ value, isInline })=>{
        let warning = unknownTypeWarning(value._type);
        return isInline ? `<span style="display:none">${warning}</span>` : `<div style="display:none">${warning}</div>`;
    },
    unknownMark: ({ markType, children })=>`<span class="unknown__pt__mark__${markType}">${children}</span>`,
    unknownList: ({ children })=>`<ul>${children}</ul>`,
    unknownListItem: ({ children })=>`<li>${children}</li>`,
    unknownBlockStyle: ({ children })=>`<p>${children}</p>`
};
function mergeComponents(parent, overrides) {
    let { block, list, listItem, marks, types, ...rest } = overrides;
    return {
        ...parent,
        block: mergeDeeply(parent, overrides, "block"),
        list: mergeDeeply(parent, overrides, "list"),
        listItem: mergeDeeply(parent, overrides, "listItem"),
        marks: mergeDeeply(parent, overrides, "marks"),
        types: mergeDeeply(parent, overrides, "types"),
        ...rest
    };
}
function mergeDeeply(parent, overrides, key) {
    let override = overrides[key], parentVal = parent[key];
    return typeof override == "function" ? override : override ? typeof parentVal == "function" ? override : {
        ...parentVal,
        ...override
    } : parentVal;
}
function toHTML(value, options = {}) {
    let { components: componentOverrides, onMissingComponent: missingComponentHandler = printWarning } = options, handleMissingComponent = missingComponentHandler || noop, nested = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["nestLists"])(Array.isArray(value) ? value : [
        value
    ], "html"), renderNode = getNodeRenderer(componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents, handleMissingComponent);
    return nested.map((node, index)=>renderNode({
            node,
            index,
            isInline: !1,
            renderNode
        })).join("");
}
const getNodeRenderer = (components, handleMissingComponent)=>{
    function renderNode(options) {
        let { node, index, isInline } = options;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitList"])(node) ? renderList(node, index) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextListItemBlock"])(node) ? renderListItem(node, index) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitSpan"])(node) ? renderSpan(node) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextBlock"])(node) ? renderBlock(node, index, isInline) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitTextNode"])(node) ? renderText(node) : renderCustomBlock(node, index, isInline);
    }
    function renderListItem(node, index) {
        let tree = serializeBlock({
            node,
            index,
            isInline: !1,
            renderNode
        }), renderer = components.listItem, itemHandler = (typeof renderer == "function" ? renderer : renderer[node.listItem]) || components.unknownListItem;
        if (itemHandler === components.unknownListItem) {
            let style = node.listItem || "bullet";
            handleMissingComponent(unknownListItemStyleWarning(style), {
                type: style,
                nodeType: "listItemStyle"
            });
        }
        let children = tree.children;
        if (node.style && node.style !== "normal") {
            let { listItem, ...blockNode } = node;
            children = renderNode({
                node: blockNode,
                index,
                isInline: !1,
                renderNode
            });
        }
        return itemHandler({
            value: node,
            index,
            isInline: !1,
            renderNode,
            children
        });
    }
    function renderList(node, index) {
        let children = node.children.map((child, childIndex)=>renderNode({
                node: child._key ? child : {
                    ...child,
                    _key: `li-${index}-${childIndex}`
                },
                index: childIndex,
                isInline: !1,
                renderNode
            })), component = components.list, list = (typeof component == "function" ? component : component[node.listItem]) || components.unknownList;
        if (list === components.unknownList) {
            let style = node.listItem || "bullet";
            handleMissingComponent(unknownListStyleWarning(style), {
                nodeType: "listStyle",
                type: style
            });
        }
        return list({
            value: node,
            index,
            isInline: !1,
            renderNode,
            children: children.join("")
        });
    }
    function renderSpan(node) {
        let { markDef, markType, markKey } = node, span = components.marks[markType] || components.unknownMark, children = node.children.map((child, childIndex)=>renderNode({
                node: child,
                index: childIndex,
                isInline: !0,
                renderNode
            }));
        return span === components.unknownMark && handleMissingComponent(unknownMarkWarning(markType), {
            nodeType: "mark",
            type: markType
        }), span({
            text: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanToPlainText"])(node),
            value: markDef,
            markType,
            markKey,
            renderNode,
            children: children.join("")
        });
    }
    function renderBlock(node, index, isInline) {
        let { _key, ...props } = serializeBlock({
            node,
            index,
            isInline,
            renderNode
        }), style = props.node.style || "normal", block = (typeof components.block == "function" ? components.block : components.block[style]) || components.unknownBlockStyle;
        return block === components.unknownBlockStyle && handleMissingComponent(unknownBlockStyleWarning(style), {
            nodeType: "blockStyle",
            type: style
        }), block({
            ...props,
            value: props.node,
            renderNode
        });
    }
    function renderText(node) {
        if (node.text === "\n") {
            let hardBreak = components.hardBreak;
            return hardBreak ? hardBreak() : "\n";
        }
        return components.escapeHTML(node.text);
    }
    function renderCustomBlock(value, index, isInline) {
        let node = components.types[value._type];
        return node || handleMissingComponent(unknownTypeWarning(value._type), {
            nodeType: "block",
            type: value._type
        }), (node || components.unknownType)({
            value,
            isInline,
            index,
            renderNode
        });
    }
    return renderNode;
};
function serializeBlock(options) {
    let { node, index, isInline, renderNode } = options, children = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["buildMarksTree"])(node).map((child, i)=>renderNode({
            node: child,
            isInline: !0,
            index: i,
            renderNode
        }));
    return {
        _key: node._key || `block-${index}`,
        children: children.join(""),
        index,
        isInline,
        node
    };
}
function noop() {}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/markdown/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "DefaultBlockSpacingRenderer",
    ()=>DefaultBlockSpacingRenderer,
    "DefaultBlockquoteRenderer",
    ()=>DefaultBlockquoteRenderer,
    "DefaultCodeBlockRenderer",
    ()=>DefaultCodeBlockRenderer,
    "DefaultCodeRenderer",
    ()=>DefaultCodeRenderer,
    "DefaultEmRenderer",
    ()=>DefaultEmRenderer,
    "DefaultH1Renderer",
    ()=>DefaultH1Renderer,
    "DefaultH2Renderer",
    ()=>DefaultH2Renderer,
    "DefaultH3Renderer",
    ()=>DefaultH3Renderer,
    "DefaultH4Renderer",
    ()=>DefaultH4Renderer,
    "DefaultH5Renderer",
    ()=>DefaultH5Renderer,
    "DefaultH6Renderer",
    ()=>DefaultH6Renderer,
    "DefaultHardBreakRenderer",
    ()=>DefaultHardBreakRenderer,
    "DefaultHorizontalRuleRenderer",
    ()=>DefaultHorizontalRuleRenderer,
    "DefaultHtmlRenderer",
    ()=>DefaultHtmlRenderer,
    "DefaultImageRenderer",
    ()=>DefaultImageRenderer,
    "DefaultLinkRenderer",
    ()=>DefaultLinkRenderer,
    "DefaultListItemRenderer",
    ()=>DefaultListItemRenderer,
    "DefaultNormalRenderer",
    ()=>DefaultNormalRenderer,
    "DefaultStrikeThroughRenderer",
    ()=>DefaultStrikeThroughRenderer,
    "DefaultStrongRenderer",
    ()=>DefaultStrongRenderer,
    "DefaultTableRenderer",
    ()=>DefaultTableRenderer,
    "DefaultUnderlineRenderer",
    ()=>DefaultUnderlineRenderer,
    "markdownToPortableText",
    ()=>markdownToPortableText,
    "portableTextToMarkdown",
    ()=>portableTextToMarkdown
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/schema/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/toolkit/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$markdown$2d$it$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/markdown-it/index.mjs [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$markdown$2d$it$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/markdown-it/lib/index.mjs [app-ssr] (ecmascript)");
;
;
;
function defaultKeyGenerator() {
    return randomKey(12);
}
const getByteHexTable = /* @__PURE__ */ (()=>{
    let table;
    return ()=>{
        if (table) return table;
        table = [];
        for(let i = 0; i < 256; ++i)table[i] = (i + 256).toString(16).slice(1);
        return table;
    };
})();
function whatwgRNG(length = 16) {
    const rnds8 = new Uint8Array(length);
    return crypto.getRandomValues(rnds8), rnds8;
}
function randomKey(length) {
    const table = getByteHexTable();
    return whatwgRNG(length).reduce((str, n)=>str + table[n], "").slice(0, length);
}
const schema = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compileSchema"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineSchema"])({}));
function buildListIndexMap(blocks) {
    const levelIndexMaps = /* @__PURE__ */ new Map(), listIndexMap = /* @__PURE__ */ new Map();
    let previousListItem;
    for(let blockIndex = 0; blockIndex < blocks.length; blockIndex++){
        const block = blocks.at(blockIndex);
        if (block === void 0) continue;
        if (block._key || (block._key = defaultKeyGenerator()), !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"])({
            schema
        }, block)) {
            levelIndexMaps.clear(), previousListItem = void 0;
            continue;
        }
        if (block.listItem === void 0 || block.level === void 0) {
            levelIndexMaps.clear(), previousListItem = void 0;
            continue;
        }
        if (!previousListItem) {
            const levelIndexMap2 = levelIndexMaps.get(block.listItem) ?? /* @__PURE__ */ new Map();
            levelIndexMap2.set(block.level, 1), levelIndexMaps.set(block.listItem, levelIndexMap2), listIndexMap.set(block._key, 1), previousListItem = {
                listItem: block.listItem,
                level: block.level
            };
            continue;
        }
        if (previousListItem.listItem === block.listItem && previousListItem.level < block.level) {
            const levelIndexMap2 = levelIndexMaps.get(block.listItem) ?? /* @__PURE__ */ new Map();
            levelIndexMap2.set(block.level, 1), levelIndexMaps.set(block.listItem, levelIndexMap2), listIndexMap.set(block._key, 1), previousListItem = {
                listItem: block.listItem,
                level: block.level
            };
            continue;
        }
        levelIndexMaps.forEach((levelIndexMap2, listItem)=>{
            if (listItem === block.listItem) return;
            const levelsToDelete = [];
            levelIndexMap2.forEach((_, level)=>{
                level >= block.level && levelsToDelete.push(level);
            }), levelsToDelete.forEach((level)=>{
                levelIndexMap2.delete(level);
            });
        });
        const levelIndexMap = levelIndexMaps.get(block.listItem) ?? /* @__PURE__ */ new Map(), levelCounter = levelIndexMap.get(block.level) ?? 0;
        levelIndexMap.set(block.level, levelCounter + 1), levelIndexMaps.set(block.listItem, levelIndexMap), listIndexMap.set(block._key, levelCounter + 1), previousListItem = {
            listItem: block.listItem,
            level: block.level
        };
    }
    return listIndexMap;
}
const createRenderNode = (renderers, listIndexMap)=>{
    function renderNode(options) {
        const { node, index, isInline } = options;
        return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextListItemBlock"])(node) ? renderListItem(node, index) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitSpan"])(node) ? renderSpan(node) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextBlock"])(node) ? renderBlock(node, index, isInline) : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextToolkitTextNode"])(node) ? renderText(node) : renderCustomBlock(node, index, isInline);
    }
    function renderListItem(node, index) {
        const renderer = renderers.listItem, itemHandler = (typeof renderer == "function" ? renderer : renderer[node.listItem]) || renderers.unknownListItem;
        let children = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["buildMarksTree"])(node).map((child, i)=>renderNode({
                node: child,
                isInline: !0,
                index: i
            })).join("");
        if (node.style && node.style !== "normal") {
            const { listItem: _listItem, ...blockNode } = node;
            children = renderNode({
                node: blockNode,
                index,
                isInline: !1
            }), children = children.replace(/\n+$/, "");
        }
        return itemHandler({
            value: node,
            index,
            listIndex: node._key ? listIndexMap.get(node._key) : void 0,
            isInline: !1,
            renderNode,
            children
        });
    }
    function renderSpan(node) {
        const { markDef, markType, markKey } = node, span = renderers.marks[markType] || renderers.unknownMark, children = node.children.map((child, childIndex)=>renderNode({
                node: child,
                index: childIndex,
                isInline: !0
            }));
        return span({
            text: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanToPlainText"])(node),
            value: markDef,
            markType,
            markKey,
            renderNode,
            children: children.join("")
        });
    }
    function renderBlock(node, index, isInline) {
        const { _key, ...props } = serializeBlock({
            node,
            index,
            isInline,
            renderNode
        }), style = props.node.style || "normal";
        return ((typeof renderers.block == "function" ? renderers.block : renderers.block[style]) || renderers.unknownBlockStyle)({
            ...props,
            value: props.node,
            renderNode
        });
    }
    function renderText(node) {
        return node.text === `
` ? renderers.hardBreak() : node.text;
    }
    function renderCustomBlock(value, index, isInline) {
        return (renderers.types[value._type] ?? renderers.unknownType)({
            value,
            isInline,
            index,
            renderNode
        });
    }
    return renderNode;
};
function serializeBlock(options) {
    const { node, index, isInline, renderNode } = options, renderedChildren = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["buildMarksTree"])(node).map((child, i)=>renderNode({
            node: child,
            isInline: !0,
            index: i,
            renderNode
        }));
    return {
        _key: node._key || defaultKeyGenerator(),
        children: renderedChildren.join(""),
        index,
        isInline,
        node
    };
}
const DefaultBlockSpacingRenderer = ({ current, next })=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextListItemBlock"])(current) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextListItemBlock"])(next) ? `
` : (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextBlock"])(current) && (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$toolkit$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isPortableTextBlock"])(next) && current.style === "blockquote" && next.style === "blockquote" ? `
>
` : `

`, DefaultHardBreakRenderer = ()=>`  
`, DefaultListItemRenderer = ({ children, value, listIndex })=>{
    const listStyle = value.listItem || "bullet", level = value.level || 1;
    return listStyle === "number" ? `${"   ".repeat(level - 1)}${listIndex ?? 1}. ${children}` : `${"   ".repeat(level - 1)}- ${children}`;
}, DefaultUnknownListItemRenderer = ({ children })=>`- ${children}
`;
function escapeImageAndLinkText(text) {
    return text.replace(/([[\]\\])/g, "\\$1");
}
function unescapeImageAndLinkText(text) {
    return text.replace(/\\([!"#$%&'()*+,\-./:;<=>?@[\\\]^_`{|}~])/g, "$1");
}
function escapeImageAndLinkTitle(text) {
    return text.replace(/([\\"])/g, "\\$1");
}
const DefaultEmRenderer = ({ children })=>`_${children}_`, DefaultStrongRenderer = ({ children })=>`**${children}**`, DefaultCodeRenderer = ({ children })=>`\`${children}\``, DefaultUnderlineRenderer = ({ children })=>`<u>${children}</u>`, DefaultStrikeThroughRenderer = ({ children })=>`~~${children}~~`, DefaultLinkRenderer = ({ children, value })=>{
    const href = value?.href || "", title = value?.title || "";
    if (uriLooksSafe(href)) {
        if (/["'][^"']*[<>]|[<>][^<>]*["']/.test(href)) {
            const encodedHref = href.replace(/["<>() ]/g, (char)=>`%${char.charCodeAt(0).toString(16).toUpperCase()}`);
            return `[${escapeImageAndLinkText(children)}](${encodedHref})`;
        }
        return `[${escapeImageAndLinkText(children)}](${href}${title ? ` "${escapeImageAndLinkTitle(title)}"` : ""})`;
    }
    return children;
};
function uriLooksSafe(uri) {
    const url = (uri || "").trim(), first = url.charAt(0);
    if (first === "#" || first === "/") return !0;
    const colonIndex = url.indexOf(":");
    if (colonIndex === -1) return !0;
    const allowedProtocols = [
        "http",
        "https",
        "mailto",
        "tel"
    ], proto = url.slice(0, colonIndex).toLowerCase();
    if (allowedProtocols.indexOf(proto) !== -1) return !0;
    const queryIndex = url.indexOf("?");
    if (queryIndex !== -1 && colonIndex > queryIndex) return !0;
    const hashIndex = url.indexOf("#");
    return hashIndex !== -1 && colonIndex > hashIndex;
}
const DefaultUnknownMarkRenderer = ({ children })=>children, DefaultNormalRenderer = ({ children })=>!children || children.trim() === "" ? "" : children, DefaultBlockquoteRenderer = ({ children })=>children ? children.split(`
`).map((line)=>`> ${line}`).join(`
`) : ">", DefaultH1Renderer = ({ children })=>`# ${children}`, DefaultH2Renderer = ({ children })=>`## ${children}`, DefaultH3Renderer = ({ children })=>`### ${children}`, DefaultH4Renderer = ({ children })=>`#### ${children}`, DefaultH5Renderer = ({ children })=>`##### ${children}`, DefaultH6Renderer = ({ children })=>`###### ${children}`, DefaultUnknownStyleRenderer = ({ children })=>children ?? "", DefaultCodeBlockRenderer = ({ value })=>`\`\`\`${value.language ?? ""}
${value.code}
\`\`\``, DefaultHorizontalRuleRenderer = ()=>"---", DefaultHtmlRenderer = ({ value })=>value.html, DefaultImageRenderer = ({ value })=>{
    const alt = escapeImageAndLinkText(value.alt ?? ""), title = value.title ? ` "${escapeImageAndLinkTitle(value.title)}"` : "";
    return `![${alt}](${value.src}${title})`;
}, DefaultTableRenderer = ({ value, renderNode })=>{
    const headerRows = value.headerRows || 0, rows = value.rows, lines = [], getCellText = (cellBlocks)=>cellBlocks.map((block, index)=>renderNode({
                node: block,
                index,
                isInline: !1,
                renderNode
            })).join(" ").trim();
    for(let i = 0; i < headerRows; i++){
        const row = rows[i];
        if (row) {
            const cellTexts = row.cells.map((cell)=>getCellText(cell.value));
            lines.push(`| ${cellTexts.join(" | ")} |`);
        }
    }
    if (headerRows > 0 && rows[0]) {
        const separators = rows[0].cells.map(()=>" --- ");
        lines.push(`|${separators.join("|")}|`);
    }
    for(let i = headerRows; i < rows.length; i++){
        const row = rows[i];
        if (row) {
            const cellTexts = row.cells.map((cell)=>getCellText(cell.value));
            lines.push(`| ${cellTexts.join(" | ")} |`);
        }
    }
    return lines.join(`
`);
}, DefaultUnknownTypeRenderer = ({ value, isInline })=>{
    const json = `\`\`\`json
${JSON.stringify(value, null, 2)}
\`\`\``;
    return isInline ? `
${json}
` : json;
}, defaultRenderers = {
    types: {},
    block: {
        normal: DefaultNormalRenderer,
        blockquote: DefaultBlockquoteRenderer,
        h1: DefaultH1Renderer,
        h2: DefaultH2Renderer,
        h3: DefaultH3Renderer,
        h4: DefaultH4Renderer,
        h5: DefaultH5Renderer,
        h6: DefaultH6Renderer
    },
    marks: {
        em: DefaultEmRenderer,
        strong: DefaultStrongRenderer,
        code: DefaultCodeRenderer,
        underline: DefaultUnderlineRenderer,
        "strike-through": DefaultStrikeThroughRenderer,
        link: DefaultLinkRenderer
    },
    listItem: DefaultListItemRenderer,
    hardBreak: DefaultHardBreakRenderer,
    unknownType: DefaultUnknownTypeRenderer,
    unknownMark: DefaultUnknownMarkRenderer,
    unknownListItem: DefaultUnknownListItemRenderer,
    unknownBlockStyle: DefaultUnknownStyleRenderer
};
function portableTextToMarkdown(blocks, options = {}) {
    const renderers = {
        block: {
            ...defaultRenderers.block,
            ...options.block
        },
        listItem: options.listItem ?? defaultRenderers.listItem,
        marks: {
            ...defaultRenderers.marks,
            ...options.marks
        },
        types: {
            ...defaultRenderers.types,
            ...options.types
        },
        hardBreak: options.hardBreak ?? defaultRenderers.hardBreak,
        unknownType: options.unknownType ?? defaultRenderers.unknownType,
        unknownBlockStyle: options.unknownBlockStyle ?? defaultRenderers.unknownBlockStyle,
        unknownListItem: options.unknownListItem ?? defaultRenderers.unknownListItem,
        unknownMark: options.unknownMark ?? defaultRenderers.unknownMark
    }, renderBlockSpacing = options.blockSpacing ?? DefaultBlockSpacingRenderer, listIndexMap = buildListIndexMap(blocks), renderNode = createRenderNode(renderers, listIndexMap);
    return blocks.map((node, index)=>{
        const renderedNode = renderNode({
            node,
            index,
            isInline: !1,
            renderNode
        });
        if (index === blocks.length - 1) return renderedNode;
        const nextNode = blocks.at(index + 1);
        if (!nextNode) return renderedNode;
        const blockSpacing = renderBlockSpacing({
            current: node,
            next: nextNode
        }) ?? `

`;
        return `${renderedNode}${blockSpacing}`;
    }).join("");
}
const normalStyleDefinition = {
    name: "normal"
}, h1StyleDefinition = {
    name: "h1"
}, h2StyleDefinition = {
    name: "h2"
}, h3StyleDefinition = {
    name: "h3"
}, h4StyleDefinition = {
    name: "h4"
}, h5StyleDefinition = {
    name: "h5"
}, h6StyleDefinition = {
    name: "h6"
}, blockquoteStyleDefinition = {
    name: "blockquote"
}, defaultOrderedListItemDefinition = {
    name: "number"
}, defaultUnorderedListItemDefinition = {
    name: "bullet"
}, defaultStrongDecoratorDefinition = {
    name: "strong"
}, defaultEmDecoratorDefinition = {
    name: "em"
}, defaultCodeDecoratorDefinition = {
    name: "code"
}, defaultStrikeThroughDecoratorDefinition = {
    name: "strike-through"
}, defaultLinkObjectDefinition = {
    name: "link",
    fields: [
        {
            name: "href",
            type: "string"
        },
        {
            name: "title",
            type: "string"
        }
    ]
}, defaultCodeObjectDefinition = {
    name: "code",
    fields: [
        {
            name: "language",
            type: "string"
        },
        {
            name: "code",
            type: "string"
        }
    ]
}, defaultImageObjectDefinition = {
    name: "image",
    fields: [
        {
            name: "src",
            type: "string"
        },
        {
            name: "alt",
            type: "string"
        },
        {
            name: "title",
            type: "string"
        }
    ]
}, defaultHorizontalRuleObjectDefinition = {
    name: "horizontal-rule"
}, defaultHtmlObjectDefinition = {
    name: "html",
    fields: [
        {
            name: "html",
            type: "string"
        }
    ]
}, defaultTableObjectDefinition = {
    name: "table",
    fields: [
        {
            name: "headerRows",
            type: "number"
        },
        {
            name: "rows",
            type: "array"
        }
    ]
}, defaultSchema = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["compileSchema"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineSchema"])({
    styles: [
        normalStyleDefinition,
        h1StyleDefinition,
        h2StyleDefinition,
        h3StyleDefinition,
        h4StyleDefinition,
        h5StyleDefinition,
        h6StyleDefinition,
        blockquoteStyleDefinition
    ],
    lists: [
        defaultOrderedListItemDefinition,
        defaultUnorderedListItemDefinition
    ],
    decorators: [
        defaultStrongDecoratorDefinition,
        defaultEmDecoratorDefinition,
        defaultCodeDecoratorDefinition,
        defaultStrikeThroughDecoratorDefinition
    ],
    annotations: [
        defaultLinkObjectDefinition
    ],
    blockObjects: [
        defaultCodeObjectDefinition,
        defaultHorizontalRuleObjectDefinition,
        defaultImageObjectDefinition,
        defaultHtmlObjectDefinition,
        defaultTableObjectDefinition
    ],
    inlineObjects: [
        defaultImageObjectDefinition
    ]
}));
function buildStyleMatcher(definition) {
    return ({ context })=>{
        const schemaDefinition = context.schema.styles.find((item)=>item.name === definition.name);
        if (schemaDefinition) return schemaDefinition.name;
    };
}
function buildListItemMatcher(definition) {
    return ({ context })=>{
        const schemaDefinition = context.schema.lists.find((item)=>item.name === definition.name);
        if (schemaDefinition) return schemaDefinition.name;
    };
}
function buildDecoratorMatcher(definition) {
    return ({ context })=>{
        const schemaDefinition = context.schema.decorators.find((item)=>item.name === definition.name);
        if (schemaDefinition) return schemaDefinition.name;
    };
}
function buildAnnotationMatcher(definition) {
    return ({ context, value })=>{
        const schemaDefinition = context.schema.annotations.find((item)=>item.name === definition.name);
        if (!schemaDefinition) return;
        const filteredValue = schemaDefinition.fields.reduce((filteredValue2, field)=>{
            const fieldValue = value[field.name];
            return fieldValue !== void 0 && (filteredValue2[field.name] = fieldValue), filteredValue2;
        }, {});
        return {
            _key: context.keyGenerator(),
            _type: schemaDefinition.name,
            ...filteredValue
        };
    };
}
function buildObjectMatcher(definition) {
    return ({ context, value, isInline })=>{
        const schemaDefinition = (isInline ? context.schema.inlineObjects : context.schema.blockObjects).find((item)=>item.name === definition.name);
        if (!schemaDefinition) return;
        const filteredValue = schemaDefinition.fields.reduce((filteredValue2, field)=>{
            const fieldValue = value[field.name];
            return fieldValue !== void 0 && (filteredValue2[field.name] = fieldValue), filteredValue2;
        }, {});
        return {
            _key: context.keyGenerator(),
            _type: schemaDefinition.name,
            ...filteredValue
        };
    };
}
const codeBlockMatcher = ({ context, value, isInline })=>{
    const codeObject = buildObjectMatcher(defaultCodeObjectDefinition)({
        context,
        value,
        isInline
    });
    if (codeObject && "code" in codeObject) return codeObject;
}, imageBlockMatcher = ({ context, value, isInline })=>{
    const imageObject = buildObjectMatcher(defaultImageObjectDefinition)({
        context,
        value,
        isInline
    });
    if (imageObject && "src" in imageObject) return imageObject;
}, defaultOptions = {
    block: {
        normal: buildStyleMatcher(normalStyleDefinition),
        blockquote: buildStyleMatcher(blockquoteStyleDefinition),
        h1: buildStyleMatcher(h1StyleDefinition),
        h2: buildStyleMatcher(h2StyleDefinition),
        h3: buildStyleMatcher(h3StyleDefinition),
        h4: buildStyleMatcher(h4StyleDefinition),
        h5: buildStyleMatcher(h5StyleDefinition),
        h6: buildStyleMatcher(h6StyleDefinition)
    },
    listItem: {
        number: buildListItemMatcher(defaultOrderedListItemDefinition),
        bullet: buildListItemMatcher(defaultUnorderedListItemDefinition)
    },
    marks: {
        strong: buildDecoratorMatcher(defaultStrongDecoratorDefinition),
        em: buildDecoratorMatcher(defaultEmDecoratorDefinition),
        code: buildDecoratorMatcher(defaultCodeDecoratorDefinition),
        strikeThrough: buildDecoratorMatcher(defaultStrikeThroughDecoratorDefinition),
        link: buildAnnotationMatcher(defaultLinkObjectDefinition)
    },
    types: {
        code: codeBlockMatcher,
        horizontalRule: buildObjectMatcher(defaultHorizontalRuleObjectDefinition),
        html: buildObjectMatcher(defaultHtmlObjectDefinition),
        image: imageBlockMatcher
    }
};
function flattenTable(table, portableText) {
    for (const row of table.rows)for (const cell of row.cells)for (const block of cell.value)portableText.push(block);
}
function markdownToPortableText(markdown, options) {
    const consolidatedOptions = {
        schema: options?.schema ?? defaultSchema,
        keyGenerator: options?.keyGenerator ?? defaultKeyGenerator,
        html: {
            inline: options?.html?.inline ?? "skip"
        },
        marks: {
            ...defaultOptions.marks,
            ...options?.marks
        },
        block: {
            ...defaultOptions.block,
            ...options?.block
        },
        listItem: {
            ...defaultOptions.listItem,
            ...options?.listItem
        },
        types: {
            ...defaultOptions.types,
            ...options?.types
        }
    }, tokens = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$markdown$2d$it$2f$lib$2f$index$2e$mjs__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["default"])({
        html: !0,
        linkify: !0,
        typographer: !0
    }).enable([
        "strikethrough",
        "table"
    ]).parse(markdown, {}), portableText = [];
    let currentBlock = null;
    const currentListStack = [], markDefRefs = [];
    let currentMarkDefs = [], currentBlockquoteStyle = null, inListItem = !1, currentTable = null, currentTableRow = null, inTableHead = !1;
    const startBlock = (style)=>{
        flushBlock(), currentBlock = {
            _type: "block",
            style,
            children: [],
            _key: consolidatedOptions.keyGenerator(),
            markDefs: []
        }, currentMarkDefs = [];
    }, flushBlock = ()=>{
        currentBlock && (currentBlock.children.length === 0 && currentBlock.children.push({
            _type: consolidatedOptions.schema.span.name,
            _key: consolidatedOptions.keyGenerator(),
            text: "",
            marks: []
        }), currentBlock.markDefs = currentMarkDefs, portableText.push(currentBlock), currentBlock = null, currentMarkDefs = []);
    }, addSpan = (text)=>{
        if (text.length === 0) return;
        if (!currentBlock) {
            const style = currentBlockquoteStyle ?? consolidatedOptions.block.normal({
                context: {
                    schema: consolidatedOptions.schema
                }
            });
            style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal"));
        }
        if (!currentBlock) throw new Error("Expected current block");
        const lastChild = currentBlock.children.at(-1);
        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSpan"])({
            schema: consolidatedOptions.schema
        }, lastChild) && lastChild.marks?.every((mark)=>markDefRefs.includes(mark)) && markDefRefs.every((mark)=>lastChild.marks?.includes(mark)) ? lastChild.text += text : currentBlock.children.push({
            _type: consolidatedOptions.schema.span.name,
            _key: consolidatedOptions.keyGenerator(),
            text,
            marks: [
                ...markDefRefs
            ]
        });
    }, listLevel = ()=>currentListStack.length, ensureListBlock = (listItem)=>{
        if (!currentBlock) {
            const style = currentBlockquoteStyle ?? consolidatedOptions.block.normal({
                context: {
                    schema: consolidatedOptions.schema
                }
            });
            style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal"));
        }
        if (!currentBlock) throw new Error("Expected current block");
        (currentBlock.listItem !== listItem || currentBlock.level !== listLevel()) && (currentBlock.listItem = listItem, currentBlock.level = listLevel());
    };
    for (const token of tokens)switch(token.type){
        // Paragraphs
        case "paragraph_open":
            {
                if (inListItem) {
                    if (!currentBlock) {
                        const listType = currentListStack.at(-1);
                        listType && ensureListBlock(listType);
                    }
                    break;
                }
                const style = currentBlockquoteStyle ?? consolidatedOptions.block.normal({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                });
                if (!style) {
                    console.warn('No default style found, using "normal"'), startBlock("normal");
                    break;
                }
                startBlock(style);
                break;
            }
        case "paragraph_close":
            if (inListItem) break;
            flushBlock();
            break;
        // Headings
        case "heading_open":
            {
                const level = Number(token?.tag?.slice(1)), headingMatcher = {
                    1: consolidatedOptions.block.h1,
                    2: consolidatedOptions.block.h2,
                    3: consolidatedOptions.block.h3,
                    4: consolidatedOptions.block.h4,
                    5: consolidatedOptions.block.h5,
                    6: consolidatedOptions.block.h6
                }[level], style = headingMatcher?.({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                }) ?? consolidatedOptions.block.normal({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                });
                if (!style) {
                    console.warn('No heading style found, using "normal"'), startBlock("normal");
                    break;
                }
                startBlock(style);
                break;
            }
        case "heading_close":
            flushBlock();
            break;
        // Blockquote
        case "blockquote_open":
            {
                flushBlock(), currentBlockquoteStyle = consolidatedOptions.block.blockquote({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                }) ?? consolidatedOptions.block.normal({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                }) ?? "normal";
                break;
            }
        case "blockquote_close":
            {
                flushBlock(), currentBlockquoteStyle = null;
                break;
            }
        // Lists
        case "bullet_list_open":
            {
                const listItem = consolidatedOptions.listItem.bullet({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                });
                if (!listItem) {
                    currentListStack.push(null);
                    break;
                }
                currentListStack.push(listItem);
                break;
            }
        case "ordered_list_open":
            {
                const listItem = consolidatedOptions.listItem.number({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                });
                if (!listItem) {
                    currentListStack.push(null);
                    break;
                }
                currentListStack.push(listItem);
                break;
            }
        case "bullet_list_close":
        case "ordered_list_close":
            currentListStack.pop();
            break;
        case "list_item_open":
            {
                const listType = currentListStack.at(-1);
                if (listType === void 0) throw new Error("Expected an open list");
                if (currentBlock && flushBlock(), listType === null) {
                    const style = currentBlockquoteStyle ?? consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    });
                    style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal")), inListItem = !0;
                    break;
                }
                ensureListBlock(listType), inListItem = !0;
                break;
            }
        case "list_item_close":
            inListItem = !1, flushBlock();
            break;
        // Code fences / blocks
        case "fence":
            {
                flushBlock();
                const language = token.info.trim() || void 0, code = token.content.replace(/\n$/, ""), codeObject = consolidatedOptions.types.code({
                    context: {
                        schema: consolidatedOptions.schema,
                        keyGenerator: consolidatedOptions.keyGenerator
                    },
                    value: {
                        language,
                        code
                    },
                    isInline: !1
                });
                if (!codeObject) {
                    const style = consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    });
                    style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal")), addSpan(code), flushBlock();
                    break;
                }
                portableText.push(codeObject);
                break;
            }
        // Horizontal rule
        case "hr":
            {
                flushBlock();
                const hrObject = consolidatedOptions.types.horizontalRule({
                    context: {
                        schema: consolidatedOptions.schema,
                        keyGenerator: consolidatedOptions.keyGenerator
                    },
                    value: {},
                    isInline: !1
                });
                if (!hrObject) {
                    const style = consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    });
                    style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal")), addSpan("---"), flushBlock();
                    break;
                }
                portableText.push(hrObject);
                break;
            }
        // HTML block
        case "html_block":
            {
                flushBlock();
                const htmlContent = token.content.trim();
                if (!htmlContent) break;
                const htmlObject = consolidatedOptions.types.html({
                    context: {
                        schema: consolidatedOptions.schema,
                        keyGenerator: consolidatedOptions.keyGenerator
                    },
                    value: {
                        html: htmlContent
                    },
                    isInline: !1
                });
                if (!htmlObject) {
                    const style = consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    });
                    style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal")), addSpan(htmlContent), flushBlock();
                    break;
                }
                portableText.push(htmlObject);
                break;
            }
        case "code_block":
            {
                flushBlock();
                const code = token.content.replace(/\n$/, ""), codeObject = consolidatedOptions.types.code({
                    context: {
                        schema: consolidatedOptions.schema,
                        keyGenerator: consolidatedOptions.keyGenerator
                    },
                    value: {
                        language: void 0,
                        code
                    },
                    isInline: !1
                });
                if (codeObject) portableText.push(codeObject);
                else {
                    const style = consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    });
                    style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal")), addSpan(code), flushBlock();
                }
                break;
            }
        // Tables
        case "table_open":
            flushBlock(), currentTable = {
                rows: [],
                headerRows: 0
            };
            break;
        case "table_close":
            {
                if (!currentTable) break;
                if (consolidatedOptions.types.table) {
                    const tableObject = consolidatedOptions.types.table({
                        context: {
                            schema: consolidatedOptions.schema,
                            keyGenerator: consolidatedOptions.keyGenerator
                        },
                        value: {
                            rows: currentTable.rows,
                            headerRows: currentTable.headerRows > 0 ? currentTable.headerRows : void 0
                        },
                        isInline: !1
                    });
                    tableObject ? portableText.push(tableObject) : flattenTable(currentTable, portableText);
                } else flattenTable(currentTable, portableText);
                currentTable = null;
                break;
            }
        case "thead_open":
            inTableHead = !0;
            break;
        case "thead_close":
            inTableHead = !1;
            break;
        case "tbody_open":
        case "tbody_close":
            break;
        case "tr_open":
            currentTableRow = [];
            break;
        case "tr_close":
            currentTable && currentTableRow && (currentTable.rows.push({
                _key: consolidatedOptions.keyGenerator(),
                _type: "row",
                cells: currentTableRow
            }), inTableHead && currentTable.headerRows++), currentTableRow = null;
            break;
        case "th_open":
        case "td_open":
            {
                const style = consolidatedOptions.block.normal({
                    context: {
                        schema: consolidatedOptions.schema
                    }
                });
                style ? startBlock(style) : (console.warn('No default style found, using "normal"'), startBlock("normal"));
                break;
            }
        case "th_close":
        case "td_close":
            {
                flushBlock();
                const cellBlocks = [];
                if (portableText.length > 0) {
                    const lastBlock = portableText.at(-1);
                    lastBlock && lastBlock._type === "block" && cellBlocks.push(portableText.pop());
                }
                cellBlocks.length === 0 && cellBlocks.push({
                    _type: "block",
                    style: consolidatedOptions.block.normal({
                        context: {
                            schema: consolidatedOptions.schema
                        }
                    }) || "normal",
                    children: [
                        {
                            _type: consolidatedOptions.schema.span.name,
                            _key: consolidatedOptions.keyGenerator(),
                            text: "",
                            marks: []
                        }
                    ],
                    _key: consolidatedOptions.keyGenerator(),
                    markDefs: []
                });
                const firstBlock = cellBlocks[0];
                if (cellBlocks.length === 1 && firstBlock && firstBlock._type === "block" && "children" in firstBlock && Array.isArray(firstBlock.children) && firstBlock.children.length === 1) {
                    const onlyChild = firstBlock.children[0];
                    typeof onlyChild == "object" && onlyChild !== null && "_type" in onlyChild && onlyChild._type !== consolidatedOptions.schema.span.name && onlyChild._type === "image" && (cellBlocks[0] = onlyChild);
                }
                currentTableRow !== null && currentTableRow.push({
                    _type: "cell",
                    _key: consolidatedOptions.keyGenerator(),
                    value: cellBlocks
                });
                break;
            }
        // Inline container
        case "inline":
            {
                const inTableCell = currentTableRow !== null;
                if (token.children?.length === 1 && token.children[0]?.type === "image") {
                    const imageToken = token.children[0];
                    if (!imageToken) break;
                    const src = imageToken.attrs?.find(([name])=>name === "src")?.at(1) || "", alt = unescapeImageAndLinkText(imageToken.content || ""), title = imageToken.attrs?.find(([name])=>name === "title")?.at(1) || void 0, blockImageObject = consolidatedOptions.types.image({
                        context: {
                            schema: consolidatedOptions.schema,
                            keyGenerator: consolidatedOptions.keyGenerator
                        },
                        value: {
                            src,
                            alt,
                            title
                        },
                        isInline: !1
                    });
                    if (blockImageObject) {
                        inTableCell ? currentBlock && "children" in currentBlock && currentBlock.children.push(blockImageObject) : (currentBlock && "children" in currentBlock && currentBlock.children.length > 0 ? flushBlock() : (currentBlock = null, currentMarkDefs = []), portableText.push(blockImageObject));
                        break;
                    }
                    const inlineImageObject = consolidatedOptions.types.image({
                        context: {
                            schema: consolidatedOptions.schema,
                            keyGenerator: consolidatedOptions.keyGenerator
                        },
                        value: {
                            src,
                            alt,
                            title
                        },
                        isInline: !0
                    });
                    if (inlineImageObject) {
                        if (!currentBlock) if (inListItem) {
                            const listType = currentListStack.at(-1);
                            listType && ensureListBlock(listType);
                        } else {
                            const style = consolidatedOptions.block.normal({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            style && startBlock(style);
                        }
                        currentBlock && "children" in currentBlock && currentBlock.children.push(inlineImageObject);
                        break;
                    }
                    addSpan(`![${alt}](${src})`);
                    break;
                }
                for (const childToken of token.children ?? [])switch(childToken.type){
                    case "text":
                        addSpan(childToken.content);
                        break;
                    case "softbreak":
                    case "hardbreak":
                        addSpan(`
`);
                        break;
                    case "code_inline":
                        {
                            const decorator = consolidatedOptions.marks.code({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) {
                                addSpan(childToken.content);
                                break;
                            }
                            markDefRefs.push(decorator), addSpan(childToken.content);
                            const index = markDefRefs.lastIndexOf(decorator);
                            index !== -1 && markDefRefs.splice(index, 1);
                            break;
                        }
                    case "strong_open":
                        {
                            const decorator = consolidatedOptions.marks.strong({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            markDefRefs.push(decorator);
                            break;
                        }
                    case "strong_close":
                        {
                            const decorator = consolidatedOptions.marks.strong({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            const index = markDefRefs.lastIndexOf(decorator);
                            index !== -1 && markDefRefs.splice(index, 1);
                            break;
                        }
                    case "em_open":
                        {
                            const decorator = consolidatedOptions.marks.em({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            markDefRefs.push(decorator);
                            break;
                        }
                    case "em_close":
                        {
                            const decorator = consolidatedOptions.marks.em({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            const index = markDefRefs.lastIndexOf(decorator);
                            index !== -1 && markDefRefs.splice(index, 1);
                            break;
                        }
                    case "s_open":
                        {
                            const decorator = consolidatedOptions.marks.strikeThrough({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            markDefRefs.push(decorator);
                            break;
                        }
                    case "s_close":
                        {
                            const decorator = consolidatedOptions.marks.strikeThrough({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            if (!decorator) break;
                            const index = markDefRefs.lastIndexOf(decorator);
                            index !== -1 && markDefRefs.splice(index, 1);
                            break;
                        }
                    case "link_open":
                        {
                            const href = childToken.attrs?.find(([name])=>name === "href")?.at(1);
                            if (!href) break;
                            const title = childToken.attrs?.find(([name])=>name === "title")?.at(1), linkObject = consolidatedOptions.marks.link({
                                context: {
                                    schema: consolidatedOptions.schema,
                                    keyGenerator: consolidatedOptions.keyGenerator
                                },
                                value: {
                                    href,
                                    title
                                }
                            });
                            if (!linkObject) break;
                            currentMarkDefs.push(linkObject), markDefRefs.push(linkObject._key);
                            break;
                        }
                    case "link_close":
                        {
                            const markDefKeys = new Set(currentMarkDefs.map((d)=>d._key));
                            let lastLinkIndex;
                            for (const markDefRef of markDefRefs.reverse())if (markDefKeys.has(markDefRef)) {
                                lastLinkIndex = markDefRefs.indexOf(markDefRef);
                                break;
                            }
                            if (lastLinkIndex !== void 0) {
                                const realIndex = markDefRefs.length - 1 - lastLinkIndex;
                                markDefRefs.splice(realIndex, 1);
                            }
                            break;
                        }
                    case "image":
                        {
                            const src = childToken.attrs?.find(([name])=>name === "src")?.at(1) || "", alt = unescapeImageAndLinkText(childToken.content || ""), inlineImageObject = consolidatedOptions.types.image({
                                context: {
                                    schema: consolidatedOptions.schema,
                                    keyGenerator: consolidatedOptions.keyGenerator
                                },
                                value: {
                                    src,
                                    alt,
                                    title: void 0
                                },
                                isInline: !0
                            });
                            if (inlineImageObject) {
                                if (!currentBlock) {
                                    const style2 = consolidatedOptions.block.normal({
                                        context: {
                                            schema: consolidatedOptions.schema
                                        }
                                    });
                                    style2 ? startBlock(style2) : (console.warn('No default style found, using "normal"'), startBlock("normal"));
                                }
                                if (!currentBlock) throw new Error("Expected current block after startBlock");
                                currentBlock.children.push(inlineImageObject);
                                break;
                            }
                            const blockImageObject = consolidatedOptions.types.image({
                                context: {
                                    schema: consolidatedOptions.schema,
                                    keyGenerator: consolidatedOptions.keyGenerator
                                },
                                value: {
                                    src,
                                    alt,
                                    title: void 0
                                },
                                isInline: !1
                            });
                            if (!blockImageObject) {
                                addSpan(`![${alt}](${src})`);
                                break;
                            }
                            if (inTableCell) {
                                currentBlock && "children" in currentBlock && currentBlock.children.push(blockImageObject);
                                break;
                            }
                            flushBlock(), portableText.push(blockImageObject);
                            const style = consolidatedOptions.block.normal({
                                context: {
                                    schema: consolidatedOptions.schema
                                }
                            });
                            style && startBlock(style);
                            break;
                        }
                    case "html_inline":
                        {
                            consolidatedOptions.html.inline === "text" && addSpan(childToken.content);
                            break;
                        }
                }
                break;
            }
    }
    return flushBlock(), portableText;
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/patches/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "applyAll",
    ()=>applyAll,
    "diffMatchPatch",
    ()=>diffMatchPatch,
    "insert",
    ()=>insert,
    "prefixPath",
    ()=>prefixPath,
    "set",
    ()=>set,
    "setIfMissing",
    ()=>setIfMissing,
    "unset",
    ()=>unset
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$diff$2d$match$2d$patch$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@sanity/diff-match-patch/dist/index.js [app-ssr] (ecmascript)");
;
const BEFORE = "before", AFTER = "after";
function insert$1(array, position, index, ...args) {
    if (position !== BEFORE && position !== AFTER) throw new Error(`Invalid position "${position}", must be either ${BEFORE} or ${AFTER}`);
    const items = flatten(...args);
    if (array.length === 0) return items;
    const len = array.length, idx = Math.abs((len + index) % len) % len, normalizedIdx = position === "after" ? idx + 1 : idx, copy = array.slice();
    return copy.splice(normalizedIdx, 0, ...flatten(items)), copy;
}
function flatten(...values) {
    return values.reduce((prev, item)=>prev.concat(item), []);
}
function isKeyedSegment(segment) {
    return typeof segment == "object" && segment !== null && "_key" in segment;
}
function findTargetIndex(array, pathSegment) {
    if (typeof pathSegment == "number") return pathSegment;
    if (isKeyedSegment(pathSegment)) {
        const index = array.findIndex((item)=>item._key === pathSegment._key);
        return index === -1 ? !1 : index;
    }
    return !1;
}
function applyPatchToArray(value, patch) {
    const nextValue = value.slice();
    if (patch.path.length === 0) {
        if (patch.type === "setIfMissing") {
            if (!Array.isArray(patch.value)) throw new Error("Cannot set value of an array to a non-array");
            return value === void 0 ? patch.value : value;
        }
        if (patch.type === "set") {
            if (!Array.isArray(patch.value)) throw new Error("Cannot set value of an array to a non-array");
            return patch.value;
        }
        if (patch.type === "unset") return;
        throw new Error(`Invalid array operation: ${patch.type}`);
    }
    const [head, ...tail] = patch.path, index = findTargetIndex(value, head);
    if (index === !1) return nextValue;
    if (tail.length === 0) {
        if (patch.type === "insert") {
            const { position, items } = patch;
            return insert$1(value, position, index, items);
        } else if (patch.type === "unset") {
            if (typeof index != "number") throw new Error(`Expected array index to be a number, instead got "${index}"`);
            return nextValue.splice(index, 1), nextValue;
        }
    }
    return nextValue[index] = applyPatch(nextValue[index], {
        ...patch,
        path: tail
    }), nextValue;
}
function applyPatchToNumber(value, patch) {
    if (patch.path.length > 0) throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${patch.type}" and path "${patch.path.map((path)=>JSON.stringify(path)).join(".")} that targeted the value "${JSON.stringify(value)}"`);
    if (patch.type === "set") return patch.value;
    if (patch.type === "setIfMissing") return value === void 0 ? patch.value : value;
    if (patch.type !== "unset") {
        if (patch.type === "inc") {
            if (typeof patch.value != "number") throw new Error("Cannot increment with a non-number");
            return value + patch.value;
        }
        if (patch.type === "dec") {
            if (typeof patch.value != "number") throw new Error("Cannot decrement with a non-number");
            return value - patch.value;
        }
        throw new Error(`Received patch of unsupported type: "${JSON.stringify(patch.type)}" for number. This is most likely a bug.`);
    }
}
function applyPatchToObject(value, patch) {
    const nextValue = {
        ...value
    };
    if (patch.path.length === 0) {
        if (patch.type === "set") {
            if (typeof patch.value == "object" && patch.value !== null && !Array.isArray(patch.value)) return patch.value;
            throw new Error("Cannot set value of an object to a non-object");
        }
        if (patch.type === "setIfMissing") {
            if (typeof patch.value == "object" && patch.value !== null && !Array.isArray(patch.value)) return value;
            throw new Error("Cannot setIfMissing value of an object to a non-object");
        }
        if (patch.type === "unset") return;
        throw new Error(`Invalid object operation: ${patch.type}`);
    }
    const [head, ...tail] = patch.path;
    if (typeof head != "string") throw new Error(`Expected field name to be a string, instead got: ${head}`);
    if (tail.length === 0 && patch.type === "unset") {
        const { [head]: _, ...rest } = nextValue;
        return rest;
    }
    return !(head in nextValue) && tail.length > 0 || (nextValue[head] = applyPatch(nextValue[head], {
        ...patch,
        path: tail
    })), nextValue;
}
function applyPatchToUnknown(value, patch) {
    if (patch.path.length > 0) throw new Error(`Cannot apply deep operations on primitive values. Received patch with type "${patch.type}" and path "${patch.path.map((path)=>JSON.stringify(path)).join(".")} that targeted the value "${JSON.stringify(value)}"`);
    if (patch.type === "set") return patch.value;
    if (patch.type === "setIfMissing") return value === void 0 ? patch.value : value;
    if (patch.type !== "unset") throw new Error(`Received patch of unsupported type: "${JSON.stringify(patch.type)}" for primitives. This is most likely a bug.`);
}
function applyPatchToString(value, patch) {
    if (patch.path.length > 0) throw new Error(`Cannot apply deep operations on string values. Received patch with type "${patch.type}" and path "${patch.path.join(".")} that targeted the value "${JSON.stringify(value)}"`);
    if (patch.type === "diffMatchPatch") {
        const [result] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$diff$2d$match$2d$patch$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["applyPatches"])((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$diff$2d$match$2d$patch$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["parsePatch"])(patch.value), value, {
            allowExceedingIndices: !0
        });
        return result;
    }
    if (patch.type === "setIfMissing") return value === void 0 ? patch.value : value;
    if (patch.type === "set") return patch.value;
    if (patch.type !== "unset") throw new Error(`Received patch of unsupported type: "${JSON.stringify(patch.type)}" for string. This is most likely a bug.`);
}
function applyAll(value, patches) {
    return patches.reduce(applyPatch, value);
}
function applyPatch(value, patch) {
    return Array.isArray(value) ? applyPatchToArray(value, patch) : typeof value == "string" ? applyPatchToString(value, patch) : isObject(value) ? applyPatchToObject(value, patch) : typeof value == "number" ? applyPatchToNumber(value, patch) : applyPatchToUnknown(value, patch);
}
function isObject(value) {
    return typeof value == "object" && value !== null && !Array.isArray(value);
}
function setIfMissing(value, path = []) {
    return {
        type: "setIfMissing",
        path,
        value
    };
}
function diffMatchPatch(currentValue, nextValue, path = []) {
    const patches = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$diff$2d$match$2d$patch$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["makePatches"])(currentValue, nextValue), patch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$sanity$2f$diff$2d$match$2d$patch$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["stringifyPatches"])(patches);
    return {
        type: "diffMatchPatch",
        path,
        value: patch
    };
}
function insert(items, position, path = []) {
    return {
        type: "insert",
        path,
        position,
        items
    };
}
function set(value, path = []) {
    return {
        type: "set",
        path,
        value
    };
}
function unset(path = []) {
    return {
        type: "unset",
        path
    };
}
function prefixPath(patch, segment) {
    return {
        ...patch,
        path: [
            segment,
            ...patch.path
        ]
    };
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/keyboard-shortcuts/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "blockquote",
    ()=>blockquote,
    "bold",
    ()=>bold,
    "code",
    ()=>code,
    "createKeyboardShortcut",
    ()=>createKeyboardShortcut,
    "h1",
    ()=>h1,
    "h2",
    ()=>h2,
    "h3",
    ()=>h3,
    "h4",
    ()=>h4,
    "h5",
    ()=>h5,
    "h6",
    ()=>h6,
    "italic",
    ()=>italic,
    "link",
    ()=>link,
    "normal",
    ()=>normal,
    "redo",
    ()=>redo,
    "strikeThrough",
    ()=>strikeThrough,
    "underline",
    ()=>underline,
    "undo",
    ()=>undo
]);
const IS_APPLE = ("TURBOPACK compile-time value", "undefined") < "u" && /Mac|iPod|iPhone|iPad/.test(window.navigator.userAgent);
function isKeyboardShortcut(definition, event) {
    return isCorrectModifiers(definition, event) ? definition.code !== void 0 && definition.code.toLowerCase() === event.code.toLowerCase() ? !0 : definition.key !== void 0 && definition.key.toLowerCase() === event.key.toLowerCase() : !1;
}
function isCorrectModifiers(definition, event) {
    return (definition.ctrl === event.ctrlKey || definition.ctrl === void 0) && (definition.meta === event.metaKey || definition.meta === void 0) && (definition.shift === event.shiftKey || definition.shift === void 0) && (definition.alt === event.altKey || definition.alt === void 0);
}
function createKeyboardShortcut(definition) {
    if (IS_APPLE) {
        const appleDefinition = definition.apple ?? definition.default, firstDefinition2 = appleDefinition.at(0);
        return {
            guard: (event)=>appleDefinition.some((definition2)=>isKeyboardShortcut(definition2, event)),
            keys: [
                ...firstDefinition2?.meta ? [
                    "\u2318"
                ] : [],
                ...firstDefinition2?.ctrl ? [
                    "Ctrl"
                ] : [],
                ...firstDefinition2?.alt ? [
                    "Option"
                ] : [],
                ...firstDefinition2?.shift ? [
                    "Shift"
                ] : [],
                ...firstDefinition2?.key !== void 0 ? [
                    firstDefinition2.key
                ] : firstDefinition2?.code !== void 0 ? [
                    firstDefinition2.code
                ] : []
            ]
        };
    }
    const firstDefinition = definition.default.at(0);
    return {
        guard: (event)=>definition.default.some((definition2)=>isKeyboardShortcut(definition2, event)),
        keys: [
            ...firstDefinition?.meta ? [
                "Meta"
            ] : [],
            ...firstDefinition?.ctrl ? [
                "Ctrl"
            ] : [],
            ...firstDefinition?.alt ? [
                "Alt"
            ] : [],
            ...firstDefinition?.shift ? [
                "Shift"
            ] : [],
            ...firstDefinition?.key !== void 0 ? [
                firstDefinition.key
            ] : firstDefinition?.code !== void 0 ? [
                firstDefinition.code
            ] : []
        ]
    };
}
const bold = createKeyboardShortcut({
    default: [
        {
            key: "B",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "B",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), italic = createKeyboardShortcut({
    default: [
        {
            key: "I",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "I",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), code = createKeyboardShortcut({
    default: [
        {
            key: "'",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "'",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), underline = createKeyboardShortcut({
    default: [
        {
            key: "U",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "U",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), strikeThrough = createKeyboardShortcut({
    default: [
        {
            key: "X",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !0
        }
    ],
    apple: [
        {
            key: "X",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !0
        }
    ]
}), link = createKeyboardShortcut({
    default: [
        {
            key: "K",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "K",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), normal = createKeyboardShortcut({
    default: [
        {
            key: "0",
            code: "Digit0",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "0",
            code: "Numpad0",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "0",
            code: "Digit0",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "0",
            code: "Numpad0",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h1 = createKeyboardShortcut({
    default: [
        {
            key: "1",
            code: "Digit1",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "1",
            code: "Numpad1",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "1",
            code: "Digit1",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "1",
            code: "Numpad1",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h2 = createKeyboardShortcut({
    default: [
        {
            key: "2",
            code: "Digit2",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "2",
            code: "Numpad2",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "2",
            code: "Digit2",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "2",
            code: "Numpad2",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h3 = createKeyboardShortcut({
    default: [
        {
            key: "3",
            code: "Digit3",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "3",
            code: "Numpad3",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "3",
            code: "Digit3",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "3",
            code: "Numpad3",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h4 = createKeyboardShortcut({
    default: [
        {
            key: "4",
            code: "Digit4",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "4",
            code: "Numpad4",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "4",
            code: "Digit4",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "4",
            code: "Numpad4",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h5 = createKeyboardShortcut({
    default: [
        {
            key: "5",
            code: "Digit5",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "5",
            code: "Numpad5",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "5",
            code: "Digit5",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "5",
            code: "Numpad5",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), h6 = createKeyboardShortcut({
    default: [
        {
            key: "6",
            code: "Digit6",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "6",
            code: "Numpad6",
            alt: !0,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "6",
            code: "Digit6",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        },
        {
            key: "6",
            code: "Numpad6",
            alt: !0,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), blockquote = createKeyboardShortcut({
    default: [
        {
            key: "Q",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !0
        }
    ]
}), undo = createKeyboardShortcut({
    default: [
        {
            key: "Z",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        }
    ],
    apple: [
        {
            key: "Z",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !1
        }
    ]
}), redo = createKeyboardShortcut({
    default: [
        {
            key: "Y",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !1
        },
        {
            key: "Z",
            alt: !1,
            ctrl: !0,
            meta: !1,
            shift: !0
        }
    ],
    apple: [
        {
            key: "Z",
            alt: !1,
            ctrl: !1,
            meta: !0,
            shift: !0
        }
    ]
});
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-one-line/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "OneLinePlugin",
    ()=>OneLinePlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/use-editor.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/behaviors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/schema/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/utils/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
const oneLineBehaviors = [
    /**
   * Hitting Enter on an expanded selection should just delete that selection
   * without causing a line break.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.break",
        guard: ({ snapshot })=>snapshot.context.selection && __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectionExpanded"](snapshot) ? {
                selection: snapshot.context.selection
            } : !1,
        actions: [
            (_, { selection })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: selection
                    })
                ]
        ]
    }),
    /**
   * All other cases of `insert.break` should be aborted.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.break",
        actions: []
    }),
    /**
   * `insert.block` `before` or `after` is not allowed in a one-line editor.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.block",
        guard: ({ event })=>event.placement === "before" || event.placement === "after",
        actions: []
    }),
    /**
   * An ordinary `insert.block` is acceptable if it's a text block. In that
   * case it will get merged into the existing text block.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.block",
        guard: ({ snapshot, event })=>!__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot) || !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"](snapshot.context, event.block) ? !1 : event.placement !== "auto" || event.select !== "end",
        actions: [
            ({ event })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block: event.block,
                        placement: "auto",
                        select: "end"
                    })
                ]
        ]
    }),
    /**
   * Fallback Behavior to avoid `insert.block` in case the Behaviors above all
   * end up with a falsy guard.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.block",
        guard: ({ snapshot, event })=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot) ? !__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"](snapshot.context, event.block) : !0,
        actions: []
    }),
    /**
   * If multiple blocks are inserted, then the non-text blocks are filtered out
   * and the text blocks are merged into one block
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.blocks",
        guard: ({ snapshot, event })=>{
            const textBlocks = event.blocks.filter((block)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$schema$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isTextBlock"](snapshot.context, block));
            return textBlocks.length === 0 ? !1 : textBlocks.reduce((targetBlock, incomingBlock)=>__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["mergeTextBlocks"]({
                    context: snapshot.context,
                    targetBlock,
                    incomingBlock
                }));
        },
        actions: [
            // `insert.block` is raised so the Behavior above can handle the
            // insertion
            (_, block)=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block,
                        placement: "auto"
                    })
                ]
        ]
    }),
    /**
   * Fallback Behavior to avoid `insert.blocks` in case the Behavior above
   * ends up with a falsy guard.
   */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.blocks",
        actions: []
    })
];
function OneLinePlugin() {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(3), editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEditor"])();
    let t0, t1;
    return $[0] !== editor ? (t0 = ()=>{
        const unregisterBehaviors = oneLineBehaviors.map((behavior)=>editor.registerBehavior({
                behavior
            }));
        return ()=>{
            for (const unregisterBehavior of unregisterBehaviors)unregisterBehavior();
        };
    }, t1 = [
        editor
    ], $[0] = editor, $[1] = t0, $[2] = t1) : (t0 = $[1], t1 = $[2]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t0, t1), null;
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-character-pair-decorator/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "CharacterPairDecoratorPlugin",
    ()=>CharacterPairDecoratorPlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/use-editor.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/behaviors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/util.slice-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/utils/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$xstate$2f$react$2f$dist$2f$xstate$2d$react$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@xstate/react/dist/xstate-react.development.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$remeda$2f$dist$2f$isDeepEqual$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/remeda/dist/isDeepEqual.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$xstate$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/xstate/dist/xstate.development.esm.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/xstate/actors/dist/xstate-actors.development.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$assign$2d$2343d091$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__a__as__assign$3e$__ = __turbopack_context__.i("[project]/node_modules/xstate/dist/assign-2343d091.development.esm.js [app-ssr] (ecmascript) <export a as assign>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/selectors/index.js [app-ssr] (ecmascript) <locals>");
;
;
;
;
;
;
;
;
function createCharacterPairRegex(char, amount) {
    const prePrefix = `(?<!\\${char})`, prefix = `\\${char}`.repeat(Math.max(amount, 1)), postPrefix = "(?!\\s)", content = `([^${char}\\n]+?)`, preSuffix = "(?<!\\s)", suffix = `\\${char}`.repeat(Math.max(amount, 1)), postSuffix = `(?!\\${char})`;
    return `${prePrefix}${prefix}${postPrefix}${content}${preSuffix}${suffix}${postSuffix}`;
}
function createCharacterPairDecoratorBehavior(config) {
    config.pair.amount < 1 && console.warn("The amount of characters in the pair should be greater than 0");
    const pairRegex = createCharacterPairRegex(config.pair.char, config.pair.amount), regEx = new RegExp(`(${pairRegex})$`);
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.text",
        guard: ({ snapshot, event })=>{
            if (config.pair.amount < 1) return !1;
            const decorator = config.decorator({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema
            });
            if (decorator === void 0) return !1;
            const focusTextBlock = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot), selectionStartPoint = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getSelectionStartPoint"](snapshot), selectionStartOffset = selectionStartPoint ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanSelectionPointToBlockOffset"]({
                context: snapshot.context,
                selectionPoint: selectionStartPoint
            }) : void 0;
            if (!focusTextBlock || !selectionStartOffset) return !1;
            const newText = `${__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getBlockTextBefore"](snapshot)}${event.text}`, textToDecorate = newText.match(regEx)?.at(0);
            if (textToDecorate === void 0) return !1;
            const prefixOffsets = {
                anchor: {
                    path: focusTextBlock.path,
                    // Example: "foo **bar**".length - "**bar**".length = 4
                    offset: newText.length - textToDecorate.length
                },
                focus: {
                    path: focusTextBlock.path,
                    // Example: "foo **bar**".length - "**bar**".length + "*".length * 2 = 6
                    offset: newText.length - textToDecorate.length + config.pair.char.length * config.pair.amount
                }
            }, suffixOffsets = {
                anchor: {
                    path: focusTextBlock.path,
                    // Example: "foo **bar*|" (10) + "*".length - 2 = 9
                    offset: selectionStartOffset.offset + event.text.length - config.pair.char.length * config.pair.amount
                },
                focus: {
                    path: focusTextBlock.path,
                    // Example: "foo **bar*|" (10) + "*".length = 11
                    offset: selectionStartOffset.offset + event.text.length
                }
            };
            if (prefixOffsets.focus.offset - prefixOffsets.anchor.offset > 1) {
                const prefixSelection = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["blockOffsetsToSelection"]({
                    context: snapshot.context,
                    offsets: prefixOffsets
                }), inlineObjectBeforePrefixFocus = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"]({
                    ...snapshot,
                    context: {
                        ...snapshot.context,
                        selection: prefixSelection ? {
                            anchor: prefixSelection.focus,
                            focus: prefixSelection.focus
                        } : null
                    }
                }), inlineObjectBeforePrefixFocusOffset = inlineObjectBeforePrefixFocus ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["childSelectionPointToBlockOffset"]({
                    context: snapshot.context,
                    selectionPoint: {
                        path: inlineObjectBeforePrefixFocus.path,
                        offset: 0
                    }
                }) : void 0;
                if (inlineObjectBeforePrefixFocusOffset && inlineObjectBeforePrefixFocusOffset.offset > prefixOffsets.anchor.offset && inlineObjectBeforePrefixFocusOffset.offset < prefixOffsets.focus.offset) return !1;
            }
            if (suffixOffsets.focus.offset - suffixOffsets.anchor.offset > 1) {
                const previousInlineObject = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"](snapshot), previousInlineObjectOffset = previousInlineObject ? __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["childSelectionPointToBlockOffset"]({
                    context: snapshot.context,
                    selectionPoint: {
                        path: previousInlineObject.path,
                        offset: 0
                    }
                }) : void 0;
                if (previousInlineObjectOffset && previousInlineObjectOffset.offset > suffixOffsets.anchor.offset && previousInlineObjectOffset.offset < suffixOffsets.focus.offset) return !1;
            }
            return {
                prefixOffsets,
                suffixOffsets,
                decorator
            };
        },
        actions: [
            // Insert the text as usual in its own undo step
            ({ event })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forward"])(event)
                ],
            (_, { prefixOffsets, suffixOffsets, decorator })=>[
                    // Decorate the text between the prefix and suffix
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "decorator.add",
                        decorator,
                        at: {
                            anchor: prefixOffsets.focus,
                            focus: suffixOffsets.anchor
                        }
                    }),
                    // Delete the suffix
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete.text",
                        at: suffixOffsets
                    }),
                    // Delete the prefix
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete.text",
                        at: prefixOffsets
                    }),
                    // Toggle the decorator off so the next inserted text isn't emphasized
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "decorator.remove",
                        decorator
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["effect"])(()=>{
                        config.onDecorate({
                            ...suffixOffsets.anchor,
                            offset: suffixOffsets.anchor.offset - (prefixOffsets.focus.offset - prefixOffsets.anchor.offset)
                        });
                    })
                ]
        ]
    });
}
function CharacterPairDecoratorPlugin(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(4), editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEditor"])();
    let t0;
    return $[0] !== editor || $[1] !== props.decorator || $[2] !== props.pair ? (t0 = {
        input: {
            editor,
            decorator: props.decorator,
            pair: props.pair
        }
    }, $[0] = editor, $[1] = props.decorator, $[2] = props.pair, $[3] = t0) : t0 = $[3], (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$xstate$2f$react$2f$dist$2f$xstate$2d$react$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useActorRef"])(decoratorPairMachine, t0), null;
}
const decorateListener = ({ sendBack, input })=>input.editor.registerBehavior({
        behavior: createCharacterPairDecoratorBehavior({
            decorator: input.decorator,
            pair: input.pair,
            onDecorate: (offset)=>{
                sendBack({
                    type: "decorator.add",
                    blockOffset: offset
                });
            }
        })
    }), selectionListenerCallback = ({ sendBack, input })=>input.editor.registerBehavior({
        behavior: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
            on: "select",
            guard: ({ snapshot, event })=>{
                if (!event.at) return {
                    blockOffsets: void 0
                };
                const anchor = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanSelectionPointToBlockOffset"]({
                    context: snapshot.context,
                    selectionPoint: event.at.anchor
                }), focus = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["spanSelectionPointToBlockOffset"]({
                    context: snapshot.context,
                    selectionPoint: event.at.focus
                });
                return !anchor || !focus ? {
                    blockOffsets: void 0
                } : {
                    blockOffsets: {
                        anchor,
                        focus
                    }
                };
            },
            actions: [
                ({ event }, { blockOffsets })=>[
                        {
                            type: "effect",
                            effect: ()=>{
                                sendBack({
                                    type: "selection",
                                    blockOffsets
                                });
                            }
                        },
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forward"])(event)
                    ]
            ]
        })
    }), deleteBackwardListenerCallback = ({ sendBack, input })=>input.editor.registerBehavior({
        behavior: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
            on: "delete.backward",
            actions: [
                ()=>[
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                            type: "history.undo"
                        }),
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["effect"])(()=>{
                            sendBack({
                                type: "delete.backward"
                            });
                        })
                    ]
            ]
        })
    }), decoratorPairMachine = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$xstate$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["setup"])({
    types: {
        context: {},
        input: {},
        events: {}
    },
    actors: {
        "decorate listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(decorateListener),
        "delete.backward listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(deleteBackwardListenerCallback),
        "selection listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(selectionListenerCallback)
    }
}).createMachine({
    id: "decorator pair",
    context: ({ input })=>({
            decorator: input.decorator,
            editor: input.editor,
            pair: input.pair
        }),
    initial: "idle",
    states: {
        idle: {
            invoke: [
                {
                    src: "decorate listener",
                    input: ({ context })=>({
                            decorator: context.decorator,
                            editor: context.editor,
                            pair: context.pair
                        })
                }
            ],
            on: {
                "decorator.add": {
                    target: "decorator added",
                    actions: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$assign$2d$2343d091$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__a__as__assign$3e$__["assign"])({
                        offsetAfterDecorator: ({ event })=>event.blockOffset
                    })
                }
            }
        },
        "decorator added": {
            exit: [
                (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$assign$2d$2343d091$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$export__a__as__assign$3e$__["assign"])({
                    offsetAfterDecorator: void 0
                })
            ],
            invoke: [
                {
                    src: "selection listener",
                    input: ({ context })=>({
                            editor: context.editor
                        })
                },
                {
                    src: "delete.backward listener",
                    input: ({ context })=>({
                            editor: context.editor
                        })
                }
            ],
            on: {
                selection: {
                    target: "idle",
                    guard: ({ context, event })=>!(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$remeda$2f$dist$2f$isDeepEqual$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isDeepEqual"])({
                            anchor: context.offsetAfterDecorator,
                            focus: context.offsetAfterDecorator
                        }, event.blockOffsets)
                },
                "delete.backward": {
                    target: "idle"
                }
            }
        }
    }
});
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-input-rule/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "InputRulePlugin",
    ()=>InputRulePlugin,
    "defineInputRule",
    ()=>defineInputRule,
    "defineInputRuleBehavior",
    ()=>defineInputRuleBehavior,
    "defineTextTransformRule",
    ()=>defineTextTransformRule
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/use-editor.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/behaviors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/selectors/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/util.slice-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/utils/index.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$xstate$2f$react$2f$dist$2f$xstate$2d$react$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@xstate/react/dist/xstate-react.development.esm.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$xstate$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__ = __turbopack_context__.i("[project]/node_modules/xstate/dist/xstate.development.esm.js [app-ssr] (ecmascript) <locals>");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/xstate/actors/dist/xstate-actors.development.esm.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
function defineInputRule(config) {
    return config;
}
function getInputRuleMatchLocation({ match, adjustIndexBy, snapshot, focusBlock, originalTextBefore }) {
    const [text, start, end] = match, adjustedIndex = start + adjustIndexBy, targetOffsets = {
        anchor: {
            path: focusBlock.path,
            offset: adjustedIndex
        },
        focus: {
            path: focusBlock.path,
            offset: adjustedIndex + end - start
        },
        backward: !1
    }, normalizedOffsets = {
        anchor: {
            path: focusBlock.path,
            offset: Math.min(targetOffsets.anchor.offset, originalTextBefore.length)
        },
        focus: {
            path: focusBlock.path,
            offset: Math.min(targetOffsets.focus.offset, originalTextBefore.length)
        }
    }, anchorBackwards = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["blockOffsetToSpanSelectionPoint"])({
        context: snapshot.context,
        blockOffset: normalizedOffsets.anchor,
        direction: "backward"
    }), focusForwards = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["blockOffsetToSpanSelectionPoint"])({
        context: snapshot.context,
        blockOffset: normalizedOffsets.focus,
        direction: "forward"
    });
    if (!anchorBackwards || !focusForwards) return;
    const selection = {
        anchor: anchorBackwards,
        focus: focusForwards
    }, inlineObjectsAfterMatch = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getNextInlineObjects"])({
        ...snapshot,
        context: {
            ...snapshot.context,
            selection: {
                anchor: selection.anchor,
                focus: selection.anchor
            }
        }
    }), inlineObjectsBefore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getPreviousInlineObjects"])(snapshot);
    if (!inlineObjectsAfterMatch.some((inlineObjectAfter)=>inlineObjectsBefore.some((inlineObjectBefore)=>inlineObjectAfter.node._key === inlineObjectBefore.node._key))) return {
        text,
        selection,
        targetOffsets
    };
}
function defineInputRuleBehavior(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "insert.text",
        guard: ({ snapshot, event, dom })=>{
            if (!snapshot.context.selection || !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$util$2e$slice$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectionCollapsed"])(snapshot.context.selection)) return !1;
            const focusBlock = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusBlock"])(snapshot);
            if (!focusBlock) return !1;
            const originalTextBefore = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getBlockTextBefore"])(snapshot);
            let textBefore = originalTextBefore;
            const originalNewText = textBefore + event.text;
            let newText = originalNewText;
            const foundMatches = [], foundActions = [];
            for (const rule of config.rules){
                const matcher = new RegExp(rule.on.source, "gd");
                for(;;){
                    const ruleMatches = [
                        ...newText.matchAll(matcher)
                    ].flatMap((regExpMatch)=>{
                        if (regExpMatch.indices === void 0) return [];
                        const match = regExpMatch.indices.at(0);
                        if (!match) return [];
                        const matchLocation = getInputRuleMatchLocation({
                            match: [
                                regExpMatch.at(0) ?? "",
                                ...match
                            ],
                            adjustIndexBy: originalNewText.length - newText.length,
                            snapshot,
                            focusBlock,
                            originalTextBefore
                        });
                        if (!matchLocation) return [];
                        if (matchLocation.targetOffsets.focus.offset <= originalTextBefore.length) return [];
                        if (foundMatches.some((foundMatch)=>foundMatch.targetOffsets.anchor.offset === matchLocation.targetOffsets.anchor.offset)) return [];
                        const groupMatches = regExpMatch.indices.length > 1 ? regExpMatch.indices.slice(1).filter((indices)=>indices !== void 0) : [];
                        return [
                            {
                                text: matchLocation.text,
                                selection: matchLocation.selection,
                                targetOffsets: matchLocation.targetOffsets,
                                groupMatches: groupMatches.flatMap((match2, index)=>{
                                    const text = regExpMatch.at(index + 1) ?? "";
                                    return getInputRuleMatchLocation({
                                        match: [
                                            text,
                                            ...match2
                                        ],
                                        adjustIndexBy: originalNewText.length - newText.length,
                                        snapshot,
                                        focusBlock,
                                        originalTextBefore
                                    }) || [];
                                })
                            }
                        ];
                    });
                    if (ruleMatches.length > 0) {
                        const guardResult = rule.guard?.({
                            snapshot,
                            event: {
                                type: "custom.input rule",
                                matches: ruleMatches,
                                focusBlock,
                                textBefore: originalTextBefore,
                                textInserted: event.text
                            },
                            dom
                        }) ?? !0;
                        if (!guardResult) break;
                        const actionSets = rule.actions.map((action)=>action({
                                snapshot,
                                event: {
                                    type: "custom.input rule",
                                    matches: ruleMatches,
                                    focusBlock,
                                    textBefore: originalTextBefore,
                                    textInserted: event.text
                                },
                                dom
                            }, guardResult));
                        for (const actionSet of actionSets)for (const action of actionSet)foundActions.push(action);
                        const matches = ruleMatches.flatMap((match)=>match.groupMatches.length === 0 ? [
                                match
                            ] : match.groupMatches);
                        for (const match of matches)foundMatches.push(match), textBefore = newText.slice(0, match.targetOffsets.focus.offset ?? 0), newText = originalNewText.slice(match.targetOffsets.focus.offset ?? 0);
                    } else break;
                }
            }
            return foundActions.length === 0 ? !1 : {
                actions: foundActions
            };
        },
        actions: [
            ({ event })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["forward"])(event)
                ],
            (_, { actions })=>actions,
            ({ snapshot })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["effect"])(()=>{
                        const blockOffsets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getBlockOffsets"])(snapshot);
                        config.onApply?.({
                            endOffsets: blockOffsets,
                            endSelection: snapshot.context.selection
                        });
                    })
                ]
        ]
    });
}
function InputRulePlugin(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(3), editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEditor"])();
    let t0;
    return $[0] !== editor || $[1] !== props.rules ? (t0 = {
        input: {
            editor,
            rules: props.rules
        }
    }, $[0] = editor, $[1] = props.rules, $[2] = t0) : t0 = $[2], (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$xstate$2f$react$2f$dist$2f$xstate$2d$react$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useActorRef"])(inputRuleMachine, t0), null;
}
const inputRuleListenerCallback = ({ input, sendBack })=>{
    const unregister = input.editor.registerBehavior({
        behavior: defineInputRuleBehavior({
            rules: input.rules,
            onApply: ({ endOffsets, endSelection })=>{
                sendBack({
                    type: "input rule raised",
                    endOffsets,
                    endSelection
                });
            }
        })
    });
    return ()=>{
        unregister();
    };
}, deleteBackwardListenerCallback = ({ input, sendBack })=>input.editor.registerBehavior({
        behavior: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
            on: "delete.backward",
            actions: [
                ()=>[
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                            type: "history.undo"
                        }),
                        (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["effect"])(()=>{
                            sendBack({
                                type: "history.undo raised"
                            });
                        })
                    ]
            ]
        })
    }), selectionListenerCallback = ({ sendBack, input })=>{
    const subscription = input.editor.on("selection", (event)=>{
        const blockOffsets = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$selectors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["getBlockOffsets"])({
            ...input.editor.getSnapshot(),
            context: {
                ...input.editor.getSnapshot().context,
                selection: event.selection
            }
        });
        sendBack({
            type: "selection changed",
            blockOffsets,
            selection: event.selection
        });
    });
    return ()=>subscription.unsubscribe();
}, inputRuleSetup = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$dist$2f$xstate$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["setup"])({
    types: {
        context: {},
        input: {},
        events: {}
    },
    actors: {
        "delete.backward listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(deleteBackwardListenerCallback),
        "input rule listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(inputRuleListenerCallback),
        "selection listener": (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$xstate$2f$actors$2f$dist$2f$xstate$2d$actors$2e$development$2e$esm$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["fromCallback"])(selectionListenerCallback)
    },
    guards: {
        "selection changed": ({ context, event })=>{
            if (event.type !== "selection changed") return !1;
            if (event.blockOffsets && context.endOffsets) {
                const startChanged = context.endOffsets.start.path[0]._key !== event.blockOffsets.start.path[0]._key || context.endOffsets.start.offset !== event.blockOffsets.start.offset, endChanged = context.endOffsets.end.path[0]._key !== event.blockOffsets.end.path[0]._key || context.endOffsets.end.offset !== event.blockOffsets.end.offset;
                return startChanged || endChanged;
            }
            return !(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$utils$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__$3c$locals$3e$__["isEqualSelections"])(context.endSelection, event.selection);
        }
    }
}), assignEndState = inputRuleSetup.assign({
    endOffsets: ({ context, event })=>event.type === "input rule raised" ? event.endOffsets : context.endOffsets,
    endSelection: ({ context, event })=>event.type === "input rule raised" ? event.endSelection : context.endSelection
}), inputRuleMachine = inputRuleSetup.createMachine({
    id: "input rule",
    context: ({ input })=>({
            editor: input.editor,
            rules: input.rules,
            endOffsets: void 0,
            endSelection: null
        }),
    initial: "idle",
    invoke: {
        src: "input rule listener",
        input: ({ context })=>({
                editor: context.editor,
                rules: context.rules
            })
    },
    on: {
        "input rule raised": {
            target: ".input rule applied",
            actions: assignEndState
        }
    },
    states: {
        idle: {},
        "input rule applied": {
            invoke: [
                {
                    src: "delete.backward listener",
                    input: ({ context })=>({
                            editor: context.editor
                        })
                },
                {
                    src: "selection listener",
                    input: ({ context })=>({
                            editor: context.editor
                        })
                }
            ],
            on: {
                "selection changed": {
                    target: "idle",
                    guard: "selection changed"
                },
                "history.undo raised": {
                    target: "idle"
                }
            }
        }
    }
});
function defineTextTransformRule(config) {
    return {
        on: config.on,
        guard: config.guard ?? (()=>!0),
        actions: [
            ({ snapshot, event }, guardResponse)=>{
                const locations = event.matches.flatMap((match)=>match.groupMatches.length === 0 ? [
                        match
                    ] : match.groupMatches), newText = event.textBefore + event.textInserted;
                let textLengthDelta = 0;
                const actions = [];
                for (const location of locations.reverse()){
                    const text = config.transform({
                        location
                    }, guardResponse);
                    textLengthDelta = textLengthDelta - (text.length - (location.targetOffsets.focus.offset - location.targetOffsets.anchor.offset)), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "select",
                        at: location.targetOffsets
                    })), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: location.targetOffsets
                    })), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.child",
                        child: {
                            _type: snapshot.context.schema.span.name,
                            text,
                            marks: (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getMarkState"])({
                                ...snapshot,
                                context: {
                                    ...snapshot.context,
                                    selection: {
                                        anchor: location.selection.anchor,
                                        focus: {
                                            path: location.selection.focus.path,
                                            offset: Math.min(location.selection.focus.offset, event.textBefore.length)
                                        }
                                    }
                                }
                            })?.marks ?? []
                        }
                    }));
                }
                const endCaretPosition = {
                    path: event.focusBlock.path,
                    offset: newText.length - textLengthDelta
                };
                return [
                    ...actions,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "select",
                        at: {
                            anchor: endCaretPosition,
                            focus: endCaretPosition
                        }
                    })
                ];
            }
        ]
    };
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-markdown-shortcuts/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "MarkdownShortcutsPlugin",
    ()=>MarkdownShortcutsPlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/use-editor.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/plugin-character-pair-decorator/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/plugin-input-rule/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/behaviors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
;
;
;
;
;
;
;
;
;
function createMarkdownBehaviors(config) {
    const automaticHrOnPaste = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "clipboard.paste",
        guard: ({ snapshot, event })=>{
            const text = event.originEvent.dataTransfer.getData("text/plain"), hrRegExp = /^(---)$|^(-)$|^(___)$|^(\*\*\*)$/, hrCharacters = text.match(hrRegExp)?.[0], hrObject = config.horizontalRuleObject?.({
                context: {
                    schema: snapshot.context.schema,
                    keyGenerator: snapshot.context.keyGenerator
                }
            }), focusBlock = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusBlock"](snapshot), focusTextBlock = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot);
            return !hrCharacters || !hrObject || !focusBlock ? !1 : {
                hrCharacters,
                hrObject,
                focusBlock,
                focusTextBlock
            };
        },
        actions: [
            (_, { hrCharacters })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.text",
                        text: hrCharacters
                    })
                ],
            ({ snapshot }, { hrObject, focusBlock, focusTextBlock })=>focusTextBlock ? [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block: {
                            _type: snapshot.context.schema.block.name,
                            children: focusTextBlock.node.children
                        },
                        placement: "after"
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block: hrObject,
                        placement: "after"
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete.block",
                        at: focusBlock.path
                    })
                ] : [
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block: hrObject,
                        placement: "after"
                    })
                ]
        ]
    }), clearStyleOnBackspace = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "delete.backward",
        guard: ({ snapshot })=>{
            const selectionCollapsed = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectionCollapsed"](snapshot), focusTextBlock = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot), focusSpan = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusSpan"](snapshot);
            if (!selectionCollapsed || !focusTextBlock || !focusSpan) return !1;
            const atTheBeginningOfBLock = focusTextBlock.node.children[0]._key === focusSpan.node._key && snapshot.context.selection?.focus.offset === 0, defaultStyle = config.defaultStyle?.({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema
            });
            return atTheBeginningOfBLock && defaultStyle && focusTextBlock.node.style !== defaultStyle ? {
                defaultStyle,
                focusTextBlock
            } : !1;
        },
        actions: [
            (_, { defaultStyle, focusTextBlock })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        props: {
                            style: defaultStyle
                        },
                        at: focusTextBlock.path
                    })
                ]
        ]
    });
    return [
        automaticHrOnPaste,
        clearStyleOnBackspace
    ];
}
function createBlockquoteRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /^> /,
        guard: ({ snapshot, event })=>{
            const style = config.blockquoteStyle({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema
            });
            if (!style || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"])(snapshot)) return !1;
            const match = event.matches.at(0);
            return match ? {
                style,
                match
            } : !1;
        },
        actions: [
            ({ event }, { style, match })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.unset",
                        props: [
                            "listItem",
                            "level"
                        ],
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        props: {
                            style
                        },
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: match.targetOffsets
                    })
                ]
        ]
    });
}
function createHeadingRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /^#+ /,
        guard: ({ snapshot, event })=>{
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"])(snapshot)) return !1;
            const match = event.matches.at(0);
            if (!match) return !1;
            const level = match.text.length - 1, style = config.headingStyle({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema,
                props: {
                    level
                },
                level
            });
            return style ? {
                match,
                style
            } : !1;
        },
        actions: [
            ({ event }, { match, style })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.unset",
                        props: [
                            "listItem",
                            "level"
                        ],
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        props: {
                            style
                        },
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: match.targetOffsets
                    })
                ]
        ]
    });
}
function createHorizontalRuleRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /^(---)|^(-)|^(___)|^(\*\*\*)/,
        guard: ({ snapshot, event })=>{
            const hrObject = config.horizontalRuleObject({
                context: {
                    schema: snapshot.context.schema,
                    keyGenerator: snapshot.context.keyGenerator
                }
            });
            if (!hrObject || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"])(snapshot)) return !1;
            const match = event.matches.at(0);
            return match ? {
                hrObject,
                match
            } : !1;
        },
        actions: [
            (_, { hrObject, match })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.block",
                        block: hrObject,
                        placement: "before",
                        select: "none"
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: match.targetOffsets
                    })
                ]
        ]
    });
}
function createMarkdownLinkRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /\[([^[\]]+)]\((.+)\)/,
        actions: [
            ({ snapshot, event })=>{
                const newText = event.textBefore + event.textInserted;
                let textLengthDelta = 0;
                const actions = [];
                for (const match of event.matches.reverse()){
                    const textMatch = match.groupMatches.at(0), hrefMatch = match.groupMatches.at(1);
                    if (textMatch === void 0 || hrefMatch === void 0) continue;
                    textLengthDelta = textLengthDelta - (match.targetOffsets.focus.offset - match.targetOffsets.anchor.offset - textMatch.text.length);
                    const linkObject = config.linkObject({
                        context: {
                            schema: snapshot.context.schema,
                            keyGenerator: snapshot.context.keyGenerator
                        },
                        props: {
                            href: hrefMatch.text
                        }
                    });
                    if (!linkObject) continue;
                    const { _type, _key, ...value } = linkObject, leftSideOffsets = {
                        anchor: match.targetOffsets.anchor,
                        focus: textMatch.targetOffsets.anchor
                    }, rightSideOffsets = {
                        anchor: textMatch.targetOffsets.focus,
                        focus: match.targetOffsets.focus
                    };
                    actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "select",
                        at: textMatch.targetOffsets
                    })), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "annotation.add",
                        annotation: {
                            name: _type,
                            _key,
                            value
                        }
                    })), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: rightSideOffsets
                    })), actions.push((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: leftSideOffsets
                    }));
                }
                const endCaretPosition = {
                    path: event.focusBlock.path,
                    offset: newText.length - textLengthDelta * -1
                };
                return [
                    ...actions,
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "select",
                        at: {
                            anchor: endCaretPosition,
                            focus: endCaretPosition
                        }
                    })
                ];
            }
        ]
    });
}
function createOrderedListRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /^1\. /,
        guard: ({ snapshot, event })=>{
            const orderedList = config.orderedList({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema
            });
            if (!orderedList || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"])(snapshot)) return !1;
            const match = event.matches.at(0);
            return match ? {
                match,
                orderedList
            } : !1;
        },
        actions: [
            ({ event }, { match, orderedList })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.unset",
                        props: [
                            "style"
                        ],
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        props: {
                            listItem: orderedList,
                            level: event.focusBlock.node.level ?? 1
                        },
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: match.targetOffsets
                    })
                ]
        ]
    });
}
function createUnorderedListRule(config) {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineInputRule"])({
        on: /^(-|\*) /,
        guard: ({ snapshot, event })=>{
            const unorderedList = config.unorderedList({
                context: {
                    schema: snapshot.context.schema
                },
                schema: snapshot.context.schema
            });
            if (!unorderedList || (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getPreviousInlineObject"])(snapshot)) return !1;
            const match = event.matches.at(0);
            return match ? {
                match,
                unorderedList
            } : !1;
        },
        actions: [
            ({ event }, { match, unorderedList })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.unset",
                        props: [
                            "style"
                        ],
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        props: {
                            listItem: unorderedList,
                            level: event.focusBlock.node.level ?? 1
                        },
                        at: event.focusBlock.path
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "delete",
                        at: match.targetOffsets
                    })
                ]
        ]
    });
}
function MarkdownShortcutsPlugin(t0) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(39), { blockquoteStyle, boldDecorator, codeDecorator, defaultStyle, headingStyle, horizontalRuleObject, linkObject, italicDecorator, orderedList, strikeThroughDecorator, unorderedList } = t0, editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEditor"])();
    let t1, t2;
    $[0] !== defaultStyle || $[1] !== editor ? (t1 = ()=>{
        const unregisterBehaviors = createMarkdownBehaviors({
            defaultStyle
        }).map((behavior)=>editor.registerBehavior({
                behavior
            }));
        return ()=>{
            for (const unregisterBehavior of unregisterBehaviors)unregisterBehavior();
        };
    }, t2 = [
        defaultStyle,
        editor
    ], $[0] = defaultStyle, $[1] = editor, $[2] = t1, $[3] = t2) : (t1 = $[2], t2 = $[3]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t1, t2);
    let rules;
    if ($[4] !== blockquoteStyle || $[5] !== headingStyle || $[6] !== horizontalRuleObject || $[7] !== linkObject || $[8] !== orderedList || $[9] !== unorderedList) {
        if (rules = [], blockquoteStyle) {
            let t32;
            $[11] !== blockquoteStyle ? (t32 = createBlockquoteRule({
                blockquoteStyle
            }), $[11] = blockquoteStyle, $[12] = t32) : t32 = $[12], rules.push(t32);
        }
        if (headingStyle) {
            let t32;
            $[13] !== headingStyle ? (t32 = createHeadingRule({
                headingStyle
            }), $[13] = headingStyle, $[14] = t32) : t32 = $[14], rules.push(t32);
        }
        if (horizontalRuleObject) {
            let t32;
            $[15] !== horizontalRuleObject ? (t32 = createHorizontalRuleRule({
                horizontalRuleObject
            }), $[15] = horizontalRuleObject, $[16] = t32) : t32 = $[16], rules.push(t32);
        }
        if (linkObject) {
            let t32;
            $[17] !== linkObject ? (t32 = createMarkdownLinkRule({
                linkObject
            }), $[17] = linkObject, $[18] = t32) : t32 = $[18], rules.push(t32);
        }
        if (orderedList) {
            let t32;
            $[19] !== orderedList ? (t32 = createOrderedListRule({
                orderedList
            }), $[19] = orderedList, $[20] = t32) : t32 = $[20], rules.push(t32);
        }
        if (unorderedList) {
            let t32;
            $[21] !== unorderedList ? (t32 = createUnorderedListRule({
                unorderedList
            }), $[21] = unorderedList, $[22] = t32) : t32 = $[22], rules.push(t32);
        }
        $[4] = blockquoteStyle, $[5] = headingStyle, $[6] = horizontalRuleObject, $[7] = linkObject, $[8] = orderedList, $[9] = unorderedList, $[10] = rules;
    } else rules = $[10];
    const inputRules = rules.length > 0 ? rules : null;
    let t3;
    $[23] !== boldDecorator ? (t3 = boldDecorator ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
                decorator: boldDecorator,
                pair: {
                    char: "*",
                    amount: 2
                }
            }),
            /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
                decorator: boldDecorator,
                pair: {
                    char: "_",
                    amount: 2
                }
            })
        ]
    }) : null, $[23] = boldDecorator, $[24] = t3) : t3 = $[24];
    let t4;
    $[25] !== codeDecorator ? (t4 = codeDecorator ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
        decorator: codeDecorator,
        pair: {
            char: "`",
            amount: 1
        }
    }) : null, $[25] = codeDecorator, $[26] = t4) : t4 = $[26];
    let t5;
    $[27] !== italicDecorator ? (t5 = italicDecorator ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
                decorator: italicDecorator,
                pair: {
                    char: "*",
                    amount: 1
                }
            }),
            /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
                decorator: italicDecorator,
                pair: {
                    char: "_",
                    amount: 1
                }
            })
        ]
    }) : null, $[27] = italicDecorator, $[28] = t5) : t5 = $[28];
    let t6;
    $[29] !== strikeThroughDecorator ? (t6 = strikeThroughDecorator ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$character$2d$pair$2d$decorator$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["CharacterPairDecoratorPlugin"], {
        decorator: strikeThroughDecorator,
        pair: {
            char: "~",
            amount: 2
        }
    }) : null, $[29] = strikeThroughDecorator, $[30] = t6) : t6 = $[30];
    let t7;
    $[31] !== inputRules ? (t7 = inputRules ? /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InputRulePlugin"], {
        rules: inputRules
    }) : null, $[31] = inputRules, $[32] = t7) : t7 = $[32];
    let t8;
    return $[33] !== t3 || $[34] !== t4 || $[35] !== t5 || $[36] !== t6 || $[37] !== t7 ? (t8 = /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxs"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["Fragment"], {
        children: [
            t3,
            t4,
            t5,
            t6,
            t7
        ]
    }), $[33] = t3, $[34] = t4, $[35] = t5, $[36] = t6, $[37] = t7, $[38] = t8) : t8 = $[38], t8;
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-paste-link/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PasteLinkPlugin",
    ()=>PasteLinkPlugin
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/use-editor.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/behaviors/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
;
;
;
;
;
function looksLikeUrl(text) {
    try {
        const url = new URL(text);
        return sensibleProtocols.includes(url.protocol);
    } catch  {
        return !1;
    }
}
const sensibleProtocols = [
    "http:",
    "https:",
    "mailto:",
    "tel:"
], defaultLinkMatcher = ({ context, value })=>{
    const schemaType = context.schema.annotations.find((annotation)=>annotation.name === "link"), hrefField = schemaType?.fields.find((field)=>field.name === "href" && field.type === "string");
    if (!(!schemaType || !hrefField)) return {
        _type: schemaType.name,
        [hrefField.name]: value.href
    };
};
function PasteLinkPlugin(t0) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(5), { guard, link: t1 } = t0, link = t1 === void 0 ? defaultLinkMatcher : t1, editor = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$use$2d$editor$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEditor"])();
    let t2, t3;
    return $[0] !== editor || $[1] !== guard || $[2] !== link ? (t2 = ()=>{
        const unregisterBehaviors = createPasteLinkBehaviors({
            guard,
            link
        }).map((behavior)=>editor.registerBehavior({
                behavior
            }));
        return ()=>{
            for (const unregisterBehavior of unregisterBehaviors)unregisterBehavior();
        };
    }, t3 = [
        editor,
        guard,
        link
    ], $[0] = editor, $[1] = guard, $[2] = link, $[3] = t2, $[4] = t3) : (t2 = $[3], t3 = $[4]), (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(t2, t3), null;
}
function createPasteLinkBehaviors(config) {
    const pasteLinkOnSelection = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "clipboard.paste",
        guard: (guardParams)=>{
            if (config.guard && config.guard(guardParams) === !1) return !1;
            const { snapshot, event } = guardParams;
            if (__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectionCollapsed"](snapshot)) return !1;
            const text = event.originEvent.dataTransfer.getData("text/plain"), href = looksLikeUrl(text) ? text : void 0;
            if (!href) return !1;
            const result = config.link({
                context: {
                    schema: snapshot.context.schema,
                    keyGenerator: snapshot.context.keyGenerator
                },
                value: {
                    href
                }
            });
            if (!result) return !1;
            const { _type, _key, ...value } = result;
            return {
                annotation: {
                    name: _type,
                    _key,
                    value
                }
            };
        },
        actions: [
            (_, { annotation })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "annotation.add",
                        annotation
                    })
                ]
        ]
    }), pasteLinkAtCaret = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineBehavior"])({
        on: "clipboard.paste",
        guard: (guardParams)=>{
            if (config.guard && config.guard(guardParams) === !1) return !1;
            const { snapshot, event } = guardParams, focusTextBlock = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getFocusTextBlock"](snapshot), selectionCollapsed = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isSelectionCollapsed"](snapshot);
            if (!focusTextBlock || !selectionCollapsed) return !1;
            const text = event.originEvent.dataTransfer.getData("text/plain"), href = looksLikeUrl(text) ? text : void 0;
            if (!href) return !1;
            const result = config.link({
                context: {
                    schema: snapshot.context.schema,
                    keyGenerator: snapshot.context.keyGenerator
                },
                value: {
                    href
                }
            });
            if (!result) return !1;
            const { _type, _key, ...value } = result, markState = __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getMarkState"](snapshot), decoratorNames = snapshot.context.schema.decorators.map((decorator)=>decorator.name), activeDecorators = (markState?.marks ?? []).filter((mark)=>decoratorNames.includes(mark)), markDefKey = _key ?? snapshot.context.keyGenerator(), markDef = {
                _type,
                _key: markDefKey,
                ...value
            };
            return {
                focusTextBlock,
                markDef,
                markDefKey,
                href,
                activeDecorators
            };
        },
        actions: [
            ({ snapshot }, { focusTextBlock, markDef, markDefKey, href, activeDecorators })=>[
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "block.set",
                        at: focusTextBlock.path,
                        props: {
                            markDefs: [
                                ...focusTextBlock.node.markDefs ?? [],
                                markDef
                            ]
                        }
                    }),
                    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$behaviors$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["raise"])({
                        type: "insert.child",
                        child: {
                            _type: snapshot.context.schema.span.name,
                            text: href,
                            marks: [
                                ...activeDecorators,
                                markDefKey
                            ]
                        }
                    })
                ]
        ]
    });
    return [
        pasteLinkOnSelection,
        pasteLinkAtCaret
    ];
}
;
 //# sourceMappingURL=index.js.map
}),
"[project]/node_modules/@portabletext/plugin-typography/dist/index.js [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "TypographyPlugin",
    ()=>TypographyPlugin,
    "closingDoubleQuoteRule",
    ()=>closingDoubleQuoteRule,
    "closingSingleQuoteRule",
    ()=>closingSingleQuoteRule,
    "copyrightRule",
    ()=>copyrightRule,
    "createDecoratorGuard",
    ()=>createDecoratorGuard,
    "ellipsisRule",
    ()=>ellipsisRule,
    "emDashRule",
    ()=>emDashRule,
    "laquoRule",
    ()=>laquoRule,
    "leftArrowRule",
    ()=>leftArrowRule,
    "multiplicationRule",
    ()=>multiplicationRule,
    "notEqualRule",
    ()=>notEqualRule,
    "oneHalfRule",
    ()=>oneHalfRule,
    "oneQuarterRule",
    ()=>oneQuarterRule,
    "openingDoubleQuoteRule",
    ()=>openingDoubleQuoteRule,
    "openingSingleQuoteRule",
    ()=>openingSingleQuoteRule,
    "plusMinusRule",
    ()=>plusMinusRule,
    "raquoRule",
    ()=>raquoRule,
    "registeredTrademarkRule",
    ()=>registeredTrademarkRule,
    "rightArrowRule",
    ()=>rightArrowRule,
    "servicemarkRule",
    ()=>servicemarkRule,
    "smartQuotesRules",
    ()=>smartQuotesRules,
    "superscriptThreeRule",
    ()=>superscriptThreeRule,
    "superscriptTwoRule",
    ()=>superscriptTwoRule,
    "threeQuartersRule",
    ()=>threeQuartersRule,
    "trademarkRule",
    ()=>trademarkRule
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/editor/lib/_chunks-es/selector.is-selecting-entire-blocks.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/@portabletext/plugin-input-rule/dist/index.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-compiler-runtime.js [app-ssr] (ecmascript)");
;
;
;
;
function createDecoratorGuard(config) {
    return ({ snapshot, event })=>{
        const allowedDecorators = config.decorators({
            context: {
                schema: snapshot.context.schema
            }
        }), decorators = snapshot.context.schema.decorators.flatMap((decorator)=>allowedDecorators.includes(decorator.name) ? [] : [
                decorator.name
            ]);
        if (decorators.length === 0) return !0;
        const matchedSpans = event.matches.flatMap((match)=>(0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["getSelectedSpans"])({
                ...snapshot,
                context: {
                    ...snapshot.context,
                    selection: match.selection
                }
            }));
        let preventInputRule = !1;
        for (const decorator of decorators){
            if ((0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$editor$2f$lib$2f$_chunks$2d$es$2f$selector$2e$is$2d$selecting$2d$entire$2d$blocks$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["isActiveDecorator"])(decorator)(snapshot)) {
                preventInputRule = !0;
                break;
            }
            if (matchedSpans.some((span)=>span.node.marks?.includes(decorator))) {
                preventInputRule = !0;
                break;
            }
        }
        return !preventInputRule;
    };
}
const emDashRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /--/,
    transform: ()=>"\u2014"
}), ellipsisRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\.\.\./,
    transform: ()=>"\u2026"
}), openingDoubleQuoteRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: new RegExp(`(?:^|(?<=[\\s{[(<'"\\u2018\\u201C]))"`, "g"),
    transform: ()=>"\u201C"
}), closingDoubleQuoteRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /"/g,
    transform: ()=>"\u201D"
}), openingSingleQuoteRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: new RegExp(`(?:^|(?<=[\\s{[(<'"\\u2018\\u201C]))'`, "g"),
    transform: ()=>"\u2018"
}), closingSingleQuoteRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /'/g,
    transform: ()=>"\u2019"
}), smartQuotesRules = [
    openingDoubleQuoteRule,
    closingDoubleQuoteRule,
    openingSingleQuoteRule,
    closingSingleQuoteRule
], leftArrowRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /<-/,
    transform: ()=>"\u2190"
}), rightArrowRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /->/,
    transform: ()=>"\u2192"
}), copyrightRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\(c\)/,
    transform: ()=>"\xA9"
}), servicemarkRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\(sm\)/,
    transform: ()=>"\u2120"
}), trademarkRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\(tm\)/,
    transform: ()=>"\u2122"
}), registeredTrademarkRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\(r\)/,
    transform: ()=>"\xAE"
}), oneHalfRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /(?:^|\s)(1\/2)\s/,
    transform: ()=>"\xBD"
}), plusMinusRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\+\/-/,
    transform: ()=>"\xB1"
}), notEqualRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /!=/,
    transform: ()=>"\u2260"
}), laquoRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /<</,
    transform: ()=>"\xAB"
}), raquoRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: />>/,
    transform: ()=>"\xBB"
}), multiplicationRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\d+\s?([*x])\s?\d+/,
    transform: ()=>"\xD7"
}), superscriptTwoRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\^2/,
    transform: ()=>"\xB2"
}), superscriptThreeRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /\^3/,
    transform: ()=>"\xB3"
}), oneQuarterRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /(?:^|\s)(1\/4)\s/,
    transform: ()=>"\xBC"
}), threeQuartersRule = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["defineTextTransformRule"])({
    on: /(?:^|\s)(3\/4)\s/,
    transform: ()=>"\xBE"
}), defaultRuleConfig = [
    {
        name: "emDash",
        rule: emDashRule,
        state: "on"
    },
    {
        name: "ellipsis",
        rule: ellipsisRule,
        state: "on"
    },
    {
        name: "openingDoubleQuote",
        rule: openingDoubleQuoteRule,
        state: "on"
    },
    {
        name: "closingDoubleQuote",
        rule: closingDoubleQuoteRule,
        state: "on"
    },
    {
        name: "openingSingleQuote",
        rule: openingSingleQuoteRule,
        state: "on"
    },
    {
        name: "closingSingleQuote",
        rule: closingSingleQuoteRule,
        state: "on"
    },
    {
        name: "leftArrow",
        rule: leftArrowRule,
        state: "on"
    },
    {
        name: "rightArrow",
        rule: rightArrowRule,
        state: "on"
    },
    {
        name: "copyright",
        rule: copyrightRule,
        state: "on"
    },
    {
        name: "trademark",
        rule: trademarkRule,
        state: "on"
    },
    {
        name: "servicemark",
        rule: servicemarkRule,
        state: "on"
    },
    {
        name: "registeredTrademark",
        rule: registeredTrademarkRule,
        state: "on"
    },
    {
        name: "oneHalf",
        rule: oneHalfRule,
        state: "off"
    },
    {
        name: "plusMinus",
        rule: plusMinusRule,
        state: "off"
    },
    {
        name: "laquo",
        rule: laquoRule,
        state: "off"
    },
    {
        name: "notEqual",
        rule: notEqualRule,
        state: "off"
    },
    {
        name: "raquo",
        rule: raquoRule,
        state: "off"
    },
    {
        name: "multiplication",
        rule: multiplicationRule,
        state: "off"
    },
    {
        name: "superscriptTwo",
        rule: superscriptTwoRule,
        state: "off"
    },
    {
        name: "superscriptThree",
        rule: superscriptThreeRule,
        state: "off"
    },
    {
        name: "oneQuarter",
        rule: oneQuarterRule,
        state: "off"
    },
    {
        name: "threeQuarters",
        rule: threeQuartersRule,
        state: "off"
    }
];
function TypographyPlugin(props) {
    const $ = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$compiler$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["c"])(13), { preset: t0, enable: t1, disable: t2, guard } = props, preset = t0 === void 0 ? "default" : t0;
    let t3;
    $[0] !== t1 ? (t3 = t1 === void 0 ? [] : t1, $[0] = t1, $[1] = t3) : t3 = $[1];
    const enable = t3;
    let t4;
    $[2] !== t2 ? (t4 = t2 === void 0 ? [] : t2, $[2] = t2, $[3] = t4) : t4 = $[3];
    const disable = t4;
    let enabledRules;
    if ($[4] !== disable || $[5] !== enable || $[6] !== preset) {
        if (enabledRules = /* @__PURE__ */ new Set(), preset === "all") for (const rule of defaultRuleConfig)enabledRules.add(rule.name);
        else if (preset === "default") for (const rule_0 of defaultRuleConfig)rule_0.state === "on" && enabledRules.add(rule_0.name);
        for (const ruleName of enable)enabledRules.add(ruleName);
        for (const ruleName_0 of disable)enabledRules.delete(ruleName_0);
        $[4] = disable, $[5] = enable, $[6] = preset, $[7] = enabledRules;
    } else enabledRules = $[7];
    let t5;
    $[8] !== enabledRules || $[9] !== guard ? (t5 = defaultRuleConfig.flatMap((rule_1)=>enabledRules.has(rule_1.name) ? [
            {
                ...rule_1.rule,
                guard: guard ?? _temp
            }
        ] : []), $[8] = enabledRules, $[9] = guard, $[10] = t5) : t5 = $[10];
    const configuredInputRules = t5;
    let t6;
    return $[11] !== configuredInputRules ? (t6 = /* @__PURE__ */ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsx"])(__TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f40$portabletext$2f$plugin$2d$input$2d$rule$2f$dist$2f$index$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["InputRulePlugin"], {
        rules: configuredInputRules
    }), $[11] = configuredInputRules, $[12] = t6) : t6 = $[12], t6;
}
function _temp() {
    return !0;
}
;
 //# sourceMappingURL=index.js.map
}),
];

//# sourceMappingURL=node_modules_%40portabletext_e12a036c._.js.map