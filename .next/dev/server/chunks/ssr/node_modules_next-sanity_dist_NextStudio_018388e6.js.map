{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/next-sanity/dist/NextStudio.js","sources":["file:///Users/kyleextrem/Desktop/digest-studio---newcastle-local-marketing/node_modules/next-sanity/src/studio/client-component/createHashHistoryForStudio.ts","file:///Users/kyleextrem/Desktop/digest-studio---newcastle-local-marketing/node_modules/next-sanity/src/studio/client-component/useIsMounted.ts","file:///Users/kyleextrem/Desktop/digest-studio---newcastle-local-marketing/node_modules/next-sanity/src/studio/client-component/NextStudio.tsx"],"sourcesContent":["// oxlint-disable unbound-method\nimport {createHashHistory, type History, type Listener} from 'history'\n\n/** @internal */\nexport function createHashHistoryForStudio(): History {\n  const history = createHashHistory()\n  return {\n    get action() {\n      return history.action\n    },\n    get location() {\n      return history.location\n    },\n    get createHref() {\n      return history.createHref\n    },\n    get push() {\n      return history.push\n    },\n    get replace() {\n      return history.replace\n    },\n    get go() {\n      return history.go\n    },\n    get back() {\n      return history.back\n    },\n    get forward() {\n      return history.forward\n    },\n    get block() {\n      return history.block\n    },\n    // Overriding listen to workaround a problem where native history provides history.listen(location => void), but the npm package is history.listen(({action, location}) => void)\n    listen(listener: Listener) {\n      // return history.listen(({ action, location }) => {\n      return history.listen(({location}) => {\n        // console.debug('history.listen', action, location)\n        // @ts-expect-error -- working around a bug? in studio\n        listener(location)\n      })\n    },\n  }\n}\n","import {useSyncExternalStore} from 'react'\n\n/** @internal */\nexport function useIsMounted(): boolean {\n  return useSyncExternalStore(\n    emptySubscribe,\n    () => true,\n    () => false,\n  )\n}\nconst emptySubscribe = () => () => {}\n","import {useMemo} from 'react'\nimport {Studio, type StudioProps} from 'sanity'\n\nimport {NextStudioLayout} from '../NextStudioLayout'\nimport {NextStudioNoScript} from '../NextStudioNoScript'\nimport {createHashHistoryForStudio} from './createHashHistoryForStudio'\nimport {useIsMounted} from './useIsMounted'\n\n/** @public */\nexport interface NextStudioProps extends StudioProps {\n  children?: React.ReactNode\n  /**\n   * Render the <noscript> tag\n   * @defaultValue true\n   * @alpha\n   */\n  unstable__noScript?: boolean\n  /**\n   * The 'hash' option is new feature that is not yet stable for production, but is available for testing and its API won't change in a breaking way.\n   * If 'hash' doesn't work for you, or if you want to use a memory based history, you can use the `unstable_history` prop instead.\n   * @alpha\n   * @defaultValue 'browser'\n   */\n  history?: 'browser' | 'hash'\n}\n/**\n * Override how the Studio renders by passing children.\n * This is useful for advanced use cases where you're using StudioProvider and StudioLayout instead of Studio:\n * ```\n * import {StudioProvider, StudioLayout} from 'sanity'\n * import {NextStudio} from 'next-sanity/studio'\n * <NextStudio config={config}>\n *   <StudioProvider config={config}>\n *     <CustomComponentThatUsesContextFromStudioProvider />\n *     <StudioLayout />\n *   </StudioProvider>\n * </NextStudio>\n * ```\n * @public\n */\nexport default function NextStudioComponent({\n  children,\n  config,\n  unstable__noScript = true,\n  scheme,\n  history,\n  ...props\n}: NextStudioProps): React.JSX.Element {\n  const isMounted = useIsMounted()\n  const unstableHistory = useMemo<typeof props.unstable_history>(() => {\n    if (props.unstable_history && history) {\n      throw new Error('Cannot use both `unstable_history` and `history` props at the same time')\n    }\n\n    if (isMounted && history === 'hash') {\n      return createHashHistoryForStudio()\n    }\n    return props.unstable_history\n  }, [history, isMounted, props.unstable_history])\n\n  return (\n    <>\n      {unstable__noScript && <NextStudioNoScript />}\n      <NextStudioLayout>\n        {history === 'hash' && !isMounted\n          ? null\n          : children || (\n              <Studio\n                config={config}\n                scheme={scheme}\n                unstable_globalStyles\n                {...props}\n                unstable_history={unstableHistory}\n              />\n            )}\n      </NextStudioLayout>\n    </>\n  )\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAIA,SAAgB,6BAAsC;IACpD,MAAM,cAAU,qJAAA,EAAmB;IACnC,OAAO;QACL,IAAI,UAAS;YACX,OAAO,QAAQ,MAAA;;QAEjB,IAAI,YAAW;YACb,OAAO,QAAQ,QAAA;;QAEjB,IAAI,cAAa;YACf,OAAO,QAAQ,UAAA;;QAEjB,IAAI,QAAO;YACT,OAAO,QAAQ,IAAA;;QAEjB,IAAI,WAAU;YACZ,OAAO,QAAQ,OAAA;;QAEjB,IAAI,MAAK;YACP,OAAO,QAAQ,EAAA;;QAEjB,IAAI,QAAO;YACT,OAAO,QAAQ,IAAA;;QAEjB,IAAI,WAAU;YACZ,OAAO,QAAQ,OAAA;;QAEjB,IAAI,SAAQ;YACV,OAAO,QAAQ,KAAA;;QAGjB,QAAO,QAAA,EAAoB;YAEzB,OAAO,QAAQ,MAAA,CAAA,CAAQ,EAAC,QAAA,EAAA,KAAc;gBAGpC,SAAS,SAAS;cAClB;;KAEL;;ACxCH,SAAgB,eAAwB;IACtC,WAAO,6NAAA,EACL,gBAAA,IACM,MAAA,IACA,MACP;;AAEH,MAAM,iBAAA,IAAA,KAA6B,CAAA;AC8BnC,SAAwB,oBAAoB,EAC1C,QAAA,EACA,MAAA,EACA,qBAAqB,IAAA,EACrB,MAAA,EACA,OAAA,EACA,GAAG,OAAA,EACkC;IACrC,MAAM,YAAY,cAAc;IAChC,MAAM,sBAAkB,gNAAA,EAAA,MAA6C;QACnE,IAAI,MAAM,gBAAA,IAAoB,QAC5B,CAAA,MAAM,IAAI,MAAM,0EAA0E;QAG5F,IAAI,aAAa,YAAY,OAC3B,CAAA,OAAO,4BAA4B;QAErC,OAAO,MAAM,gBAAA;OACZ;QAAC;QAAS;QAAW,MAAM,gBAAA;KAAiB,CAAC;IAEhD,OACE,aAAA,GAAA,IAAA,+NAAA,EAAA,mOAAA,EAAA;QAAA,UAAA;YACG,sBAAsB,aAAA,GAAA,IAAA,8NAAA,EAAC,iKAAA,EAAA,CAAA,CAAA,CAAqB;YAC7C,aAAA,GAAA,IAAA,8NAAA,EAAC,iKAAA,EAAA;gBAAA,UACE,YAAY,UAAU,CAAC,YACpB,OACA,YACE,aAAA,GAAA,IAAA,8NAAA,EAAC,gKAAA,EAAA;oBACS;oBACA;oBACR,uBAAA;oBACA,GAAI,KAAA;oBACJ,kBAAkB;kBAClB;YAAA,CAAA,CAES;SAAA;IAAA,CAAA,CAClB"}}]
}