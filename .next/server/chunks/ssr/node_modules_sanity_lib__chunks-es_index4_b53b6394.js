module.exports=[408007,a=>{"use strict";var b=a.i(187924),c=a.i(826088),d=a.i(572131),e=a.i(904986),f=a.i(15256),g=a.i(416905),h=a.i(306978),i=a.i(977647),j=a.i(934103),k=a.i(866407),l=a.i(952535),m=a.i(272036),n=a.i(331004),o=a.i(465814),p=a.i(547663),q=a.i(64179),r=a.i(566482),s=a.i(775716),t=a.i(348074),u=a.i(433697);class v extends Error{constructor({message:a,context:b,helpId:c,cause:d}){super(a),this.name="PaneResolutionError",this.context=b,this.helpId=c,this.cause=d}}function w(a){let b,c,d=(b=a((a,b,c)=>{if(!a)throw new v({message:"Pane returned no child",context:b,helpId:"structure-item-returned-no-child"});return a&&"function"==typeof a?.then||(0,l.isObservable)(a)?(0,l.from)(a).pipe((0,m.switchMap)(a=>d(a,b,c))):(0,e.isRecord)(a)&&"function"==typeof a.serialize?d(a.serialize(b),b,c):"function"==typeof a?d(a(b.id,b),b,c):(0,l.of)(a)}),c=(...a)=>b(...a).pipe((0,m.publishReplay)(1),(0,m.refCount)()),(a,b,d)=>{try{return c(a,b,d)}catch(a){throw a instanceof v?a:new v({message:"string"==typeof a?.message?a.message:"",context:b,cause:a})}});return d}let x=new WeakMap;function y(a,b){let c=x.get(a)||new Map;if(c){let a=c.get(b);if(a)return a}let d=a[b];if("function"!=typeof d)throw Error(`Expected property \`${b}\` to be a function but got ${typeof d} instead.`);let e=d.bind(a);return c.set(b,e),x.set(a,c),e}async function z(a){let b=new Map,c=w(a=>(c,d,e)=>{let f=c&&`${(0,g.assignId)(c)}-${d.path.join("__")}`,h=f&&b.get(f);if(h)return h;let i=a(c,d,e);return f&&b.set(f,i),i}),d=[[{id:`__edit__${a.params.id}`,params:{...(0,j.omit)(a.params,["id"]),type:a.params.type},payload:a.payload}]];async function e({currentId:a,flatIndex:b,intent:d,params:f,parent:g,path:h,payload:i,unresolvedPane:j,levelIndex:k,structureContext:m}){if(!j)return[];let{id:n,type:o,...p}=f,q=await (0,l.firstValueFrom)(c(j,{id:a,splitIndex:0,parent:g,path:h,index:b,params:{},payload:void 0,structureContext:m},b));return"document"===q.type&&q.id===n?[{panes:[...h.slice(0,h.length-1).map(a=>[{id:a}]),[{id:n,params:p,payload:i}]],depthIndex:h.length,levelIndex:k}]:q.canHandleIntent?.(d,f,{pane:q,index:b})||"documentList"===q.type&&q.schemaTypeName===o&&"_type == $type"===q.options.filter?[{panes:[...h.map(a=>[{id:a}]),[{id:f.id,params:p,payload:i}]],depthIndex:h.length,levelIndex:k}]:"list"===q.type&&q.child&&q.items?(await Promise.all(q.items.map((a,c)=>"divider"===a.type?Promise.resolve([]):e({currentId:a._id||a.id,flatIndex:b+1,intent:d,params:f,parent:q,path:[...h,a.id],payload:i,unresolvedPane:"function"==typeof q.child?y(q,"child"):q.child,levelIndex:c,structureContext:m})))).flat():[]}let f=(await e({currentId:"root",flatIndex:0,levelIndex:0,intent:a.intent,params:a.params,parent:null,path:[],payload:a.payload,unresolvedPane:a.rootPaneNode,structureContext:a.structureContext})).sort((a,b)=>a.depthIndex===b.depthIndex?a.levelIndex-b.levelIndex:a.depthIndex-b.depthIndex)[0];return f?f.panes:d}let A=(a,b)=>{let c=a.replace(/^__edit__/,""),{params:d,payload:e,structureContext:{resolveDocumentNode:f}}=b,{type:g,template:h}=d;if(!g)throw Error(`Document type for document with ID ${c} was not provided in the router params.`);let i=f({schemaType:g,documentId:c}).id("editor");return h&&(i=i.initialValueTemplate(h,e)),i.serialize()},B=a=>{let b={type:a.type,id:a.routerPaneSibling.id,params:a.routerPaneSibling.params||{},payload:a.routerPaneSibling.payload||null,flatIndex:a.flatIndex,groupIndex:a.groupIndex,siblingIndex:a.siblingIndex,path:a.path,paneNode:"resolvedMeta"===a.type?(0,g.assignId)(a.paneNode):null};return`metaHash(${JSON.stringify(b)})`};function C(a){return a?.panes||[]}function D(){return new l.ReplaySubject(1)}function E(a){let b=a.reduce(G,[]),c=b.length,d=a.map(d=>{let{groupIndex:e,flatIndex:f,siblingIndex:h,routerPaneSibling:i,path:j}=d,k=i.id,l=b[e+1];return{active:e===c-2,childItemId:l?.[0].id??null,index:f,itemId:i.id,groupIndex:e,key:`${"loading"===d.type?"unknown":d.paneNode.id}-${k}-${h}`,pane:"loading"===d.type?g.LOADING_PANE:d.paneNode,params:i.params||{},path:j.join(";"),payload:i.payload,selected:f===a.length-1,siblingIndex:h,maximized:!1}});return{paneDataItems:d,routerPanes:b,resolvedPanes:d.map(F)}}function F(a){return a.pane}function G(a,b){let c=a[b.groupIndex]||[];return c[b.siblingIndex]=b.routerPaneSibling,a[b.groupIndex]=c,a}async function H(a,b,c){if(b&&c)return{id:b,type:c};if(!b&&c)return{id:(0,n.uuid)(),type:c};if(b&&!c){let c=await (0,l.firstValueFrom)(a.resolveTypeForDocument(b));return{id:b,type:c}}throw new v({message:"Neither document `id` or `type` was provided when trying to resolve intent."})}let I={},J=(0,d.memo)(function(){let a,b,f=(0,c.c)(7),{navigate:h}=(0,i.useRouter)(),j=(0,i.useRouterState)(K),{rootPaneNode:k,structureContext:l}=(0,g.useStructureTool)(),m=(0,e.useDocumentStore)(),[n,o]=(0,d.useState)(null);if(n)throw n;return f[0]!==m||f[1]!==j||f[2]!==h||f[3]!==k||f[4]!==l?(a=()=>{if(j){let{intent:a,params:b,payload:c}=j,d=!1;return(async function(){let{id:e,type:f}=await H(m,"string"==typeof b.id?b.id:void 0,"string"==typeof b.type?b.type:void 0);if(d)return;let g=await z({intent:a,params:{...b,id:e,type:f},payload:c,rootPaneNode:k,structureContext:l});d||h({panes:g},{replace:!0})})().catch(o),()=>{d=!0}}},b=[m,j,h,k,l],f[0]=m,f[1]=j,f[2]=h,f[3]=k,f[4]=l,f[5]=a,f[6]=b):(a=f[5],b=f[6]),(0,d.useEffect)(a,b),null});function K(a){let b="string"==typeof a.intent?a.intent:void 0;return b?{intent:b,params:(0,e.isRecord)(a.params)?a.params:I,payload:a.payload}:void 0}let L=s.styled.span.withConfig({displayName:"PathSegment",componentId:"sc-jnonai-0"})`&:not(:last-child)::after{content:' âž ';opacity:0.5;}`;function M(a){let d,g,i,j,k,l,m,n,r,s,t,u,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,P,Q=(0,c.c)(74),{error:R}=a;if(!(R instanceof v))throw R;let{cause:S}=R,{t:T}=(0,e.useTranslation)(h.structureLocaleNamespace),U=S?.stack||R.stack;Q[0]!==S||Q[1]!==R.message||Q[2]!==U?(d=U&&!(S instanceof h.SerializeError)&&!R.message.includes("Module build failed:"),Q[0]=S,Q[1]=R.message,Q[2]=U,Q[3]=d):d=Q[3];let V=d;if(Q[4]!==S||Q[5]!==R.helpId||Q[6]!==T){let a,c=S instanceof h.SerializeError?S.path:[];l=S instanceof h.SerializeError&&S.helpId||R.helpId,k=O,j=q.Card,m="fill",n="auto",r=4,s="border",t="critical",i=q.Container,Q[25]!==T?(a=T("structure-error.header.text"),Q[25]=T,Q[26]=a):a=Q[26],Q[27]!==a?(C=(0,b.jsx)(q.Heading,{as:"h2",children:a}),Q[27]=a,Q[28]=C):C=Q[28],g=q.Card,u=4,w=4,x=2,y="auto",z=1,A="inherit",B=c.length>0&&(0,b.jsxs)(q.Stack,{space:2,children:[(0,b.jsx)(q.Text,{size:1,weight:"medium",children:T("structure-error.structure-path.label")}),(0,b.jsx)(q.Code,{children:c.slice(1).map(N)})]}),Q[4]=S,Q[5]=R.helpId,Q[6]=T,Q[7]=g,Q[8]=i,Q[9]=j,Q[10]=k,Q[11]=l,Q[12]=m,Q[13]=n,Q[14]=r,Q[15]=s,Q[16]=t,Q[17]=u,Q[18]=w,Q[19]=x,Q[20]=y,Q[21]=z,Q[22]=A,Q[23]=B,Q[24]=C}else g=Q[7],i=Q[8],j=Q[9],k=Q[10],l=Q[11],m=Q[12],n=Q[13],r=Q[14],s=Q[15],t=Q[16],u=Q[17],w=Q[18],x=Q[19],y=Q[20],z=Q[21],A=Q[22],B=Q[23],C=Q[24];return Q[29]!==T?(D=T("structure-error.error.label"),Q[29]=T,Q[30]=D):D=Q[30],Q[31]!==D?(E=(0,b.jsx)(q.Text,{size:1,weight:"medium",children:D}),Q[31]=D,Q[32]=E):E=Q[32],Q[33]!==R.message||Q[34]!==V||Q[35]!==U?(F=V?U.replace(/\(\.\.\.\)\./g,`(...)
  .`).replace(/__WEBPACK_IMPORTED_MODULE_\d+_+/g,"").replace(/___default\./g,".").replace(RegExp(` \\(https?:\\/\\/${window.location.host}`,"g")," ("):R.message,Q[33]=R.message,Q[34]=V,Q[35]=U,Q[36]=F):F=Q[36],Q[37]!==F?(G=(0,b.jsx)(q.Code,{children:F}),Q[37]=F,Q[38]=G):G=Q[38],Q[39]!==E||Q[40]!==G?(H=(0,b.jsxs)(q.Stack,{marginTop:4,space:2,children:[E,G]}),Q[39]=E,Q[40]=G,Q[41]=H):H=Q[41],Q[42]!==l||Q[43]!==T?(I=l&&(0,b.jsx)(q.Box,{marginTop:4,children:(0,b.jsx)(q.Text,{children:(0,b.jsx)("a",{href:(0,o.generateHelpUrl)(l),rel:"noopener noreferrer",target:"_blank",children:T("structure-error.docs-link.text")})})}),Q[42]=l,Q[43]=T,Q[44]=I):I=Q[44],Q[45]!==T?(J=T("structure-error.reload-button.text"),Q[45]=T,Q[46]=J):J=Q[46],Q[47]!==k||Q[48]!==J?(K=(0,b.jsx)(q.Box,{marginTop:4,children:(0,b.jsx)(f.Button,{text:J,icon:p.SyncIcon,tone:"primary",onClick:k})}),Q[47]=k,Q[48]=J,Q[49]=K):K=Q[49],Q[50]!==g||Q[51]!==H||Q[52]!==u||Q[53]!==I||Q[54]!==K||Q[55]!==w||Q[56]!==x||Q[57]!==y||Q[58]!==z||Q[59]!==A||Q[60]!==B?(L=(0,b.jsxs)(g,{marginTop:u,padding:w,radius:x,overflow:y,shadow:z,tone:A,children:[B,H,I,K]}),Q[50]=g,Q[51]=H,Q[52]=u,Q[53]=I,Q[54]=K,Q[55]=w,Q[56]=x,Q[57]=y,Q[58]=z,Q[59]=A,Q[60]=B,Q[61]=L):L=Q[61],Q[62]!==i||Q[63]!==L||Q[64]!==C?(M=(0,b.jsxs)(i,{children:[C,L]}),Q[62]=i,Q[63]=L,Q[64]=C,Q[65]=M):M=Q[65],Q[66]!==j||Q[67]!==m||Q[68]!==n||Q[69]!==r||Q[70]!==s||Q[71]!==t||Q[72]!==M?(P=(0,b.jsx)(j,{height:m,overflow:n,padding:r,sizing:s,tone:t,children:M}),Q[66]=j,Q[67]=m,Q[68]=n,Q[69]=r,Q[70]=s,Q[71]=t,Q[72]=M,Q[73]=P):P=Q[73],P}function N(a,c){return(0,b.jsx)(L,{children:a},`${a}-${c}`)}function O(){window.location.reload()}function P(){let a,d,f,g,i,j,k,l,m=(0,c.c)(17),{t:n}=(0,e.useTranslation)(h.structureLocaleNamespace);return m[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,b.jsx)(q.Box,{children:(0,b.jsx)(q.Text,{size:1,children:(0,b.jsx)(p.WarningOutlineIcon,{})})}),m[0]=a):a=m[0],m[1]!==n?(d=n("no-document-types-screen.title"),m[1]=n,m[2]=d):d=m[2],m[3]!==d?(f=(0,b.jsx)(q.Text,{as:"h1",size:1,weight:"medium",children:d}),m[3]=d,m[4]=f):f=m[4],m[5]!==n?(g=n("no-document-types-screen.subtitle"),m[5]=n,m[6]=g):g=m[6],m[7]!==g?(i=(0,b.jsx)(q.Text,{as:"p",muted:!0,size:1,children:g}),m[7]=g,m[8]=i):i=m[8],m[9]!==n?(j=n("no-document-types-screen.link-text"),m[9]=n,m[10]=j):j=m[10],m[11]!==j?(k=(0,b.jsx)(q.Text,{as:"p",muted:!0,size:1,children:(0,b.jsx)("a",{href:"https://www.sanity.io/docs/create-a-schema-and-configure-sanity-studio",target:"_blank",rel:"noreferrer",children:j})}),m[11]=j,m[12]=k):k=m[12],m[13]!==f||m[14]!==i||m[15]!==k?(l=(0,b.jsx)(q.Card,{height:"fill",children:(0,b.jsx)(q.Flex,{align:"center",height:"fill",justify:"center",padding:4,sizing:"border",children:(0,b.jsx)(q.Container,{width:0,children:(0,b.jsx)(q.Card,{padding:4,radius:2,shadow:1,tone:"caution",children:(0,b.jsxs)(q.Flex,{children:[a,(0,b.jsxs)(q.Stack,{flex:1,marginLeft:3,space:3,children:[f,i,k]})]})})})})}),m[13]=f,m[14]=i,m[15]=k,m[16]=l):l=m[16],l}let Q=a=>{let b,f,i=(0,c.c)(7),{documentId:j,documentType:k}=a,{selectedReleaseId:l}=(0,e.usePerspective)(),m=(0,e.useEditState)(j,k,"default",l),n=(0,e.useSchema)(),{t:o}=(0,e.useTranslation)(h.structureLocaleNamespace),p=!m?.published&&!m?.draft,q=m?.version||m?.draft||m?.published,r=n.get(k),{value:s,isLoading:t}=(0,e.useValuePreview)({enabled:!!q,schemaType:r,value:q}),{lastRevisionDocument:u}=(0,g.useDocumentLastRev)(j,k),v=u&&!q?"":p?o("browser-document-title.new-document",{schemaType:r?.title||r?.name}):s?.title||o("browser-document-title.untitled-document"),w=m.ready&&!t,x=T(v);return i[0]!==x||i[1]!==w?(b=()=>{w&&(document.title=x)},i[0]=x,i[1]=w,i[2]=b):b=i[2],i[3]!==v||i[4]!==x||i[5]!==w?(f=[v,w,x],i[3]=v,i[4]=x,i[5]=w,i[6]=f):f=i[6],(0,d.useEffect)(b,f),null},R=a=>{let b,e,f=(0,c.c)(5),{title:g}=a,h=T(g);return f[0]!==h?(b=()=>{document.title=h},f[0]=h,f[1]=b):b=f[1],f[2]!==h||f[3]!==g?(e=[h,g],f[2]=h,f[3]=g,f[4]=e):e=f[4],(0,d.useEffect)(b,e),null},S=a=>{var d;let e,f=(0,c.c)(8),{resolvedPanes:h}=a;if(!h?.length)return null;let i=h[h.length-1];if(i===g.LOADING_PANE){let a;return f[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,b.jsx)(R,{}),f[0]=a):a=f[0],a}if((d=i)!==g.LOADING_PANE&&"document"===d.type){let a;if(i?.title){let a;return f[1]!==i.title?(a=(0,b.jsx)(R,{title:i.title}),f[1]=i.title,f[2]=a):a=f[2],a}return f[3]!==i.options.id||f[4]!==i.options.type?(a=(0,b.jsx)(Q,{documentId:i.options.id,documentType:i.options.type}),f[3]=i.options.id,f[4]=i.options.type,f[5]=a):a=f[5],a}let j=i?.title;return f[6]!==j?(e=(0,b.jsx)(R,{title:j}),f[6]=j,f[7]=e):e=f[7],e};function T(a){let b,d=(0,c.c)(3),e=(0,g.useStructureTool)().structureContext.title;return d[0]!==a||d[1]!==e?(b=[a,e].filter(U),d[0]=a,d[1]=e,d[2]=b):b=d[2],b.join(" | ")}function U(a){return a}let V=(0,s.styled)(g.PaneLayout).withConfig({displayName:"StyledPaneLayout",componentId:"sc-1hgaa0f-0"})`min-height:100%;min-width:320px;`,W=(0,t.isHotkey)("mod+s"),X=(0,d.memo)(function(a){let f,h,j,n,p,s,t,x,z,F,G,H,I,J,K,L,M,N,O,Q=(0,c.c)(58),{onPaneChange:R}=a,{push:T}=(0,r.useToast)(),U=(0,e.useSchema)(),{navigate:X}=(0,i.useRouter)(),_=(0,i.useRouterState)(),{layoutCollapsed:ac,setLayoutCollapsed:ad}=(0,g.useStructureTool)(),ae=function(){let a,b,e,f,h,j,n,p=(0,c.c)(19),[q,r]=(0,d.useState)(),[s,t]=(0,d.useState)(null);if(q)throw q;let{structureContext:u,rootPaneNode:x}=(0,g.useStructureTool)(),{navigate:z}=(0,i.useRouter)();p[0]===Symbol.for("react.memo_cache_sentinel")?(a={paneDataItems:[],resolvedPanes:[],routerPanes:[]},p[0]=a):a=p[0];let[F,G]=(0,d.useState)(a),H=function(){let a,b,e,f=(0,c.c)(6),[g]=(0,d.useState)(D);f[0]!==g?(a=g.asObservable().pipe((0,m.map)(C)),f[0]=g,f[1]=a):a=f[1];let h=a,{state:j}=(0,i.useRouter)();return f[2]!==j||f[3]!==g?(b=()=>{g.next(j)},e=[j,g],f[2]=j,f[3]=g,f[4]=b,f[5]=e):(b=f[4],e=f[5]),(0,d.useEffect)(b,e),h}();if(p[1]!==x||p[2]!==H||p[3]!==u?(b=()=>{let a=(function({routerPanesStream:a,rootPaneNode:b,initialCacheState:c={cacheKeysByFlatIndex:[],flattenedRouterPanes:[],resolvedPaneCache:new Map,resolvePane:()=>l.NEVER},structureContext:d}){return a.pipe((0,m.map)(a=>[[{id:"root"}],...a]),(0,m.map)(a=>a.flatMap((a,b)=>a.map((a,c)=>({routerPaneSibling:a,groupIndex:b,siblingIndex:c}))).map((a,b)=>({...a,flatIndex:b}))),(0,m.startWith)([]),(0,m.pairwise)(),(0,m.map)(([a,b])=>{for(let c=0;c<b.length;c++){let d=a[c],e=b[c];if(!(0,k.isEqual)(d,e))return{flattenedRouterPanes:b,diffIndex:c}}return{flattenedRouterPanes:b,diffIndex:b.length}}),(0,m.scan)((a,b)=>{let{cacheKeysByFlatIndex:c,resolvedPaneCache:d}=a,{flattenedRouterPanes:e,diffIndex:f}=b,h=c.slice(0,f+1),i=c.slice(f+1),j=new Set(h.flatMap(a=>Array.from(a)));for(let a of i.flatMap(a=>Array.from(a)).filter(a=>!j.has(a)))d.delete(a);return{flattenedRouterPanes:e,cacheKeysByFlatIndex:c,resolvedPaneCache:d,resolvePane:w(a=>(b,e,f)=>{let h=b&&`${(0,g.assignId)(b)}-contextHash(${JSON.stringify({id:e.id,parentId:parent&&(0,g.assignId)(parent),path:e.path,index:e.index,splitIndex:e.splitIndex,serializeOptionsIndex:e.serializeOptions?.index,serializeOptionsPath:e.serializeOptions?.path})})`,i=h&&d.get(h);if(i)return i;let j=a(b,e,f);if(!h)return j;let k=c[f]||new Set;return k.add(h),c[f]=k,d.set(h,j),j})}},c),(0,m.switchMap)(({flattenedRouterPanes:a,resolvePane:c})=>(function a({unresolvedPane:b,flattenedRouterPanes:c,parent:d,path:e,resolvePane:f,structureContext:g}){let[h,...i]=c,j=i[0],k={id:h.routerPaneSibling.id,splitIndex:h.siblingIndex,parent:d,path:[...e,h.routerPaneSibling.id],index:h.flatIndex,params:h.routerPaneSibling.params||{},payload:h.routerPaneSibling.payload,structureContext:g};try{return f(b,k,h.flatIndex).pipe((0,m.switchMap)(c=>{let n,o={type:"resolvedMeta",...h,paneNode:c,path:k.path},p=i.map((a,b)=>({type:"loading",path:[...k.path,...i.slice(b).map((b,c)=>`[${a.flatIndex+c}]`)],paneNode:null,...a}));return i.length?(n=j?.routerPaneSibling.id.startsWith("__edit__")?a({unresolvedPane:A,flattenedRouterPanes:i,parent:d,path:k.path,resolvePane:f,structureContext:g}):h.groupIndex===j?.groupIndex?a({unresolvedPane:b,flattenedRouterPanes:i,parent:d,path:e,resolvePane:f,structureContext:g}):a({unresolvedPane:"function"==typeof c.child?y(c,"child"):c.child,flattenedRouterPanes:i,parent:c,path:k.path,resolvePane:f,structureContext:g}),(0,l.concat)((0,l.of)([o,...p]),n.pipe((0,m.map)(a=>[o,...a])))):(0,l.of)([o])}))}catch(a){if(a instanceof v&&(a.context&&console.warn(`Pane resolution error at index ${a.context.index}${a.context.splitIndex>0?` for split pane index ${a.context.splitIndex}`:""}: ${a.message}${a.helpId?` - see ${(0,o.generateHelpUrl)(a.helpId)}`:""}`,a),"structure-item-returned-no-child"===a.helpId))return(0,l.of)([]);throw a}})({unresolvedPane:b,flattenedRouterPanes:a,parent:null,path:[],resolvePane:c,structureContext:d}))).pipe((0,m.scan)((a,b)=>b.map((b,c)=>{let d=a[c];return d&&"loading"===b.type&&d.routerPaneSibling.id===b.routerPaneSibling.id?d:b}),[]),(0,m.distinctUntilChanged)((a,b)=>{if(a.length!==b.length)return!1;for(let c=0;c<b.length;c++){let d=a[c],e=b[c];if(B(d)!==B(e))return!1}return!0}))})({rootPaneNode:x,routerPanesStream:H,structureContext:u}).pipe((0,m.map)(E)).subscribe({next:a=>G(a),error:a=>r(a)});return()=>a.unsubscribe()},e=[x,H,u],p[1]=x,p[2]=H,p[3]=u,p[4]=b,p[5]=e):(b=p[4],e=p[5]),(0,d.useEffect)(b,e),p[6]!==F||p[7]!==z?(f=function(){let{paneDataItems:a,routerPanes:b}=F,c=a[a.length-1]?.pane;if(!c||c===g.LOADING_PANE||"document"!==c.type||!c.defaultPanes)return;let d=b[a.length-1];if(!d||1!==d.length)return;let e=d[0].params;if(e?.expanded)return;let f=c.defaultPanes.map((a,b)=>({id:d[0].id,params:{...e,view:a,...0===b?{expanded:"true"}:{}},payload:d[0].payload}));z({panes:[...b.slice(1,-1),f]},{replace:!0})},h=[F,z],p[6]=F,p[7]=z,p[8]=f,p[9]=h):(f=p[8],h=p[9]),(0,d.useEffect)(f,h),p[10]!==F.paneDataItems||p[11]!==s){let a;p[13]!==s?(a=a=>({...a,maximized:!!s&&a.key===s.key}),p[13]=s,p[14]=a):a=p[14],j=F.paneDataItems.map(a),p[10]=F.paneDataItems,p[11]=s,p[12]=j}else j=p[12];let I=j;return p[15]!==F||p[16]!==s||p[17]!==I?(n={...F,paneDataItems:I,maximizedPane:s,setMaximizedPane:t},p[15]=F,p[16]=s,p[17]=I,p[18]=n):n=p[18],n}(),{paneDataItems:af,resolvedPanes:ag,setMaximizedPane:ah,maximizedPane:ai}=ae,aj=(0,i.useRouterState)(Y),{sanity:ak}=(0,q.useTheme)(),{media:al}=ak,[am,an]=(0,d.useState)(null);Q[0]!==ad?(f=()=>ad(!0),Q[0]=ad,Q[1]=f):f=Q[1];let ao=f;Q[2]!==ad?(h=()=>ad(!1),Q[2]=ad,Q[3]=h):h=Q[3];let ap=h;if(Q[4]!==af){let a=af.findLastIndex(Z);j=-1===a?af:af.slice(a).filter(b=>b.groupIndex<=af[a].groupIndex),Q[4]=af,Q[5]=j}else j=Q[5];let aq=j;Q[6]!==R||Q[7]!==ag?(n=()=>{ag.length&&R(ag)},p=[R,ag],Q[6]=R,Q[7]=ag,Q[8]=n,Q[9]=p):(n=Q[8],p=Q[9]),(0,d.useEffect)(n,p),Q[10]!==T?(s=()=>{let a=a=>{W(a)&&(a.preventDefault(),T({closable:!0,id:"auto-save-message",status:"info",title:"Your work is automatically saved!",duration:4e3}))};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},t=[T],Q[10]=T,Q[11]=s,Q[12]=t):(s=Q[11],t=Q[12]),(0,d.useEffect)(s,t);let ar=U._original?.types.some(e._isCustomDocumentTypeDefinition);Q[13]!==X||Q[14]!==_?.panes||Q[15]!==ah?(x=a=>{if(!a)return;let b=_?.panes||[];if(a.maximized){ah(null),X({panes:b});return}if(a.pane!==g.LOADING_PANE&&"document"===a.pane.type){let c=b.slice(0,a.groupIndex);ah(a),X({panes:c})}},Q[13]=X,Q[14]=_?.panes,Q[15]=ah,Q[16]=x):x=Q[16];let as=x,at=(0,d.useRef)(-1);Q[17]!==X||Q[18]!==af||Q[19]!==_?.panes||Q[20]!==ah?(z=()=>{let a=af.find($);a&&(a.pane!==g.LOADING_PANE&&"document"===a.pane.type&&ah(a),X({panes:(_?.panes||[]).map(aa)},{replace:!0}))},Q[17]=X,Q[18]=af,Q[19]=_?.panes,Q[20]=ah,Q[21]=z):z=Q[21];let au=_?.panes;if(Q[22]!==X||Q[23]!==af||Q[24]!==ah||Q[25]!==au?(F=[X,af,au,ah],Q[22]=X,Q[23]=af,Q[24]=ah,Q[25]=au,Q[26]=F):F=Q[26],(0,d.useEffect)(z,F),Q[27]!==ai||Q[28]!==af||Q[29]!==ah?(G=()=>{let a=af.findIndex(ab),b=at.current;if(at.current=a,ai){if(ai.pane!==g.LOADING_PANE&&"document"!==ai.pane.type)return void ah(null);if(-1!==a&&a!==b)return void ah(af[a]);af.some(a=>a.key===ai.key)||ah(af.find(a=>a.groupIndex===ai.groupIndex&&a.siblingIndex===ai.siblingIndex&&a.pane!==g.LOADING_PANE&&"document"===a.pane.type)||null)}},H=[ai,af,ah],Q[27]=ai,Q[28]=af,Q[29]=ah,Q[30]=G,Q[31]=H):(G=Q[30],H=Q[31]),(0,d.useEffect)(G,H),!ar){let a;return Q[32]===Symbol.for("react.memo_cache_sentinel")?(a=(0,b.jsx)(P,{}),Q[32]=a):a=Q[32],a}let av=am||null,aw=ac?void 0:"fill",ax=al[1];if(Q[33]!==as||Q[34]!==aq){let a;Q[36]!==as?(a=a=>{let{active:c,childItemId:e,groupIndex:f,itemId:h,key:i,pane:j,index:k,params:l,path:m,payload:n,siblingIndex:o,selected:p,maximized:q}=a;return(0,b.jsx)(d.Fragment,{children:j===g.LOADING_PANE?(0,b.jsx)(g.LoadingPane,{paneKey:i,path:m,selected:p}):(0,b.jsx)(g.StructureToolPane,{active:c,groupIndex:f,index:k,pane:j,childItemId:e,itemId:h,paneKey:i,params:l,payload:n,path:m,selected:p,siblingIndex:o,maximized:q,onSetMaximizedPane:()=>as(a)})},`${j===g.LOADING_PANE?"loading":j.type}-${k}`)},Q[36]=as,Q[37]=a):a=Q[37],I=aq.map(a),Q[33]=as,Q[34]=aq,Q[35]=I}else I=Q[35];return Q[38]!==aj||Q[39]!==af.length?(J=af.length<=1&&aj&&(0,b.jsx)(g.LoadingPane,{paneKey:"intent-resolver"}),Q[38]=aj,Q[39]=af.length,Q[40]=J):J=Q[40],Q[41]!==ao||Q[42]!==ap||Q[43]!==al[1]||Q[44]!==aw||Q[45]!==I||Q[46]!==J?(K=(0,b.jsxs)(V,{flex:1,height:aw,minWidth:ax,onCollapse:ao,onExpand:ap,children:[I,J]}),Q[41]=ao,Q[42]=ap,Q[43]=al[1],Q[44]=aw,Q[45]=I,Q[46]=J,Q[47]=K):K=Q[47],Q[48]!==ag?(L=(0,b.jsx)(S,{resolvedPanes:ag}),Q[48]=ag,Q[49]=L):L=Q[49],Q[50]===Symbol.for("react.memo_cache_sentinel")?(M=(0,b.jsx)("div",{"data-portal":"",ref:an}),Q[50]=M):M=Q[50],Q[51]!==av||Q[52]!==K||Q[53]!==L?(N=(0,b.jsxs)(q.PortalProvider,{element:av,children:[K,L,M]}),Q[51]=av,Q[52]=K,Q[53]=L,Q[54]=N):N=Q[54],Q[55]!==ae||Q[56]!==N?(O=(0,b.jsx)(u.ResolvedPanesProvider,{value:ae,children:N}),Q[55]=ae,Q[56]=N,Q[57]=O):O=Q[57],O});function Y(a){return"string"==typeof a.intent}function Z(a){return a.maximized}function $(a){return a.params?.mode==="focus"}function _(a){let{mode:b,...c}=a.params||{},d=Object.keys(c).length?c:void 0;return{...a,params:d}}function aa(a){return a.map(_)}function ab(a){return a.selected}function ac(a){let i,j,k,l,m,n,o,p=(0,c.c)(14),{tool:q}=a,{options:r}=q,{unstable_sources:s}=(0,e.useWorkspace)(),[t]=s;p[0]!==r?(i=r||{},p[0]=r,p[1]=i):i=p[1];let{source:u,defaultDocumentNode:v,structure:w}=i;p[2]===Symbol.for("react.memo_cache_sentinel")?(j=[],p[2]=j):j=p[2],(0,d.useEffect)(ad,j),p[3]===Symbol.for("react.memo_cache_sentinel")?(k={error:null},p[3]=k):k=p[3];let[x,y]=(0,d.useState)(k),{error:z}=x;if(z){let a;return p[4]!==z?(a=(0,b.jsx)(M,{error:z}),p[4]=z,p[5]=a):a=p[5],a}let A=u||t.name;return p[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,b.jsx)(X,{onPaneChange:g.setActivePanes}),m=(0,b.jsx)(J,{}),p[6]=l,p[7]=m):(l=p[6],m=p[7]),p[8]!==v||p[9]!==w?(n=(0,b.jsxs)(h.StructureToolProvider,{defaultDocumentNode:v,structure:w,children:[l,m]}),p[8]=v,p[9]=w,p[10]=n):n=p[10],p[11]!==A||p[12]!==n?(o=(0,b.jsx)(f.ErrorBoundary,{onCatch:y,children:(0,b.jsx)(e.SourceProvider,{name:A,children:n})}),p[11]=A,p[12]=n,p[13]=o):o=p[13],o}function ad(){return(0,g.setActivePanes)([]),ae}function ae(){return(0,g.setActivePanes)([])}a.s(["default",()=>ac])}];

//# sourceMappingURL=node_modules_sanity_lib__chunks-es_index4_b53b6394.js.map